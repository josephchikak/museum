{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"isEligibleRequest.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/fetchAPI-multipart/isEligibleRequest.ts"],"sourcesContent":["const ACCEPTABLE_CONTENT_TYPE = /multipart\\/['\"()+-_]+(?:; ?['\"()+-_]*)+$/i\nconst UNACCEPTABLE_METHODS = new Set(['GET', 'HEAD', 'DELETE', 'OPTIONS', 'CONNECT', 'TRACE'])\n\nconst hasBody = (req: Request): boolean => {\n  return Boolean(\n    req.headers.get('transfer-encoding') ||\n      (req.headers.get('content-length') && req.headers.get('content-length') !== '0'),\n  )\n}\n\nconst hasAcceptableMethod = (req: Request): boolean => !UNACCEPTABLE_METHODS.has(req.method)\n\nconst hasAcceptableContentType = (req: Request): boolean => {\n  const contType = req.headers.get('content-type')\n  return contType.includes('boundary=') && ACCEPTABLE_CONTENT_TYPE.test(contType)\n}\n\nexport const isEligibleRequest = (req: Request): boolean => {\n  try {\n    return hasBody(req) && hasAcceptableMethod(req) && hasAcceptableContentType(req)\n  } catch (e) {\n    return false\n  }\n}\n"],"names":["ACCEPTABLE_CONTENT_TYPE","UNACCEPTABLE_METHODS","Set","hasBody","req","Boolean","headers","get","hasAcceptableMethod","has","method","hasAcceptableContentType","contType","includes","test","isEligibleRequest","e"],"mappings":";;;AAAA,MAAMA,uBAAA,GAA0B;AAChC,MAAMC,oBAAA,GAAuB,IAAIC,GAAA,CAAI;IAAC;IAAO;IAAQ;IAAU;IAAW;IAAW;CAAQ;AAE7F,MAAMC,OAAA,IAAWC,GAAA;IACf,OAAOC,OAAA,CACLD,GAAA,CAAIE,OAAO,CAACC,GAAG,CAAC,wBACbH,GAAA,CAAIE,OAAO,CAACC,GAAG,CAAC,qBAAqBH,GAAA,CAAIE,OAAO,CAACC,GAAG,CAAC,sBAAsB;AAElF;AAEA,MAAMC,mBAAA,IAAuBJ,GAAA,GAA0B,CAACH,oBAAA,CAAqBQ,GAAG,CAACL,GAAA,CAAIM,MAAM;AAE3F,MAAMC,wBAAA,IAA4BP,GAAA;IAChC,MAAMQ,QAAA,GAAWR,GAAA,CAAIE,OAAO,CAACC,GAAG,CAAC;IACjC,OAAOK,QAAA,CAASC,QAAQ,CAAC,gBAAgBb,uBAAA,CAAwBc,IAAI,CAACF,QAAA;AACxE;AAEO,MAAMG,iBAAA,IAAqBX,GAAA;IAChC,IAAI;QACF,OAAOD,OAAA,CAAQC,GAAA,KAAQI,mBAAA,CAAoBJ,GAAA,KAAQO,wBAAA,CAAyBP,GAAA;IAC9E,EAAE,OAAOY,CAAA,EAAG;QACV,OAAO;IACT;AACF"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"file":"utilities.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/fetchAPI-multipart/utilities.ts"],"sourcesContent":["import type { FetchAPIFileUploadOptions } from 'payload'\n\nimport fs from 'fs'\nimport path from 'path'\nimport { Readable } from 'stream'\n\n// Parameters for safe file name parsing.\nconst SAFE_FILE_NAME_REGEX = /[^\\w-]/g\nconst MAX_EXTENSION_LENGTH = 3\n\n// Parameters to generate unique temporary file names:\nconst TEMP_COUNTER_MAX = 65536\nconst TEMP_PREFIX = 'tmp'\nlet tempCounter = 0\n\n/**\n * Logs message to console if options.debug option set to true.\n */\nexport const debugLog = (options: FetchAPIFileUploadOptions, msg: string) => {\n  const opts = options || {}\n  if (!opts.debug) {\n    return false\n  }\n  console.log(`Next-file-upload: ${msg}`) // eslint-disable-line\n  return true\n}\n\n/**\n * Generates unique temporary file name. e.g. tmp-5000-156788789789.\n */\nexport const getTempFilename = (prefix: string = TEMP_PREFIX) => {\n  tempCounter = tempCounter >= TEMP_COUNTER_MAX ? 1 : tempCounter + 1\n  return `${prefix}-${tempCounter}-${Date.now()}`\n}\n\ntype FuncType = (...args: any[]) => any\nexport const isFunc = (value: any): value is FuncType => {\n  return typeof value === 'function'\n}\n\n/**\n * Set errorFunc to the same value as successFunc for callback mode.\n */\ntype ErrorFunc = (resolve: () => void, reject: (err: Error) => void) => (err: Error) => void\nconst errorFunc: ErrorFunc = (resolve, reject) => (isFunc(reject) ? reject : resolve)\n\n/**\n * Return a callback function for promise resole/reject args.\n * Ensures that callback is called only once.\n */\ntype PromiseCallback = (resolve: () => void, reject: (err: Error) => void) => (err: Error) => void\nexport const promiseCallback: PromiseCallback = (resolve, reject) => {\n  let hasFired = false\n  return (err: Error) => {\n    if (hasFired) {\n      return\n    }\n\n    hasFired = true\n    return err ? errorFunc(resolve, reject)(err) : resolve()\n  }\n}\n\n// The default prototypes for both objects and arrays.\n// Used by isSafeFromPollution\nconst OBJECT_PROTOTYPE_KEYS = Object.getOwnPropertyNames(Object.prototype)\nconst ARRAY_PROTOTYPE_KEYS = Object.getOwnPropertyNames(Array.prototype)\n\n/**\n * Determines whether a key insertion into an object could result in a prototype pollution\n */\ntype IsSafeFromPollution = (base: any, key: string) => boolean\nexport const isSafeFromPollution: IsSafeFromPollution = (base, key) => {\n  // We perform an instanceof check instead of Array.isArray as the former is more\n  // permissive for cases in which the object as an Array prototype but was not constructed\n  // via an Array constructor or literal.\n  const TOUCHES_ARRAY_PROTOTYPE = base instanceof Array && ARRAY_PROTOTYPE_KEYS.includes(key)\n  const TOUCHES_OBJECT_PROTOTYPE = OBJECT_PROTOTYPE_KEYS.includes(key)\n\n  return !TOUCHES_ARRAY_PROTOTYPE && !TOUCHES_OBJECT_PROTOTYPE\n}\n\n/**\n * Build request field/file objects to return\n */\ntype BuildFields = (instance: any, field: string, value: any) => any\nexport const buildFields: BuildFields = (instance, field, value) => {\n  // Do nothing if value is not set.\n  if (value === null || value === undefined) {\n    return instance\n  }\n  instance = instance || Object.create(null)\n\n  if (!isSafeFromPollution(instance, field)) {\n    return instance\n  }\n  // Non-array fields\n  if (!instance[field]) {\n    instance[field] = value\n    return instance\n  }\n  // Array fields\n  if (instance[field] instanceof Array) {\n    instance[field].push(value)\n  } else {\n    instance[field] = [instance[field], value]\n  }\n  return instance\n}\n\n/**\n * Creates a folder if it does not exist\n * for file specified in the path variable\n */\ntype CheckAndMakeDir = (fileUploadOptions: FetchAPIFileUploadOptions, filePath: string) => boolean\nexport const checkAndMakeDir: CheckAndMakeDir = (fileUploadOptions, filePath) => {\n  if (!fileUploadOptions.createParentPath) {\n    return false\n  }\n  // Check whether folder for the file exists.\n  const parentPath = path.dirname(filePath)\n  // Create folder if it doesn't exist.\n  if (!fs.existsSync(parentPath)) {\n    fs.mkdirSync(parentPath, { recursive: true })\n  }\n  // Checks folder again and return a results.\n  return fs.existsSync(parentPath)\n}\n\n/**\n * Delete a file.\n */\ntype DeleteFile = (filePath: string, callback: (args: any) => void) => void\nexport const deleteFile: DeleteFile = (filePath, callback: (args) => void) =>\n  fs.unlink(filePath, callback)\n\n/**\n * Copy file via streams\n */\ntype CopyFile = (src: string, dst: string, callback: (err: Error) => void) => void\nconst copyFile: CopyFile = (src, dst, callback) => {\n  // cbCalled flag and runCb helps to run cb only once.\n  let cbCalled = false\n  const runCb = (err?: Error) => {\n    if (cbCalled) {\n      return\n    }\n    cbCalled = true\n    callback(err)\n  }\n  // Create read stream\n  const readable = fs.createReadStream(src)\n  readable.on('error', runCb)\n  // Create write stream\n  const writable = fs.createWriteStream(dst)\n  writable.on('error', (err: Error) => {\n    readable.destroy()\n    runCb(err)\n  })\n  writable.on('close', () => runCb())\n  // Copy file via piping streams.\n  readable.pipe(writable)\n}\n\n/**\n * moveFile: moves the file from src to dst.\n * Firstly trying to rename the file if no luck copying it to dst and then deleting src.\n */\ntype MoveFile = (\n  src: string,\n  dst: string,\n  callback: (err: Error, renamed?: boolean) => void,\n) => void\nexport const moveFile: MoveFile = (src, dst, callback) =>\n  fs.rename(src, dst, (err) => {\n    if (err) {\n      // Try to copy file if rename didn't work.\n      copyFile(src, dst, (cpErr) => (cpErr ? callback(cpErr) : deleteFile(src, callback)))\n      return\n    }\n    // File was renamed successfully: Add true to the callback to indicate that.\n    callback(null, true)\n  })\n\n/**\n * Save buffer data to a file.\n * @param {Buffer} buffer - buffer to save to a file.\n * @param {string} filePath - path to a file.\n */\nexport const saveBufferToFile = (buffer, filePath, callback) => {\n  if (!Buffer.isBuffer(buffer)) {\n    return callback(new Error('buffer variable should be type of Buffer!'))\n  }\n  // Setup readable stream from buffer.\n  let streamData = buffer\n  const readStream = new Readable()\n  readStream._read = () => {\n    readStream.push(streamData)\n    streamData = null\n  }\n  // Setup file system writable stream.\n  const fstream = fs.createWriteStream(filePath)\n  // console.log(\"Calling saveBuffer\");\n  fstream.on('error', (err) => {\n    // console.log(\"err cb\")\n    callback(err)\n  })\n  fstream.on('close', () => {\n    // console.log(\"close cb\");\n    callback()\n  })\n  // Copy file via piping streams.\n  readStream.pipe(fstream)\n}\n\n/**\n * Decodes uriEncoded file names.\n * @param {Object} opts - middleware options.\n * @param fileName {String} - file name to decode.\n * @returns {String}\n */\nconst uriDecodeFileName = (opts, fileName) => {\n  if (!opts || !opts.uriDecodeFileNames) {\n    return fileName\n  }\n  // Decode file name from URI with checking URI malformed errors.\n  // See Issue https://github.com/richardgirges/express-fileupload/issues/342.\n  try {\n    return decodeURIComponent(fileName)\n  } catch (err) {\n    const matcher = /(%[a-f\\d]{2})/gi\n    return fileName\n      .split(matcher)\n      .map((str) => {\n        try {\n          return decodeURIComponent(str)\n        } catch (err) {\n          return ''\n        }\n      })\n      .join('')\n  }\n}\n\n/**\n * Parses filename and extension and returns object {name, extension}.\n */\ntype ParseFileNameExtension = (\n  preserveExtension: boolean | number,\n  fileName: string,\n) => {\n  extension: string\n  name: string\n}\nexport const parseFileNameExtension: ParseFileNameExtension = (preserveExtension, fileName) => {\n  const defaultResult = {\n    name: fileName,\n    extension: '',\n  }\n  if (!preserveExtension) {\n    return defaultResult\n  }\n\n  // Define maximum extension length\n  const maxExtLength =\n    typeof preserveExtension === 'boolean' ? MAX_EXTENSION_LENGTH : preserveExtension\n\n  const nameParts = fileName.split('.')\n  if (nameParts.length < 2) {\n    return defaultResult\n  }\n\n  let extension = nameParts.pop()\n  if (extension.length > maxExtLength && maxExtLength > 0) {\n    nameParts[nameParts.length - 1] += '.' + extension.substr(0, extension.length - maxExtLength)\n    extension = extension.substr(-maxExtLength)\n  }\n\n  return {\n    name: nameParts.join('.'),\n    extension: maxExtLength ? extension : '',\n  }\n}\n\n/**\n * Parse file name and extension.\n */\ntype ParseFileName = (opts: FetchAPIFileUploadOptions, fileName: string) => string\nexport const parseFileName: ParseFileName = (opts, fileName) => {\n  // Check fileName argument\n  if (!fileName || typeof fileName !== 'string') {\n    return getTempFilename()\n  }\n  // Cut off file name if it's length more then 255.\n  let parsedName = fileName.length <= 255 ? fileName : fileName.substr(0, 255)\n  // Decode file name if uriDecodeFileNames option set true.\n  parsedName = uriDecodeFileName(opts, parsedName)\n  // Stop parsing file name if safeFileNames options hasn't been set.\n  if (!opts.safeFileNames) {\n    return parsedName\n  }\n  // Set regular expression for the file name.\n  const nameRegex =\n    typeof opts.safeFileNames === 'object' && opts.safeFileNames instanceof RegExp\n      ? opts.safeFileNames\n      : SAFE_FILE_NAME_REGEX\n  // Parse file name extension.\n  const parsedFileName = parseFileNameExtension(opts.preserveExtension, parsedName)\n  if (parsedFileName.extension.length) {\n    parsedFileName.extension = '.' + parsedFileName.extension.replace(nameRegex, '')\n  }\n\n  return parsedFileName.name.replace(nameRegex, '').concat(parsedFileName.extension)\n}\n"],"names":["fs","path","Readable","SAFE_FILE_NAME_REGEX","MAX_EXTENSION_LENGTH","TEMP_COUNTER_MAX","TEMP_PREFIX","tempCounter","debugLog","options","msg","opts","debug","console","log","getTempFilename","prefix","Date","now","isFunc","value","errorFunc","resolve","reject","promiseCallback","hasFired","err","OBJECT_PROTOTYPE_KEYS","Object","getOwnPropertyNames","prototype","ARRAY_PROTOTYPE_KEYS","Array","isSafeFromPollution","base","key","TOUCHES_ARRAY_PROTOTYPE","includes","TOUCHES_OBJECT_PROTOTYPE","buildFields","instance","field","undefined","create","push","checkAndMakeDir","fileUploadOptions","filePath","createParentPath","parentPath","dirname","existsSync","mkdirSync","recursive","deleteFile","callback","unlink","copyFile","src","dst","cbCalled","runCb","readable","createReadStream","on","writable","createWriteStream","destroy","pipe","moveFile","rename","cpErr","saveBufferToFile","buffer","Buffer","isBuffer","Error","streamData","readStream","_read","fstream","uriDecodeFileName","fileName","uriDecodeFileNames","decodeURIComponent","matcher","split","map","str","join","parseFileNameExtension","preserveExtension","defaultResult","name","extension","maxExtLength","nameParts","length","pop","substr","parseFileName","parsedName","safeFileNames","nameRegex","RegExp","parsedFileName","replace","concat"],"mappings":"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"}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"file":"fileFactory.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/fetchAPI-multipart/fileFactory.ts"],"sourcesContent":["import type { FetchAPIFileUploadOptions } from 'payload'\n\nimport type { FileShape } from './index.js'\n\nimport {\n  checkAndMakeDir,\n  debugLog,\n  isFunc,\n  moveFile,\n  promiseCallback,\n  saveBufferToFile,\n} from './utilities.js'\n\ntype MoveFile = (\n  filePath: string,\n  options: FileFactoryOptions,\n  fileUploadOptions: FetchAPIFileUploadOptions,\n) => (resolve: () => void, reject: () => void) => void\n\n/**\n * Returns Local function that moves the file to a different location on the filesystem\n * which takes two function arguments to make it compatible w/ Promise or Callback APIs\n */\nconst moveFromTemp: MoveFile = (filePath, options, fileUploadOptions) => (resolve, reject) => {\n  debugLog(fileUploadOptions, `Moving temporary file ${options.tempFilePath} to ${filePath}`)\n  moveFile(options.tempFilePath, filePath, promiseCallback(resolve, reject))\n}\n\n/**\n * Returns Local function that moves the file from buffer to a different location on the filesystem\n * which takes two function arguments to make it compatible w/ Promise or Callback APIs\n */\nconst moveFromBuffer: MoveFile = (filePath, options, fileUploadOptions) => (resolve, reject) => {\n  debugLog(fileUploadOptions, `Moving uploaded buffer to ${filePath}`)\n  saveBufferToFile(options.buffer, filePath, promiseCallback(resolve, reject))\n}\n\ntype FileFactoryOptions = {\n  buffer: Buffer\n  encoding: string\n  hash: Buffer | string\n  mimetype: string\n  name: string\n  size: number\n  tempFilePath: string\n  truncated: boolean\n}\ntype FileFactory = (\n  options: FileFactoryOptions,\n  fileUploadOptions: FetchAPIFileUploadOptions,\n) => FileShape\nexport const fileFactory: FileFactory = (options, fileUploadOptions) => {\n  // see: https://github.com/richardgirges/express-fileupload/issues/14\n  // firefox uploads empty file in case of cache miss when f5ing page.\n  // resulting in unexpected behavior. if there is no file data, the file is invalid.\n  // if (!fileUploadOptions.useTempFiles && !options.buffer.length) return;\n\n  // Create and return file object.\n  return {\n    name: options.name,\n    data: options.buffer,\n    encoding: options.encoding,\n    md5: options.hash,\n    mimetype: options.mimetype,\n    mv: (filePath: string, callback) => {\n      // Define a proper move function.\n      const moveFunc = fileUploadOptions.useTempFiles\n        ? moveFromTemp(filePath, options, fileUploadOptions)\n        : moveFromBuffer(filePath, options, fileUploadOptions)\n      // Create a folder for a file.\n      checkAndMakeDir(fileUploadOptions, filePath)\n      // If callback is passed in, use the callback API, otherwise return a promise.\n      const defaultReject = () => undefined\n      return isFunc(callback) ? moveFunc(callback, defaultReject) : new Promise(moveFunc)\n    },\n    size: options.size,\n    tempFilePath: options.tempFilePath,\n    truncated: options.truncated,\n  }\n}\n"],"names":["checkAndMakeDir","debugLog","isFunc","moveFile","promiseCallback","saveBufferToFile","moveFromTemp","filePath","options","fileUploadOptions","resolve","reject","tempFilePath","moveFromBuffer","buffer","fileFactory","name","data","encoding","md5","hash","mimetype","mv","callback","moveFunc","useTempFiles","defaultReject","undefined","Promise","size","truncated"],"mappings":";;;AAIA,SACEA,eAAe,EACfC,QAAQ,EACRC,MAAM,EACNC,QAAQ,EACRC,eAAe,EACfC,gBAAgB,QACX;;AAQP;;;IAIA,MAAMC,YAAA,GAAyBA,CAACC,QAAA,EAAUC,OAAA,EAASC,iBAAA,GAAsB,CAACC,OAAA,EAASC,MAAA;+LACjFV,WAAAA,AAAA,EAASQ,iBAAA,EAAmB,CAAA,sBAAA,EAAyBD,OAAA,CAAQI,YAAY,CAAA,IAAA,EAAOL,QAAA,EAAU;YAC1FJ,8LAAAA,AAAA,EAASK,OAAA,CAAQI,YAAY,EAAEL,QAAA,yLAAUH,kBAAAA,AAAA,EAAgBM,OAAA,EAASC,MAAA;IACpE;AAEA;;;IAIA,MAAME,cAAA,GAA2BA,CAACN,QAAA,EAAUC,OAAA,EAASC,iBAAA,GAAsB,CAACC,OAAA,EAASC,MAAA;QACnFV,kMAAAA,AAAA,EAASQ,iBAAA,EAAmB,CAAA,0BAAA,EAA6BF,QAAA,EAAU;+LACnEF,mBAAAA,AAAA,EAAiBG,OAAA,CAAQM,MAAM,EAAEP,QAAA,EAAUH,yMAAAA,AAAA,EAAgBM,OAAA,EAASC,MAAA;IACtE;AAgBO,MAAMI,WAAA,GAA2BA,CAACP,OAAA,EAASC,iBAAA;IAChD,qEAAA;IACA,oEAAA;IACA,mFAAA;IACA,yEAAA;IAEA,iCAAA;IACA,OAAO;QACLO,IAAA,EAAMR,OAAA,CAAQQ,IAAI;QAClBC,IAAA,EAAMT,OAAA,CAAQM,MAAM;QACpBI,QAAA,EAAUV,OAAA,CAAQU,QAAQ;QAC1BC,GAAA,EAAKX,OAAA,CAAQY,IAAI;QACjBC,QAAA,EAAUb,OAAA,CAAQa,QAAQ;QAC1BC,EAAA,EAAIA,CAACf,QAAA,EAAkBgB,QAAA;YACrB,iCAAA;YACA,MAAMC,QAAA,GAAWf,iBAAA,CAAkBgB,YAAY,GAC3CnB,YAAA,CAAaC,QAAA,EAAUC,OAAA,EAASC,iBAAA,IAChCI,cAAA,CAAeN,QAAA,EAAUC,OAAA,EAASC,iBAAA;YACtC,8BAAA;mMACAT,kBAAAA,AAAA,EAAgBS,iBAAA,EAAmBF,QAAA;YACnC,8EAAA;YACA,MAAMmB,aAAA,GAAgBA,CAAA,GAAMC,SAAA;YAC5B,8LAAOzB,SAAAA,AAAA,EAAOqB,QAAA,IAAYC,QAAA,CAASD,QAAA,EAAUG,aAAA,IAAiB,IAAIE,OAAA,CAAQJ,QAAA;QAC5E;QACAK,IAAA,EAAMrB,OAAA,CAAQqB,IAAI;QAClBjB,YAAA,EAAcJ,OAAA,CAAQI,YAAY;QAClCkB,SAAA,EAAWtB,OAAA,CAAQsB,SAAAA;IACrB;AACF"}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"file":"handlers.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/fetchAPI-multipart/handlers.ts"],"sourcesContent":["import type { FetchAPIFileUploadOptions } from 'payload'\n\nimport crypto from 'crypto'\nimport fs, { WriteStream } from 'fs'\nimport path from 'path'\n\nimport { checkAndMakeDir, debugLog, deleteFile, getTempFilename } from './utilities.js'\n\ntype Handler = (\n  options: FetchAPIFileUploadOptions,\n  fieldname: string,\n  filename: string,\n) => {\n  cleanup: () => void\n  complete: () => Buffer\n  dataHandler: (data: Buffer) => void\n  getFilePath: () => string\n  getFileSize: () => number\n  getHash: () => string\n  getWritePromise: () => Promise<boolean>\n}\n\nexport const tempFileHandler: Handler = (options, fieldname, filename) => {\n  const dir = path.normalize(options.tempFileDir)\n  const tempFilePath = path.join(process.cwd(), dir, getTempFilename())\n  checkAndMakeDir({ createParentPath: true }, tempFilePath)\n\n  debugLog(options, `Temporary file path is ${tempFilePath}`)\n\n  const hash = crypto.createHash('md5')\n  let fileSize = 0\n  let completed = false\n\n  debugLog(options, `Opening write stream for ${fieldname}->${filename}...`)\n  const writeStream = fs.createWriteStream(tempFilePath)\n  const writePromise = new Promise<boolean>((resolve, reject) => {\n    writeStream.on('finish', () => resolve(true))\n    writeStream.on('error', (err) => {\n      debugLog(options, `Error write temp file: ${err}`)\n      reject(err)\n    })\n  })\n\n  return {\n    cleanup: () => {\n      completed = true\n      debugLog(options, `Cleaning up temporary file ${tempFilePath}...`)\n      writeStream.end()\n      deleteFile(tempFilePath, (err) =>\n        err\n          ? debugLog(options, `Cleaning up temporary file ${tempFilePath} failed: ${err}`)\n          : debugLog(options, `Cleaning up temporary file ${tempFilePath} done.`),\n      )\n    },\n    complete: () => {\n      completed = true\n      debugLog(options, `Upload ${fieldname}->${filename} completed, bytes:${fileSize}.`)\n      if (writeStream instanceof WriteStream) {\n        writeStream.end()\n      }\n      // Return empty buff since data was uploaded into a temp file.\n      return Buffer.concat([])\n    },\n    dataHandler: (data) => {\n      if (completed === true) {\n        debugLog(options, `Error: got ${fieldname}->${filename} data chunk for completed upload!`)\n        return\n      }\n      writeStream.write(data)\n      hash.update(data)\n      fileSize += data.length\n      debugLog(options, `Uploading ${fieldname}->${filename}, bytes:${fileSize}...`)\n    },\n    getFilePath: () => tempFilePath,\n    getFileSize: () => fileSize,\n    getHash: () => hash.digest('hex'),\n    getWritePromise: () => writePromise,\n  }\n}\n\nexport const memHandler: Handler = (options, fieldname, filename) => {\n  const buffers: Buffer[] = []\n  const hash = crypto.createHash('md5')\n  let fileSize = 0\n  let completed = false\n\n  const getBuffer = () => Buffer.concat(buffers, fileSize)\n\n  return {\n    cleanup: () => {\n      completed = true\n    },\n    complete: () => {\n      debugLog(options, `Upload ${fieldname}->${filename} completed, bytes:${fileSize}.`)\n      completed = true\n      return getBuffer()\n    },\n    dataHandler: (data) => {\n      if (completed === true) {\n        debugLog(options, `Error: got ${fieldname}->${filename} data chunk for completed upload!`)\n        return\n      }\n      buffers.push(data)\n      hash.update(data)\n      fileSize += data.length\n      debugLog(options, `Uploading ${fieldname}->${filename}, bytes:${fileSize}...`)\n    },\n    getFilePath: () => '',\n    getFileSize: () => fileSize,\n    getHash: () => hash.digest('hex'),\n    getWritePromise: () => Promise.resolve(true),\n  }\n}\n"],"names":["crypto","fs","WriteStream","path","checkAndMakeDir","debugLog","deleteFile","getTempFilename","tempFileHandler","options","fieldname","filename","dir","normalize","tempFileDir","tempFilePath","join","process","cwd","createParentPath","hash","createHash","fileSize","completed","writeStream","createWriteStream","writePromise","Promise","resolve","reject","on","err","cleanup","end","complete","Buffer","concat","dataHandler","data","write","update","length","getFilePath","getFileSize","getHash","digest","getWritePromise","memHandler","buffers","getBuffer","push"],"mappings":"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"}},
    {"offset": {"line": 425, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 431, "column": 0}, "map": {"version":3,"file":"processNested.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/fetchAPI-multipart/processNested.ts"],"sourcesContent":["import { isSafeFromPollution } from './utilities.js'\n\nexport const processNested = function (data) {\n  if (!data || data.length < 1) {\n    return Object.create(null)\n  }\n\n  const d = Object.create(null),\n    keys = Object.keys(data)\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i],\n      keyParts = key.replace(new RegExp(/\\[/g), '.').replace(new RegExp(/\\]/g), '').split('.'),\n      value = data[key]\n    let current = d\n\n    for (let index = 0; index < keyParts.length; index++) {\n      const k = keyParts[index]\n\n      // Ensure we don't allow prototype pollution\n      if (!isSafeFromPollution(current, k)) {\n        continue\n      }\n\n      if (index >= keyParts.length - 1) {\n        current[k] = value\n      } else {\n        if (!current[k]) {\n          current[k] = !keyParts[index + 1] ? [] : Object.create(null)\n        }\n        current = current[k]\n      }\n    }\n  }\n  return d\n}\n"],"names":["isSafeFromPollution","processNested","data","length","Object","create","d","keys","i","key","keyParts","replace","RegExp","split","value","current","index","k"],"mappings":";;;AAAA,SAASA,mBAAmB,QAAQ;;AAE7B,MAAMC,aAAA,GAAgB,SAAAA,AAAUC,IAAI;IACzC,IAAI,CAACA,IAAA,IAAQA,IAAA,CAAKC,MAAM,GAAG,GAAG;QAC5B,OAAOC,MAAA,CAAOC,MAAM,CAAC;IACvB;IAEA,MAAMC,CAAA,GAAIF,MAAA,CAAOC,MAAM,CAAC,OACtBE,IAAA,GAAOH,MAAA,CAAOG,IAAI,CAACL,IAAA;IAErB,IAAK,IAAIM,CAAA,GAAI,GAAGA,CAAA,GAAID,IAAA,CAAKJ,MAAM,EAAEK,CAAA,GAAK;QACpC,MAAMC,GAAA,GAAMF,IAAI,CAACC,CAAA,CAAE,EACjBE,QAAA,GAAWD,GAAA,CAAIE,OAAO,CAAC,IAAIC,MAAA,CAAO,QAAQ,KAAKD,OAAO,CAAC,IAAIC,MAAA,CAAO,QAAQ,IAAIC,KAAK,CAAC,MACpFC,KAAA,GAAQZ,IAAI,CAACO,GAAA,CAAI;QACnB,IAAIM,OAAA,GAAUT,CAAA;QAEd,IAAK,IAAIU,KAAA,GAAQ,GAAGA,KAAA,GAAQN,QAAA,CAASP,MAAM,EAAEa,KAAA,GAAS;YACpD,MAAMC,CAAA,GAAIP,QAAQ,CAACM,KAAA,CAAM;YAEzB,4CAAA;YACA,IAAI,wLAAChB,sBAAAA,AAAA,EAAoBe,OAAA,EAASE,CAAA,GAAI;gBACpC;YACF;YAEA,IAAID,KAAA,IAASN,QAAA,CAASP,MAAM,GAAG,GAAG;gBAChCY,OAAO,CAACE,CAAA,CAAE,GAAGH,KAAA;YACf,OAAO;gBACL,IAAI,CAACC,OAAO,CAACE,CAAA,CAAE,EAAE;oBACfF,OAAO,CAACE,CAAA,CAAE,GAAG,CAACP,QAAQ,CAACM,KAAA,GAAQ,EAAE,GAAG,EAAE,GAAGZ,MAAA,CAAOC,MAAM,CAAC;gBACzD;gBACAU,OAAA,GAAUA,OAAO,CAACE,CAAA,CAAE;YACtB;QACF;IACF;IACA,OAAOX,CAAA;AACT"}},
    {"offset": {"line": 462, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 468, "column": 0}, "map": {"version":3,"file":"uploadTimer.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/fetchAPI-multipart/uploadTimer.ts"],"sourcesContent":["type CreateUploadTimer = (\n  timeout?: number,\n  callback?: () => void,\n) => {\n  clear: () => void\n  set: () => boolean\n}\n\nexport const createUploadTimer: CreateUploadTimer = (timeout = 0, callback = () => {}) => {\n  let timer = null\n\n  const clear = () => {\n    clearTimeout(timer)\n  }\n\n  const set = () => {\n    // Do not start a timer if zero timeout or it hasn't been set.\n    if (!timeout) {\n      return false\n    }\n    clear()\n    timer = setTimeout(callback, timeout)\n    return true\n  }\n\n  return { clear, set }\n}\n"],"names":["createUploadTimer","timeout","callback","timer","clear","clearTimeout","set","setTimeout"],"mappings":";;;AAQO,MAAMA,iBAAA,GAAuCA,CAACC,OAAA,GAAU,CAAC,EAAEC,QAAA,GAAWA,CAAA,IAAO,CAAC;IACnF,IAAIC,KAAA,GAAQ;IAEZ,MAAMC,KAAA,GAAQA,CAAA;QACZC,YAAA,CAAaF,KAAA;IACf;IAEA,MAAMG,GAAA,GAAMA,CAAA;QACV,8DAAA;QACA,IAAI,CAACL,OAAA,EAAS;YACZ,OAAO;QACT;QACAG,KAAA;QACAD,KAAA,GAAQI,UAAA,CAAWL,QAAA,EAAUD,OAAA;QAC7B,OAAO;IACT;IAEA,OAAO;QAAEG,KAAA;QAAOE;IAAI;AACtB"}},
    {"offset": {"line": 490, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"file":"processMultipart.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/fetchAPI-multipart/processMultipart.ts"],"sourcesContent":["import type { FetchAPIFileUploadOptions } from 'payload'\nimport type { Readable } from 'stream'\n\nimport Busboy from 'busboy'\nimport httpStatus from 'http-status'\nimport { APIError } from 'payload'\n\nimport type { FetchAPIFileUploadResponse } from './index.js'\n\nimport { fileFactory } from './fileFactory.js'\nimport { memHandler, tempFileHandler } from './handlers.js'\nimport { processNested } from './processNested.js'\nimport { createUploadTimer } from './uploadTimer.js'\nimport { buildFields, debugLog, isFunc, parseFileName } from './utilities.js'\n\nconst waitFlushProperty = Symbol('wait flush property symbol')\n\ntype ProcessMultipart = (args: {\n  options: FetchAPIFileUploadOptions\n  request: Request\n}) => Promise<FetchAPIFileUploadResponse>\nexport const processMultipart: ProcessMultipart = async ({ options, request }) => {\n  let parsingRequest = true\n\n  let fileCount = 0\n  let filesCompleted = 0\n  let allFilesHaveResolved: (value?: unknown) => void\n  let failedResolvingFiles: (err: Error) => void\n\n  const allFilesComplete = new Promise((res, rej) => {\n    allFilesHaveResolved = res\n    failedResolvingFiles = rej\n  })\n\n  const result: FetchAPIFileUploadResponse = {\n    fields: undefined,\n    files: undefined,\n  }\n\n  const headersObject = {}\n  request.headers.forEach((value, name) => {\n    headersObject[name] = value\n  })\n\n  function abortAndDestroyFile(file: Readable, err: APIError) {\n    file.destroy()\n    parsingRequest = false\n    failedResolvingFiles(err)\n  }\n\n  const busboy = Busboy({ ...options, headers: headersObject })\n\n  // Build multipart req.body fields\n  busboy.on('field', (field, val) => {\n    result.fields = buildFields(result.fields, field, val)\n  })\n\n  // Build req.files fields\n  busboy.on('file', (field, file, info) => {\n    fileCount += 1\n    // Parse file name(cutting huge names, decoding, etc..).\n    const { encoding, filename: name, mimeType: mime } = info\n    const filename = parseFileName(options, name)\n\n    // Define methods and handlers for upload process.\n    const { cleanup, complete, dataHandler, getFilePath, getFileSize, getHash, getWritePromise } =\n      options.useTempFiles\n        ? tempFileHandler(options, field, filename) // Upload into temporary file.\n        : memHandler(options, field, filename) // Upload into RAM.\n\n    const writePromise = options.useTempFiles\n      ? getWritePromise().catch((err) => {\n          busboy.end()\n          cleanup()\n        })\n      : getWritePromise()\n\n    const uploadTimer = createUploadTimer(options.uploadTimeout, () => {\n      return abortAndDestroyFile(\n        file,\n        new APIError(`Upload timeout for ${field}->${filename}, bytes:${getFileSize()}`),\n      )\n    })\n\n    file.on('limit', () => {\n      debugLog(options, `Size limit reached for ${field}->${filename}, bytes:${getFileSize()}`)\n      uploadTimer.clear()\n\n      if (isFunc(options.limitHandler)) {\n        options.limitHandler({ request, size: getFileSize() })\n      }\n\n      // Return error and cleanup files if abortOnLimit set.\n      if (options.abortOnLimit) {\n        debugLog(options, `Upload file size limit reached ${field}->${filename}.`)\n        cleanup()\n        abortAndDestroyFile(\n          file,\n          new APIError(options.responseOnLimit, httpStatus.REQUEST_ENTITY_TOO_LARGE, {\n            size: getFileSize(),\n          }),\n        )\n      }\n    })\n\n    file.on('data', (data) => {\n      uploadTimer.set()\n      dataHandler(data)\n    })\n\n    file.on('end', () => {\n      const size = getFileSize()\n      debugLog(options, `Upload finished ${field}->${filename}, bytes:${size}`)\n      uploadTimer.clear()\n\n      if (!name && size === 0) {\n        fileCount -= 1\n        if (options.useTempFiles) {\n          cleanup()\n          debugLog(options, `Removing the empty file ${field}->${filename}`)\n        }\n        return debugLog(options, `Don't add file instance if original name and size are empty`)\n      }\n\n      filesCompleted += 1\n\n      result.files = buildFields(\n        result.files,\n        field,\n        fileFactory(\n          {\n            name: filename,\n            buffer: complete(),\n            encoding,\n            hash: getHash(),\n            mimetype: mime,\n            size,\n            tempFilePath: getFilePath(),\n            truncated: Boolean('truncated' in file && file.truncated),\n          },\n          options,\n        ),\n      )\n\n      if (!request[waitFlushProperty]) {\n        request[waitFlushProperty] = []\n      }\n      request[waitFlushProperty].push(writePromise)\n\n      if (filesCompleted === fileCount) {\n        allFilesHaveResolved()\n      }\n    })\n\n    file.on('error', (err) => {\n      uploadTimer.clear()\n      debugLog(options, `File Error: ${err.message}`)\n      cleanup()\n      failedResolvingFiles(err)\n    })\n\n    // Start upload process.\n    debugLog(options, `New upload started ${field}->${filename}, bytes:${getFileSize()}`)\n    uploadTimer.set()\n  })\n\n  // TODO: Valid eslint error - this will likely be a floating promise. Evaluate if we need to handle this differently.\n\n  busboy.on('finish', async () => {\n    debugLog(options, `Busboy finished parsing request.`)\n    if (options.parseNested) {\n      result.fields = processNested(result.fields)\n      result.files = processNested(result.files)\n    }\n\n    if (request[waitFlushProperty]) {\n      try {\n        await Promise.all(request[waitFlushProperty]).then(() => {\n          delete request[waitFlushProperty]\n        })\n      } catch (err) {\n        debugLog(options, `Error waiting for file write promises: ${err}`)\n      }\n    }\n\n    return result\n  })\n\n  busboy.on(\n    'error',\n    (err = new APIError('Busboy error parsing multipart request', httpStatus.BAD_REQUEST)) => {\n      debugLog(options, `Busboy error`)\n      parsingRequest = false\n      throw err\n    },\n  )\n\n  const reader = request.body.getReader()\n\n  // Start parsing request\n  while (parsingRequest) {\n    const { done, value } = await reader.read()\n\n    if (done) {\n      parsingRequest = false\n    }\n\n    if (value) {\n      busboy.write(value)\n    }\n  }\n\n  if (fileCount !== 0) {\n    await allFilesComplete.catch((e) => {\n      throw e\n    })\n  }\n\n  return result\n}\n"],"names":["Busboy","httpStatus","APIError","fileFactory","memHandler","tempFileHandler","processNested","createUploadTimer","buildFields","debugLog","isFunc","parseFileName","waitFlushProperty","Symbol","processMultipart","options","request","parsingRequest","fileCount","filesCompleted","allFilesHaveResolved","failedResolvingFiles","allFilesComplete","Promise","res","rej","result","fields","undefined","files","headersObject","headers","forEach","value","name","abortAndDestroyFile","file","err","destroy","busboy","on","field","val","info","encoding","filename","mimeType","mime","cleanup","complete","dataHandler","getFilePath","getFileSize","getHash","getWritePromise","useTempFiles","writePromise","catch","end","uploadTimer","uploadTimeout","clear","limitHandler","size","abortOnLimit","responseOnLimit","REQUEST_ENTITY_TOO_LARGE","data","set","buffer","hash","mimetype","tempFilePath","truncated","Boolean","push","message","parseNested","all","then","BAD_REQUEST","reader","body","getReader","done","read","write","e"],"mappings":"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"}},
    {"offset": {"line": 668, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 674, "column": 0}, "map": {"version":3,"file":"index.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/fetchAPI-multipart/index.ts"],"sourcesContent":["import type { FetchAPIFileUploadOptions } from 'payload'\n\nimport path from 'path'\nimport { APIError } from 'payload'\n\nimport { isEligibleRequest } from './isEligibleRequest.js'\nimport { processMultipart } from './processMultipart.js'\nimport { debugLog } from './utilities.js'\n\nconst DEFAULT_OPTIONS: FetchAPIFileUploadOptions = {\n  abortOnLimit: false,\n  createParentPath: false,\n  debug: false,\n  defParamCharset: 'utf8',\n  limitHandler: false,\n  parseNested: false,\n  preserveExtension: false,\n  responseOnLimit: 'File size limit has been reached',\n  safeFileNames: false,\n  tempFileDir: path.join(process.cwd(), 'tmp'),\n  uploadTimeout: 60000,\n  uriDecodeFileNames: false,\n  useTempFiles: false,\n}\n\nexport type FileShape = {\n  data: Buffer\n  encoding: string\n  md5: Buffer | string\n  mimetype: string\n  mv: (filePath: string, callback: () => void) => Promise<void> | void\n  name: string\n  size: number\n  tempFilePath: string\n  truncated: boolean\n}\n\ntype FetchAPIFileUploadResponseFile = {\n  data: Buffer\n  mimetype: string\n  name: string\n  size: number\n  tempFilePath?: string\n}\n\nexport type FetchAPIFileUploadResponse = {\n  error?: APIError\n  fields: Record<string, string>\n  files: Record<string, FetchAPIFileUploadResponseFile>\n}\n\ntype FetchAPIFileUpload = (args: {\n  options?: FetchAPIFileUploadOptions\n  request: Request\n}) => Promise<FetchAPIFileUploadResponse>\nexport const fetchAPIFileUpload: FetchAPIFileUpload = async ({ options, request }) => {\n  const uploadOptions: FetchAPIFileUploadOptions = { ...DEFAULT_OPTIONS, ...options }\n  if (!isEligibleRequest(request)) {\n    debugLog(uploadOptions, 'Request is not eligible for file upload!')\n    return {\n      error: new APIError('Request is not eligible for file upload', 500),\n      fields: undefined,\n      files: undefined,\n    }\n  } else {\n    return processMultipart({ options: uploadOptions, request })\n  }\n}\n"],"names":["path","APIError","isEligibleRequest","processMultipart","debugLog","DEFAULT_OPTIONS","abortOnLimit","createParentPath","debug","defParamCharset","limitHandler","parseNested","preserveExtension","responseOnLimit","safeFileNames","tempFileDir","join","process","cwd","uploadTimeout","uriDecodeFileNames","useTempFiles","fetchAPIFileUpload","options","request","uploadOptions","error","fields","undefined","files"],"mappings":";;;AAEA,OAAOA,IAAA,MAAU;AAGjB,SAASE,iBAAiB,QAAQ;AAClC,SAASC,gBAAgB,QAAQ;AACjC,SAASC,QAAQ,QAAQ;AAJzB,SAASH,QAAQ,QAAQ;;;;;;AAMzB,MAAMI,eAAA,GAA6C;IACjDC,YAAA,EAAc;IACdC,gBAAA,EAAkB;IAClBC,KAAA,EAAO;IACPC,eAAA,EAAiB;IACjBC,YAAA,EAAc;IACdC,WAAA,EAAa;IACbC,iBAAA,EAAmB;IACnBC,eAAA,EAAiB;IACjBC,aAAA,EAAe;IACfC,WAAA,+FAAaf,WAAA,CAAKgB,IAAI,CAACC,OAAA,CAAQC,GAAG,IAAI;IACtCC,aAAA,EAAe;IACfC,kBAAA,EAAoB;IACpBC,YAAA,EAAc;AAChB;AAgCO,MAAMC,kBAAA,GAAyC,MAAAA,CAAO,EAAEC,OAAO,EAAEC,OAAAA,EAAS;IAC/E,MAAMC,aAAA,GAA2C;QAAE,GAAGpB,eAAe;QAAE,GAAGkB,OAAAA;IAAQ;IAClF,IAAI,gMAACrB,oBAAAA,AAAA,EAAkBsB,OAAA,GAAU;+LAC/BpB,WAAAA,AAAA,EAASqB,aAAA,EAAe;QACxB,OAAO;YACLC,KAAA,EAAO,IAAIzB,iKAAA,CAAS,2CAA2C;YAC/D0B,MAAA,EAAQC,SAAA;YACRC,KAAA,EAAOD;QACT;IACF,OAAO;QACL,qMAAOzB,mBAAAA,AAAA,EAAiB;YAAEoB,OAAA,EAASE,aAAA;YAAeD;QAAQ;IAC5D;AACF"}},
    {"offset": {"line": 721, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 727, "column": 0}, "map": {"version":3,"file":"addDataAndFileToRequest.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/utilities/addDataAndFileToRequest.ts"],"sourcesContent":["import type { PayloadRequest } from 'payload'\n\nimport { APIError } from 'payload'\n\nimport { fetchAPIFileUpload } from '../fetchAPI-multipart/index.js'\n\ntype AddDataAndFileToRequest = (req: PayloadRequest) => Promise<void>\n\n/**\n * Mutates the Request, appending 'data' and 'file' if found\n */\nexport const addDataAndFileToRequest: AddDataAndFileToRequest = async (req) => {\n  const { body, headers, method, payload } = req\n\n  if (method && ['PATCH', 'POST', 'PUT'].includes(method.toUpperCase()) && body) {\n    const [contentType] = (headers.get('Content-Type') || '').split(';')\n    const bodyByteSize = parseInt(req.headers.get('Content-Length') || '0', 10)\n\n    if (contentType === 'application/json') {\n      let data = {}\n      try {\n        data = await req.json()\n      } catch (error) {\n        req.payload.logger.error(error)\n      } finally {\n        req.data = data\n        req.json = () => Promise.resolve(data)\n      }\n    } else if (bodyByteSize && contentType.includes('multipart/')) {\n      const { error, fields, files } = await fetchAPIFileUpload({\n        options: payload.config.upload,\n        request: req as Request,\n      })\n\n      if (error) {\n        throw new APIError(error.message)\n      }\n\n      if (files?.file) {\n        req.file = files.file\n      }\n\n      if (fields?._payload && typeof fields._payload === 'string') {\n        req.data = JSON.parse(fields._payload)\n      }\n    }\n  }\n}\n"],"names":["APIError","fetchAPIFileUpload","addDataAndFileToRequest","req","body","headers","method","payload","includes","toUpperCase","contentType","get","split","bodyByteSize","parseInt","data","json","error","logger","Promise","resolve","fields","files","options","config","upload","request","message","file","_payload","JSON","parse"],"mappings":";;;AAIA,SAASC,kBAAkB,QAAQ;AAFnC,SAASD,QAAQ,QAAQ;;;AASlB,MAAME,uBAAA,GAAmD,OAAOC,GAAA;IACrE,MAAM,EAAEC,IAAI,EAAEC,OAAO,EAAEC,MAAM,EAAEC,OAAAA,EAAS,GAAGJ,GAAA;IAE3C,IAAIG,MAAA,IAAU;QAAC;QAAS;QAAQ;KAAM,CAACE,QAAQ,CAACF,MAAA,CAAOG,WAAW,OAAOL,IAAA,EAAM;QAC7E,MAAM,CAACM,WAAA,CAAY,GAAG,CAACL,OAAA,CAAQM,GAAG,CAAC,mBAAmB,EAAC,EAAGC,KAAK,CAAC;QAChE,MAAMC,YAAA,GAAeC,QAAA,CAASX,GAAA,CAAIE,OAAO,CAACM,GAAG,CAAC,qBAAqB,KAAK;QAExE,IAAID,WAAA,KAAgB,oBAAoB;YACtC,IAAIK,IAAA,GAAO,CAAC;YACZ,IAAI;gBACFA,IAAA,GAAO,MAAMZ,GAAA,CAAIa,IAAI;YACvB,EAAE,OAAOC,KAAA,EAAO;gBACdd,GAAA,CAAII,OAAO,CAACW,MAAM,CAACD,KAAK,CAACA,KAAA;YAC3B,SAAU;gBACRd,GAAA,CAAIY,IAAI,GAAGA,IAAA;gBACXZ,GAAA,CAAIa,IAAI,GAAG,IAAMG,OAAA,CAAQC,OAAO,CAACL,IAAA;YACnC;QACF,OAAO,IAAIF,YAAA,IAAgBH,WAAA,CAAYF,QAAQ,CAAC,eAAe;YAC7D,MAAM,EAAES,KAAK,EAAEI,MAAM,EAAEC,KAAAA,EAAO,GAAG,MAAMrB,wMAAAA,AAAA,EAAmB;gBACxDsB,OAAA,EAAShB,OAAA,CAAQiB,MAAM,CAACC,MAAM;gBAC9BC,OAAA,EAASvB;YACX;YAEA,IAAIc,KAAA,EAAO;gBACT,MAAM,yJAAIjB,YAAA,CAASiB,KAAA,CAAMU,OAAO;YAClC;YAEA,IAAIL,KAAA,EAAOM,IAAA,EAAM;gBACfzB,GAAA,CAAIyB,IAAI,GAAGN,KAAA,CAAMM,IAAI;YACvB;YAEA,IAAIP,MAAA,EAAQQ,QAAA,IAAY,OAAOR,MAAA,CAAOQ,QAAQ,KAAK,UAAU;gBAC3D1B,GAAA,CAAIY,IAAI,GAAGe,IAAA,CAAKC,KAAK,CAACV,MAAA,CAAOQ,QAAQ;YACvC;QACF;IACF;AACF"}},
    {"offset": {"line": 770, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 776, "column": 0}, "map": {"version":3,"file":"addLocalesToRequest.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/utilities/addLocalesToRequest.ts"],"sourcesContent":["import type { PayloadRequest, SanitizedConfig } from 'payload'\n\n/**\n * Mutates the Request to contain 'locale' and 'fallbackLocale' based on data or searchParams\n */\nexport function addLocalesToRequestFromData(req: PayloadRequest): void {\n  const {\n    data,\n    payload: { config },\n  } = req\n\n  if (data) {\n    let localeOnReq = req.locale\n    let fallbackLocaleOnReq = req.fallbackLocale\n\n    if (!localeOnReq && data?.locale && typeof data.locale === 'string') {\n      localeOnReq = data.locale\n    }\n\n    if (\n      !fallbackLocaleOnReq &&\n      data?.['fallback-locale'] &&\n      typeof data?.['fallback-locale'] === 'string'\n    ) {\n      fallbackLocaleOnReq = data['fallback-locale']\n    }\n\n    const { fallbackLocale, locale } = sanitizeLocales({\n      fallbackLocale: fallbackLocaleOnReq,\n      locale: localeOnReq,\n      localization: config.localization,\n    })\n\n    if (locale) {\n      req.locale = locale\n    }\n    if (fallbackLocale) {\n      req.fallbackLocale = fallbackLocale\n    }\n  }\n}\n\ntype SanitizeLocalesArgs = {\n  fallbackLocale: string\n  locale: string\n  localization: SanitizedConfig['localization']\n}\ntype SanitizeLocalesReturn = {\n  fallbackLocale?: string\n  locale?: string\n}\nexport const sanitizeLocales = ({\n  fallbackLocale,\n  locale,\n  localization,\n}: SanitizeLocalesArgs): SanitizeLocalesReturn => {\n  if (['none', 'null'].includes(fallbackLocale)) {\n    fallbackLocale = 'null'\n  } else if (localization && !localization.localeCodes.includes(fallbackLocale)) {\n    fallbackLocale = localization.defaultLocale\n  }\n\n  if (locale === '*') {\n    locale = 'all'\n  } else if (localization && !localization.localeCodes.includes(locale)) {\n    locale = localization.defaultLocale\n  }\n\n  return {\n    fallbackLocale,\n    locale,\n  }\n}\n"],"names":["addLocalesToRequestFromData","req","data","payload","config","localeOnReq","locale","fallbackLocaleOnReq","fallbackLocale","sanitizeLocales","localization","includes","localeCodes","defaultLocale"],"mappings":"AAEA;;GAGA;;;;AAAO,SAASA,4BAA4BC,GAAmB;IAC7D,MAAM,EACJC,IAAI,EACJC,OAAA,EAAS,EAAEC,MAAAA,EAAM,EAClB,GAAGH,GAAA;IAEJ,IAAIC,IAAA,EAAM;QACR,IAAIG,WAAA,GAAcJ,GAAA,CAAIK,MAAM;QAC5B,IAAIC,mBAAA,GAAsBN,GAAA,CAAIO,cAAc;QAE5C,IAAI,CAACH,WAAA,IAAeH,IAAA,EAAMI,MAAA,IAAU,OAAOJ,IAAA,CAAKI,MAAM,KAAK,UAAU;YACnED,WAAA,GAAcH,IAAA,CAAKI,MAAM;QAC3B;QAEA,IACE,CAACC,mBAAA,IACDL,IAAA,EAAA,CAAO,kBAAkB,IACzB,OAAOA,IAAA,EAAA,CAAO,kBAAkB,KAAK,UACrC;YACAK,mBAAA,GAAsBL,IAAI,CAAC,kBAAkB;QAC/C;QAEA,MAAM,EAAEM,cAAc,EAAEF,MAAAA,EAAQ,GAAGG,eAAA,CAAgB;YACjDD,cAAA,EAAgBD,mBAAA;YAChBD,MAAA,EAAQD,WAAA;YACRK,YAAA,EAAcN,MAAA,CAAOM,YAAAA;QACvB;QAEA,IAAIJ,MAAA,EAAQ;YACVL,GAAA,CAAIK,MAAM,GAAGA,MAAA;QACf;QACA,IAAIE,cAAA,EAAgB;YAClBP,GAAA,CAAIO,cAAc,GAAGA,cAAA;QACvB;IACF;AACF;AAWO,MAAMC,eAAA,GAAkBA,CAAC,EAC9BD,cAAc,EACdF,MAAM,EACNI,YAAAA,EACoB;IACpB,IAAI;QAAC;QAAQ;KAAO,CAACC,QAAQ,CAACH,cAAA,GAAiB;QAC7CA,cAAA,GAAiB;IACnB,OAAO,IAAIE,YAAA,IAAgB,CAACA,YAAA,CAAaE,WAAW,CAACD,QAAQ,CAACH,cAAA,GAAiB;QAC7EA,cAAA,GAAiBE,YAAA,CAAaG,aAAa;IAC7C;IAEA,IAAIP,MAAA,KAAW,KAAK;QAClBA,MAAA,GAAS;IACX,OAAO,IAAII,YAAA,IAAgB,CAACA,YAAA,CAAaE,WAAW,CAACD,QAAQ,CAACL,MAAA,GAAS;QACrEA,MAAA,GAASI,YAAA,CAAaG,aAAa;IACrC;IAEA,OAAO;QACLL,cAAA;QACAF;IACF;AACF"}},
    {"offset": {"line": 825, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 831, "column": 0}, "map": {"version":3,"file":"getPayloadHMR.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/utilities/getPayloadHMR.ts"],"sourcesContent":["import type { InitOptions, Payload, SanitizedConfig } from 'payload'\n\nimport { BasePayload, generateImportMap } from 'payload'\nimport WebSocket from 'ws'\n\nlet cached: {\n  payload: null | Payload\n  promise: null | Promise<Payload>\n  reload: boolean | Promise<void>\n  ws: null | WebSocket\n} = global._payload\n\nif (!cached) {\n  cached = global._payload = { payload: null, promise: null, reload: false, ws: null }\n}\n\nexport const reload = async (\n  config: SanitizedConfig,\n  payload: Payload,\n  skipImportMapGeneration?: boolean,\n): Promise<void> => {\n  if (typeof payload.db.destroy === 'function') {\n    await payload.db.destroy()\n  }\n\n  payload.config = config\n\n  payload.collections = config.collections.reduce((collections, collection) => {\n    collections[collection.slug] = {\n      config: collection,\n      customIDType: payload.collections[collection.slug]?.customIDType,\n    }\n    return collections\n  }, {})\n\n  payload.globals = {\n    config: config.globals,\n  }\n\n  // TODO: support HMR for other props in the future (see payload/src/index init()) hat may change on Payload singleton\n\n  // Generate types\n  if (config.typescript.autoGenerate !== false) {\n    // We cannot run it directly here, as generate-types imports json-schema-to-typescript, which breaks on turbopack.\n    // see: https://github.com/vercel/next.js/issues/66723\n    void payload.bin({\n      args: ['generate:types'],\n      log: false,\n    })\n  }\n\n  // Generate component map\n  if (skipImportMapGeneration !== true && config.admin?.importMap?.autoGenerate !== false) {\n    await generateImportMap(config, {\n      log: true,\n    })\n  }\n\n  await payload.db.init()\n  if (payload.db.connect) {\n    await payload.db.connect({ hotReload: true })\n  }\n}\n\nexport const getPayloadHMR = async (\n  options: Pick<InitOptions, 'config' | 'importMap'>,\n): Promise<Payload> => {\n  if (!options?.config) {\n    throw new Error('Error: the payload config is required for getPayloadHMR to work.')\n  }\n\n  if (cached.payload) {\n    if (cached.reload === true) {\n      let resolve: () => void\n\n      // getPayloadHMR is called multiple times, in parallel. However, we only want to run `await reload` once. By immediately setting cached.reload to a promise,\n      // we can ensure that all subsequent calls will wait for the first reload to finish. So if we set it here, the 2nd call of getPayloadHMR\n      // will reach `if (cached.reload instanceof Promise) {` which then waits for the first reload to finish.\n      cached.reload = new Promise((res) => (resolve = res))\n      const config = await options.config\n      await reload(config, cached.payload)\n\n      resolve()\n    }\n\n    if (cached.reload instanceof Promise) {\n      await cached.reload\n    }\n\n    if (options?.importMap) {\n      cached.payload.importMap = options.importMap\n    }\n    return cached.payload\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  if (!cached.promise) {\n    // no need to await options.config here, as it's already awaited in the BasePayload.init\n    cached.promise = new BasePayload().init(options)\n  }\n\n  try {\n    cached.payload = await cached.promise\n\n    if (\n      !cached.ws &&\n      process.env.NODE_ENV !== 'production' &&\n      process.env.NODE_ENV !== 'test' &&\n      process.env.DISABLE_PAYLOAD_HMR !== 'true'\n    ) {\n      try {\n        const port = process.env.PORT || '3000'\n        cached.ws = new WebSocket(\n          `ws://localhost:${port}${process.env.NEXT_BASE_PATH ?? ''}/_next/webpack-hmr`,\n        )\n\n        cached.ws.onmessage = (event) => {\n          if (typeof event.data === 'string') {\n            const data = JSON.parse(event.data)\n\n            if ('action' in data && data.action === 'serverComponentChanges') {\n              cached.reload = true\n            }\n          }\n        }\n      } catch (_) {\n        // swallow e\n      }\n    }\n  } catch (e) {\n    cached.promise = null\n    throw e\n  }\n\n  if (options?.importMap) {\n    cached.payload.importMap = options.importMap\n  }\n\n  return cached.payload\n}\n"],"names":["BasePayload","generateImportMap","WebSocket","cached","global","_payload","payload","promise","reload","ws","config","skipImportMapGeneration","db","destroy","collections","reduce","collection","slug","customIDType","globals","typescript","autoGenerate","bin","args","log","admin","importMap","init","connect","hotReload","getPayloadHMR","options","Error","resolve","Promise","res","process","env","NODE_ENV","DISABLE_PAYLOAD_HMR","port","PORT","NEXT_BASE_PATH","onmessage","event","data","JSON","parse","action","_","e"],"mappings":"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"}},
    {"offset": {"line": 945, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 951, "column": 0}, "map": {"version":3,"file":"getRequestLanguage.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/utilities/getRequestLanguage.ts"],"sourcesContent":["import type { AcceptedLanguages } from '@payloadcms/translations'\nimport type { ReadonlyRequestCookies } from 'next/dist/server/web/spec-extension/adapters/request-cookies.js'\nimport type { SanitizedConfig } from 'payload'\n\nimport { extractHeaderLanguage } from '@payloadcms/translations'\n\ntype GetRequestLanguageArgs = {\n  config: SanitizedConfig\n  cookies: Map<string, string> | ReadonlyRequestCookies\n  defaultLanguage?: AcceptedLanguages\n  headers: Request['headers']\n}\n\nexport const getRequestLanguage = ({\n  config,\n  cookies,\n  headers,\n}: GetRequestLanguageArgs): AcceptedLanguages => {\n  const supportedLanguageKeys = <AcceptedLanguages[]>Object.keys(config.i18n.supportedLanguages)\n  const langCookie = cookies.get(`${config.cookiePrefix || 'payload'}-lng`)\n\n  const languageFromCookie: AcceptedLanguages = (\n    typeof langCookie === 'string' ? langCookie : langCookie?.value\n  ) as AcceptedLanguages\n\n  if (languageFromCookie && supportedLanguageKeys.includes(languageFromCookie)) {\n    return languageFromCookie\n  }\n\n  const languageFromHeader = headers.get('Accept-Language')\n    ? extractHeaderLanguage(headers.get('Accept-Language'))\n    : undefined\n\n  if (languageFromHeader && supportedLanguageKeys.includes(languageFromHeader)) {\n    return languageFromHeader\n  }\n\n  return config.i18n.fallbackLanguage\n}\n"],"names":["extractHeaderLanguage","getRequestLanguage","config","cookies","headers","supportedLanguageKeys","Object","keys","i18n","supportedLanguages","langCookie","get","cookiePrefix","languageFromCookie","value","includes","languageFromHeader","undefined","fallbackLanguage"],"mappings":";;;AAIA,SAASA,qBAAqB,QAAQ;;;AAS/B,MAAMC,kBAAA,GAAqBA,CAAC,EACjCC,MAAM,EACNC,OAAO,EACPC,OAAAA,EACuB;IACvB,MAAMC,qBAAA,GAA6CC,MAAA,CAAOC,IAAI,CAACL,MAAA,CAAOM,IAAI,CAACC,kBAAkB;IAC7F,MAAMC,UAAA,GAAaP,OAAA,CAAQQ,GAAG,CAAC,GAAGT,MAAA,CAAOU,YAAY,IAAI,UAAA,IAAA,CAAe;IAExE,MAAMC,kBAAA,GACJ,OAAOH,UAAA,KAAe,WAAWA,UAAA,GAAaA,UAAA,EAAYI,KAAA;IAG5D,IAAID,kBAAA,IAAsBR,qBAAA,CAAsBU,QAAQ,CAACF,kBAAA,GAAqB;QAC5E,OAAOA,kBAAA;IACT;IAEA,MAAMG,kBAAA,GAAqBZ,OAAA,CAAQO,GAAG,CAAC,wMACnCX,wBAAAA,AAAA,EAAsBI,OAAA,CAAQO,GAAG,CAAC,sBAClCM,SAAA;IAEJ,IAAID,kBAAA,IAAsBX,qBAAA,CAAsBU,QAAQ,CAACC,kBAAA,GAAqB;QAC5E,OAAOA,kBAAA;IACT;IAEA,OAAOd,MAAA,CAAOM,IAAI,CAACU,gBAAgB;AACrC"}},
    {"offset": {"line": 970, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 976, "column": 0}, "map": {"version":3,"file":"createPayloadRequest.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/utilities/createPayloadRequest.ts"],"sourcesContent":["import type { CustomPayloadRequestProperties, PayloadRequest, SanitizedConfig } from 'payload'\n\nimport { initI18n } from '@payloadcms/translations'\nimport { executeAuthStrategies, getDataLoader, parseCookies } from 'payload'\nimport * as qs from 'qs-esm'\nimport { URL } from 'url'\n\nimport { sanitizeLocales } from './addLocalesToRequest.js'\nimport { getPayloadHMR } from './getPayloadHMR.js'\nimport { getRequestLanguage } from './getRequestLanguage.js'\n\ntype Args = {\n  config: Promise<SanitizedConfig> | SanitizedConfig\n  params?: {\n    collection: string\n  }\n  request: Request\n}\n\nexport const createPayloadRequest = async ({\n  config: configPromise,\n  params,\n  request,\n}: Args): Promise<PayloadRequest> => {\n  const cookies = parseCookies(request.headers)\n  const payload = await getPayloadHMR({ config: configPromise })\n\n  const { config } = payload\n\n  const urlProperties = new URL(request.url)\n  const { pathname, searchParams } = urlProperties\n\n  const isGraphQL =\n    !config.graphQL.disable && pathname === `${config.routes.api}${config.routes.graphQL}`\n\n  const language = getRequestLanguage({\n    config,\n    cookies,\n    headers: request.headers,\n  })\n\n  const i18n = await initI18n({\n    config: config.i18n,\n    context: 'api',\n    language,\n  })\n\n  let locale\n  let fallbackLocale\n\n  const overrideHttpMethod = request.headers.get('X-HTTP-Method-Override')\n  const queryToParse = overrideHttpMethod === 'GET' ? await request.text() : urlProperties.search\n\n  const query = queryToParse\n    ? qs.parse(queryToParse, {\n        arrayLimit: 1000,\n        depth: 10,\n        ignoreQueryPrefix: true,\n      })\n    : {}\n\n  if (config.localization) {\n    const locales = sanitizeLocales({\n      fallbackLocale: searchParams.get('fallback-locale'),\n      locale: searchParams.get('locale'),\n      localization: payload.config.localization,\n    })\n    locale = locales.locale\n    fallbackLocale = locales.fallbackLocale\n\n    // Override if query params are present, in order to respect HTTP method override\n    if (query.locale) {\n      locale = query.locale\n    }\n    if (query?.['fallback-locale']) {\n      fallbackLocale = query['fallback-locale']\n    }\n  }\n\n  const customRequest: CustomPayloadRequestProperties = {\n    context: {},\n    fallbackLocale,\n    hash: urlProperties.hash,\n    host: urlProperties.host,\n    href: urlProperties.href,\n    i18n,\n    locale,\n    origin: urlProperties.origin,\n    pathname: urlProperties.pathname,\n    payload,\n    payloadAPI: isGraphQL ? 'GraphQL' : 'REST',\n    payloadDataLoader: undefined,\n    payloadUploadSizes: {},\n    port: urlProperties.port,\n    protocol: urlProperties.protocol,\n    query,\n    routeParams: params || {},\n    search: urlProperties.search,\n    searchParams: urlProperties.searchParams,\n    t: i18n.t,\n    transactionID: undefined,\n    user: null,\n  }\n\n  const req: PayloadRequest = Object.assign(request, customRequest)\n\n  req.payloadDataLoader = getDataLoader(req)\n\n  const { responseHeaders, user } = await executeAuthStrategies({\n    headers: req.headers,\n    isGraphQL,\n    payload,\n  })\n\n  req.user = user\n\n  if (responseHeaders) {\n    req.responseHeaders = responseHeaders\n  }\n\n  return req\n}\n"],"names":["initI18n","executeAuthStrategies","getDataLoader","parseCookies","qs","URL","sanitizeLocales","getPayloadHMR","getRequestLanguage","createPayloadRequest","config","configPromise","params","request","cookies","headers","payload","urlProperties","url","pathname","searchParams","isGraphQL","graphQL","disable","routes","api","language","i18n","context","locale","fallbackLocale","overrideHttpMethod","get","queryToParse","text","search","query","parse","arrayLimit","depth","ignoreQueryPrefix","localization","locales","customRequest","hash","host","href","origin","payloadAPI","payloadDataLoader","undefined","payloadUploadSizes","port","protocol","routeParams","t","transactionID","user","req","Object","assign","responseHeaders"],"mappings":"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"}},
    {"offset": {"line": 1077, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1083, "column": 0}, "map": {"version":3,"file":"getNextRequestI18n.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/utilities/getNextRequestI18n.ts"],"sourcesContent":["import type { ClientTranslationsObject, I18nClient } from '@payloadcms/translations'\nimport type { SanitizedConfig } from 'payload'\n\nimport { initI18n } from '@payloadcms/translations'\nimport { cookies, headers } from 'next/headers.js'\n\nimport { getRequestLanguage } from './getRequestLanguage.js'\n\n/**\n * In the context of Next.js, this function initializes the i18n object for the current request.\n *\n * It must be called on the server side, and within the lifecycle of a request since it relies on the request headers and cookies.\n */\nexport const getNextRequestI18n = async <\n  // eslint-disable-next-line @typescript-eslint/no-empty-object-type\n  TAdditionalTranslations = {},\n  TAdditionalClientTranslationKeys extends string = never,\n>({\n  config,\n}: {\n  config: SanitizedConfig\n}): Promise<\n  [TAdditionalClientTranslationKeys] extends [never]\n    ? I18nClient\n    : TAdditionalTranslations extends object\n      ? I18nClient<TAdditionalTranslations, TAdditionalClientTranslationKeys>\n      : I18nClient<ClientTranslationsObject, TAdditionalClientTranslationKeys>\n> => {\n  return (await initI18n({\n    config: config.i18n,\n    context: 'client',\n    language: getRequestLanguage({ config, cookies: await cookies(), headers: await headers() }),\n  })) as any\n}\n"],"names":["initI18n","cookies","headers","getRequestLanguage","getNextRequestI18n","config","i18n","context","language"],"mappings":";;;AAGA,SAASA,QAAQ,QAAQ;AACzB,SAASC,OAAO,EAAEC,OAAO,QAAQ;AAEjC,SAASC,kBAAkB,QAAQ;;;;;AAO5B,MAAMC,kBAAA,GAAqB,MAAAA,CAIhC,EACAC,MAAAA,EAGD;IAOC,OAAQ,oLAAML,WAAAA,AAAA,EAAS;QACrBK,MAAA,EAAQA,MAAA,CAAOC,IAAI;QACnBC,OAAA,EAAS;QACTC,QAAA,sLAAUL,qBAAAA,AAAA,EAAmB;YAAEE,MAAA;YAAQJ,OAAA,EAAS,0IAAMA,UAAAA,AAAA;YAAWC,OAAA,EAAS,0IAAMA,UAAAA,AAAA;QAAU;IAC5F;AACF"}},
    {"offset": {"line": 1104, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1110, "column": 0}, "map": {"version":3,"file":"headersWithCors.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/utilities/headersWithCors.ts"],"sourcesContent":["import type { PayloadRequest } from 'payload'\n\ntype CorsArgs = {\n  headers: Headers\n  req: Partial<PayloadRequest>\n}\nexport const headersWithCors = ({ headers, req }: CorsArgs): Headers => {\n  const cors = req?.payload.config.cors\n  const requestOrigin = req?.headers.get('Origin')\n\n  if (cors) {\n    const defaultAllowedHeaders = [\n      'Origin',\n      'X-Requested-With',\n      'Content-Type',\n      'Accept',\n      'Authorization',\n      'Content-Encoding',\n      'x-apollo-tracing',\n    ]\n\n    headers.set('Access-Control-Allow-Methods', 'PUT, PATCH, POST, GET, DELETE, OPTIONS')\n\n    if (typeof cors === 'object' && 'headers' in cors) {\n      headers.set(\n        'Access-Control-Allow-Headers',\n        [...defaultAllowedHeaders, ...cors.headers].filter(Boolean).join(', '),\n      )\n    } else {\n      headers.set('Access-Control-Allow-Headers', defaultAllowedHeaders.join(', '))\n    }\n\n    if (cors === '*' || (typeof cors === 'object' && 'origins' in cors && cors.origins === '*')) {\n      headers.set('Access-Control-Allow-Origin', '*')\n    } else if (\n      (Array.isArray(cors) && cors.indexOf(requestOrigin) > -1) ||\n      (!Array.isArray(cors) &&\n        typeof cors === 'object' &&\n        'origins' in cors &&\n        cors.origins.indexOf(requestOrigin) > -1)\n    ) {\n      headers.set('Access-Control-Allow-Credentials', 'true')\n      headers.set('Access-Control-Allow-Origin', requestOrigin)\n    }\n  }\n\n  return headers\n}\n"],"names":["headersWithCors","headers","req","cors","payload","config","requestOrigin","get","defaultAllowedHeaders","set","filter","Boolean","join","origins","Array","isArray","indexOf"],"mappings":";;;AAMO,MAAMA,eAAA,GAAkBA,CAAC,EAAEC,OAAO,EAAEC,GAAAA,EAAe;IACxD,MAAMC,IAAA,GAAOD,GAAA,EAAKE,OAAA,CAAQC,MAAA,CAAOF,IAAA;IACjC,MAAMG,aAAA,GAAgBJ,GAAA,EAAKD,OAAA,CAAQM,GAAA,CAAI;IAEvC,IAAIJ,IAAA,EAAM;QACR,MAAMK,qBAAA,GAAwB;YAC5B;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QAEDP,OAAA,CAAQQ,GAAG,CAAC,gCAAgC;QAE5C,IAAI,OAAON,IAAA,KAAS,YAAY,aAAaA,IAAA,EAAM;YACjDF,OAAA,CAAQQ,GAAG,CACT,gCACA,C;mBAAID,qBAAA,E;mBAA0BL,IAAA,CAAKF,OAAO;aAAC,CAACS,MAAM,CAACC,OAAA,EAASC,IAAI,CAAC;QAErE,OAAO;YACLX,OAAA,CAAQQ,GAAG,CAAC,gCAAgCD,qBAAA,CAAsBI,IAAI,CAAC;QACzE;QAEA,IAAIT,IAAA,KAAS,OAAQ,OAAOA,IAAA,KAAS,YAAY,aAAaA,IAAA,IAAQA,IAAA,CAAKU,OAAO,KAAK,KAAM;YAC3FZ,OAAA,CAAQQ,GAAG,CAAC,+BAA+B;QAC7C,OAAO,IACLK,KAAC,CAAMC,OAAO,CAACZ,IAAA,KAASA,IAAA,CAAKa,OAAO,CAACV,aAAA,IAAiB,CAAC,KACtD,CAACQ,KAAA,CAAMC,OAAO,CAACZ,IAAA,KACd,OAAOA,IAAA,KAAS,YAChB,aAAaA,IAAA,IACbA,IAAA,CAAKU,OAAO,CAACG,OAAO,CAACV,aAAA,IAAiB,CAAC,GACzC;YACAL,OAAA,CAAQQ,GAAG,CAAC,oCAAoC;YAChDR,OAAA,CAAQQ,GAAG,CAAC,+BAA+BH,aAAA;QAC7C;IACF;IAEA,OAAOL,OAAA;AACT"}},
    {"offset": {"line": 1144, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1150, "column": 0}, "map": {"version":3,"file":"mergeHeaders.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/utilities/mergeHeaders.ts"],"sourcesContent":["export const mergeHeaders = (sourceHeaders: Headers, destinationHeaders: Headers): Headers => {\n  // Create a new Headers object\n  const combinedHeaders = new Headers(destinationHeaders)\n\n  // Append sourceHeaders to combinedHeaders\n  sourceHeaders.forEach((value, key) => {\n    combinedHeaders.append(key, value)\n  })\n\n  return combinedHeaders\n}\n"],"names":["mergeHeaders","sourceHeaders","destinationHeaders","combinedHeaders","Headers","forEach","value","key","append"],"mappings":";;;AAAO,MAAMA,YAAA,GAAeA,CAACC,aAAA,EAAwBC,kBAAA;IACnD,8BAAA;IACA,MAAMC,eAAA,GAAkB,IAAIC,OAAA,CAAQF,kBAAA;IAEpC,0CAAA;IACAD,aAAA,CAAcI,OAAO,CAAC,CAACC,KAAA,EAAOC,GAAA;QAC5BJ,eAAA,CAAgBK,MAAM,CAACD,GAAA,EAAKD,KAAA;IAC9B;IAEA,OAAOH,eAAA;AACT"}},
    {"offset": {"line": 1162, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1168, "column": 0}, "map": {"version":3,"file":"utilities.js","sources":["turbopack://[project]/node_modules/@payloadcms/next/src/exports/utilities.ts"],"sourcesContent":["export { addDataAndFileToRequest } from '../utilities/addDataAndFileToRequest.js'\nexport { addLocalesToRequestFromData, sanitizeLocales } from '../utilities/addLocalesToRequest.js'\nexport { createPayloadRequest } from '../utilities/createPayloadRequest.js'\nexport { getNextRequestI18n } from '../utilities/getNextRequestI18n.js'\nexport { getPayloadHMR, reload } from '../utilities/getPayloadHMR.js'\nexport { headersWithCors } from '../utilities/headersWithCors.js'\nexport { mergeHeaders } from '../utilities/mergeHeaders.js'\n"],"names":["addDataAndFileToRequest","addLocalesToRequestFromData","sanitizeLocales","createPayloadRequest","getNextRequestI18n","getPayloadHMR","reload","headersWithCors","mergeHeaders"],"mappings":""}},
    {"offset": {"line": 1177, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1198, "column": 0}, "map": {"version":3,"file":"importDateFNSLocale.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/importDateFNSLocale.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/importDateFNSLocale.ts"],"names":[],"mappings":";;;AAEO,MAAM,mBAAmB,GAAG,KAAK,EAAE,MAAc,EAAmB,EAAE;IAC3E,IAAI,MAAM,CAAA;IAEV,OAAQ,MAAM,EAAE,CAAC;QACf,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,OAAO;YACV,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,uBAAuB,sGAAC,CAAC,CAAC,IAAI,CAAA;YAErD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,OAAO;YACV,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,uBAAuB,sGAAC,CAAC,CAAC,IAAI,CAAA;YAErD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,IAAI;YACP,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,oBAAoB,sGAAC,CAAC,CAAC,EAAE,CAAA;YAEhD,MAAK;QACP,KAAK,OAAO;YACV,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,uBAAuB,sGAAC,CAAC,CAAC,IAAI,CAAA;YAErD,MAAK;QACP,KAAK,OAAO;YACV,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,uBAAuB,sGAAC,CAAC,CAAC,IAAI,CAAA;YAErD,MAAK;IACT,CAAC;IAED,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;QACnB,OAAO,MAAM,CAAC,OAAO,CAAA;IACvB,CAAC;IAED,OAAO,MAAgB,CAAA;AACzB,CAAC,CAAA"}},
    {"offset": {"line": 1300, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1306, "column": 0}, "map": {"version":3,"file":"getTranslation.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/utilities/getTranslation.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/utilities/getTranslation.ts"],"names":[],"mappings":";;;AAUO,MAAM,cAAc,GAAG,CAC5B,KAAQ,EACR,IAAiE,EACnB,EAAE;IAChD,mFAAmF;IACnF,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,EAAE,CAAC;QAC1F,IAAI,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;YACzB,OAAO,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;QAC7B,CAAC;QAED,IAAI,SAAS,GAAa,EAAE,CAAA;QAC5B,IAAI,OAAO,IAAI,CAAC,gBAAgB,KAAK,QAAQ,EAAE,CAAC;YAC9C,SAAS,GAAG;gBAAC,IAAI,CAAC,gBAAgB;aAAC,CAAA;QACrC,CAAC,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC;YAChD,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAA;QACnC,CAAC;QAED,MAAM,YAAY,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAG,CAAD,IAAM,CAAC,QAAQ,CAAC,CAAC,CAAA;QAElE,OAAO,YAAY,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;IACjG,CAAC;IAED,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE,CAAC;QAChC,OAAO,KAAK,CAAC;YAAE,CAAC,EAAE,IAAI,CAAC,CAAC;QAAA,CAAE,CAA4D,CAAA;IACxF,CAAC;IAED,yEAAyE;IACzE,OAAO,KAAgE,CAAA;AACzE,CAAC,CAAA"}},
    {"offset": {"line": 1334, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1340, "column": 0}, "map": {"version":3,"file":"deepMergeSimple.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/utilities/deepMergeSimple.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/utilities/deepMergeSimple.ts"],"names":[],"mappings":"AAAA;;;;;;;;;GASG;;;AACG,SAAU,eAAe,CAAa,IAAY,EAAE,IAAY;IACpE,MAAM,MAAM,GAAG;QAAE,GAAG,IAAI;IAAA,CAAE,CAAA;IAE1B,IAAK,MAAM,GAAG,IAAI,IAAI,CAAE,CAAC;QACvB,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,CAAC;YACpD,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;gBAC5E,MAAM,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAA;YACrD,CAAC,MAAM,CAAC;gBACN,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAA;YACzB,CAAC;QACH,CAAC;IACH,CAAC;IAED,OAAO,MAAW,CAAA;AACpB,CAAC"}},
    {"offset": {"line": 1367, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1373, "column": 0}, "map": {"version":3,"file":"clientKeys.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/clientKeys.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/clientKeys.ts"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1725, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1731, "column": 0}, "map": {"version":3,"file":"getTranslationsByContext.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/utilities/getTranslationsByContext.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/utilities/getTranslationsByContext.ts"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAA;;AAExD,SAAS,UAAU,CAAC,GAAG,EAAE,cAAc,GAAG,EAAE,EAAE,IAAI;IAChD,MAAM,MAAM,GAAG,CAAA,CAAE,CAAA;IAEjB,KAAK,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAE,CAAC;QACxD,mBAAmB;QACnB,IAAI,YAAY,KAAK,SAAS,EAAE,CAAC;YAC/B,MAAM,CAAC,YAAY,CAAC,GAAG,KAAK,CAAA;YAC5B,SAAQ;QACV,CAAC;QAED,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;YAC9B,MAAM,cAAc,GAAG,UAAU,CAAC,KAAK,EAAE,YAAY,EAAE,IAAI,CAAC,CAAA;YAC5D,IAAI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC3C,MAAM,CAAC,YAAY,CAAC,GAAG,cAAc,CAAA;YACvC,CAAC;QACH,CAAC,MAAM,CAAC;YACN,KAAK,MAAM,GAAG,IAAI,IAAI,CAAE,CAAC;gBACvB,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;gBAE3C,IAAI,cAAc,KAAK,QAAQ,EAAE,CAAC;oBAChC,IAAI,YAAY,KAAK,QAAQ,EAAE,CAAC;wBAC9B,MAAM,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAA;oBAC1B,CAAC,MAAM,CAAC;wBACN,MAAM,UAAU,GAAG;4BAAC,MAAM;4BAAE,KAAK;4BAAE,KAAK;4BAAE,KAAK;4BAAE,MAAM;4BAAE,OAAO;yBAAC,CAAA;wBACjE,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;4BAC/B,IAAI,YAAY,KAAK,GAAG,QAAQ,CAAA,CAAA,EAAI,SAAS,EAAE,EAAE,CAAC;gCAChD,MAAM,CAAC,GAAG,QAAQ,CAAA,CAAA,EAAI,SAAS,EAAE,CAAC,GAAG,KAAK,CAAA;4BAC5C,CAAC;wBACH,CAAC,CAAC,CAAA;oBACJ,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC;IAED,OAAO,MAAM,CAAA;AACf,CAAC;AAED,SAAS,UAAU,CAAC,GAAG;IACrB,MAAM,YAAY,GAAG,CAAA,CAAE,CAAA;IACvB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CACb,IAAI,EAAE,CACN,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;QACf,IAAI,OAAO,GAAG,CAAC,GAAG,CAAC,KAAK,QAAQ,EAAE,CAAC;YACjC,YAAY,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA;QAC1C,CAAC,MAAM,CAAC;YACN,YAAY,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAA;QAC9B,CAAC;IACH,CAAC,CAAC,CAAA;IACJ,OAAO,YAAY,CAAA;AACrB,CAAC;AAEM,MAAM,wBAAwB,GAAG,CAAC,gBAA0B,EAAE,OAAyB,EAAE,EAAE;IAChG,IAAI,OAAO,KAAK,QAAQ,EAAE,CAAC;QACzB,OAAO,UAAU,CAAC,UAAU,CAAC,gBAAgB,CAAC,YAAY,EAAE,EAAE,qKAAE,wBAAqB,CAAC,CAAC,CAAA;IACzF,CAAC,MAAM,CAAC;QACN,OAAO,gBAAgB,CAAC,YAAY,CAAA;IACtC,CAAC;AACH,CAAC,CAAA"}},
    {"offset": {"line": 1794, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1800, "column": 0}, "map": {"version":3,"file":"init.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/utilities/init.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/utilities/init.ts"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1930, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1936, "column": 0}, "map": {"version":3,"file":"languages.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/utilities/languages.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/utilities/languages.ts"],"names":[],"mappings":";;;;;AAEO,MAAM,YAAY,GAAG;IAAC,IAAI;IAAE,IAAI;IAAE,IAAI;CAAU,CAAA;AAEhD,MAAM,iBAAiB,GAAG;IAC/B,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,UAAU;IACV,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,OAAO;CAgGC,CAAA;AAEV,SAAS,mBAAmB,CAAC,oBAA4B;IACvD,OAAO,oBAAoB,CACxB,KAAK,CAAC,GAAG,CAAC,CACV,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;QACZ,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,CAGlD,CAAA;QACD,OAAO;YACL,QAAQ;YACR,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SAC3C,CAAA;IACH,CAAC,CAAC,CACD,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,CAAA,CAAC,qCAAqC;AAChF,CAAC;AAEK,SAAU,qBAAqB,CAAC,oBAA4B;IAChE,MAAM,YAAY,GAAG,mBAAmB,CAAC,oBAAoB,CAAC,CAAA;IAE9D,IAAI,eAAkC,CAAA;IAEtC,KAAK,MAAM,EAAE,QAAQ,EAAE,IAAI,YAAY,CAAE,CAAC;QACxC,IAAI,CAAC,eAAe,IAAI,iBAAiB,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;YAC7D,eAAe,GAAG,QAAQ,CAAA;QAC5B,CAAC;IACH,CAAC;IAED,OAAO,eAAe,CAAA;AACxB,CAAC"}},
    {"offset": {"line": 2000, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2006, "column": 0}, "map": {"version":3,"file":"index.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/exports/index.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/exports/index.ts"],"names":[],"mappings":""}},
    {"offset": {"line": 2012, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2030, "column": 0}, "map": {"version":3,"file":"en.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/languages/en.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/languages/en.ts"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2467, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2473, "column": 0}, "map": {"version":3,"file":"utilities.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/exports/utilities.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/exports/utilities.ts"],"names":[],"mappings":""}},
    {"offset": {"line": 2476, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2491, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/node_modules/@payloadcms/drizzle/node_modules/uuid/dist/esm-node/native.js"],"sourcesContent":["import crypto from 'crypto';\nexport default {\n  randomUUID: crypto.randomUUID\n};"],"names":[],"mappings":";;;AAAA;;uCACe;IACb,YAAY,+FAAA,CAAA,UAAM,CAAC,UAAU;AAC/B"}},
    {"offset": {"line": 2499, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2505, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/node_modules/@payloadcms/drizzle/node_modules/uuid/dist/esm-node/rng.js"],"sourcesContent":["import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,YAAY,IAAI,WAAW,MAAM,qCAAqC;AAE5E,IAAI,UAAU,UAAU,MAAM;AACf,SAAS;IACtB,IAAI,UAAU,UAAU,MAAM,GAAG,IAAI;QACnC,+FAAA,CAAA,UAAM,CAAC,cAAc,CAAC;QACtB,UAAU;IACZ;IAEA,OAAO,UAAU,KAAK,CAAC,SAAS,WAAW;AAC7C"}},
    {"offset": {"line": 2519, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2525, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/node_modules/@payloadcms/drizzle/node_modules/uuid/dist/esm-node/regex.js"],"sourcesContent":["export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;"],"names":[],"mappings":";;;uCAAe"}},
    {"offset": {"line": 2529, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2535, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/node_modules/@payloadcms/drizzle/node_modules/uuid/dist/esm-node/validate.js"],"sourcesContent":["import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;"],"names":[],"mappings":";;;AAAA;;AAEA,SAAS,SAAS,IAAI;IACpB,OAAO,OAAO,SAAS,YAAY,iPAAA,CAAA,UAAK,CAAC,IAAI,CAAC;AAChD;uCAEe"}},
    {"offset": {"line": 2544, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2550, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/node_modules/@payloadcms/drizzle/node_modules/uuid/dist/esm-node/stringify.js"],"sourcesContent":["import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;"],"names":[],"mappings":";;;;AAAA;;AACA;;;CAGC,GAED,MAAM,YAAY,EAAE;AAEpB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,EAAE,EAAG;IAC5B,UAAU,IAAI,CAAC,CAAC,IAAI,KAAK,EAAE,QAAQ,CAAC,IAAI,KAAK,CAAC;AAChD;AAEO,SAAS,gBAAgB,GAAG,EAAE,SAAS,CAAC;IAC7C,uEAAuE;IACvE,oFAAoF;IACpF,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,EAAE,WAAW;AAClgB;AAEA,SAAS,UAAU,GAAG,EAAE,SAAS,CAAC;IAChC,MAAM,OAAO,gBAAgB,KAAK,SAAS,4EAA4E;IACvH,oBAAoB;IACpB,wEAAwE;IACxE,2BAA2B;IAC3B,mEAAmE;IAEnE,IAAI,CAAC,CAAA,GAAA,oPAAA,CAAA,UAAQ,AAAD,EAAE,OAAO;QACnB,MAAM,UAAU;IAClB;IAEA,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 2580, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2586, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/node_modules/@payloadcms/drizzle/node_modules/uuid/dist/esm-node/v4.js"],"sourcesContent":["import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEA,SAAS,GAAG,OAAO,EAAE,GAAG,EAAE,MAAM;IAC9B,IAAI,kPAAA,CAAA,UAAM,CAAC,UAAU,IAAI,CAAC,OAAO,CAAC,SAAS;QACzC,OAAO,kPAAA,CAAA,UAAM,CAAC,UAAU;IAC1B;IAEA,UAAU,WAAW,CAAC;IACtB,MAAM,OAAO,QAAQ,MAAM,IAAI,CAAC,QAAQ,GAAG,IAAI,+OAAA,CAAA,UAAG,KAAK,gEAAgE;IAEvH,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO;IAC3B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO,MAAM,oCAAoC;IAErE,IAAI,KAAK;QACP,SAAS,UAAU;QAEnB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,EAAG;YAC3B,GAAG,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,EAAE;QAC3B;QAEA,OAAO;IACT;IAEA,OAAO,CAAA,GAAA,qPAAA,CAAA,kBAAe,AAAD,EAAE;AACzB;uCAEe"}},
    {"offset": {"line": 2613, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2639, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/hooks/afterRead.ts"],"sourcesContent":["import type { CollectionConfig, FieldHook, ImageSize } from 'payload'\n\nimport type { GeneratedAdapter, GenerateFileURL } from '../types.js'\n\ninterface Args {\n  adapter: GeneratedAdapter\n  collection: CollectionConfig\n  disablePayloadAccessControl?: boolean\n  generateFileURL?: GenerateFileURL\n  size?: ImageSize\n}\n\nexport const getAfterReadHook =\n  ({ adapter, collection, disablePayloadAccessControl, generateFileURL, size }: Args): FieldHook =>\n  async ({ data, value }) => {\n    const filename = size ? data?.sizes?.[size.name]?.filename : data?.filename\n    const prefix = data?.prefix\n    let url = value\n\n    if (disablePayloadAccessControl && filename) {\n      url = await adapter.generateURL({\n        collection,\n        data,\n        filename,\n        prefix,\n      })\n    }\n\n    if (generateFileURL) {\n      url = await generateFileURL({\n        collection,\n        filename,\n        prefix,\n        size,\n      })\n    }\n\n    return url\n  }\n"],"names":["getAfterReadHook","adapter","collection","disablePayloadAccessControl","generateFileURL","size","data","value","filename","sizes","name","prefix","url","generateURL"],"mappings":";;;AAYO,MAAMA,mBACX,CAAC,EAAEC,OAAO,EAAEC,UAAU,EAAEC,2BAA2B,EAAEC,eAAe,EAAEC,IAAI,EAAQ,GAClF,OAAO,EAAEC,IAAI,EAAEC,KAAK,EAAE;QACpB,MAAMC,WAAWH,OAAOC,MAAMG,OAAO,CAACJ,KAAKK,IAAI,CAAC,EAAEF,WAAWF,MAAME;QACnE,MAAMG,SAASL,MAAMK;QACrB,IAAIC,MAAML;QAEV,IAAIJ,+BAA+BK,UAAU;YAC3CI,MAAM,MAAMX,QAAQY,WAAW,CAAC;gBAC9BX;gBACAI;gBACAE;gBACAG;YACF;QACF;QAEA,IAAIP,iBAAiB;YACnBQ,MAAM,MAAMR,gBAAgB;gBAC1BF;gBACAM;gBACAG;gBACAN;YACF;QACF;QAEA,OAAOO;IACT,EAAC"}},
    {"offset": {"line": 2664, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2670, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/fields/getFields.ts"],"sourcesContent":["import type { CollectionConfig, Field, GroupField, TextField } from 'payload'\n\nimport path from 'path'\n\nimport type { GeneratedAdapter, GenerateFileURL } from '../types.js'\n\nimport { getAfterReadHook } from '../hooks/afterRead.js'\n\ninterface Args {\n  adapter: GeneratedAdapter\n  collection: CollectionConfig\n  disablePayloadAccessControl?: true\n  generateFileURL?: GenerateFileURL\n  prefix?: string\n}\n\nexport const getFields = ({\n  adapter,\n  collection,\n  disablePayloadAccessControl,\n  generateFileURL,\n  prefix,\n}: Args): Field[] => {\n  const baseURLField: TextField = {\n    name: 'url',\n    type: 'text',\n    admin: {\n      hidden: true,\n      readOnly: true,\n    },\n    label: 'URL',\n  }\n\n  const basePrefixField: TextField = {\n    name: 'prefix',\n    type: 'text',\n    admin: {\n      hidden: true,\n      readOnly: true,\n    },\n  }\n\n  const fields = [...collection.fields, ...(adapter.fields || [])]\n\n  // Inject a hook into all URL fields to generate URLs\n\n  let existingURLFieldIndex = -1\n\n  const existingURLField = fields.find((existingField, i) => {\n    if ('name' in existingField && existingField.name === 'url') {\n      existingURLFieldIndex = i\n      return true\n    }\n    return false\n  }) as TextField\n\n  if (existingURLFieldIndex > -1) {\n    fields.splice(existingURLFieldIndex, 1)\n  }\n\n  fields.push({\n    ...baseURLField,\n    ...(existingURLField || {}),\n    hooks: {\n      afterRead: [\n        getAfterReadHook({ adapter, collection, disablePayloadAccessControl, generateFileURL }),\n        ...(existingURLField?.hooks?.afterRead || []),\n      ],\n    },\n  } as TextField)\n\n  if (typeof collection.upload === 'object' && collection.upload.imageSizes) {\n    let existingSizesFieldIndex = -1\n\n    const existingSizesField = fields.find((existingField, i) => {\n      if ('name' in existingField && existingField.name === 'sizes') {\n        existingSizesFieldIndex = i\n        return true\n      }\n\n      return false\n    }) as GroupField\n\n    if (existingSizesFieldIndex > -1) {\n      fields.splice(existingSizesFieldIndex, 1)\n    }\n\n    const sizesField: Field = {\n      ...(existingSizesField || {}),\n      name: 'sizes',\n      type: 'group',\n      admin: {\n        hidden: true,\n      },\n      fields: collection.upload.imageSizes.map((size) => {\n        const existingSizeField = existingSizesField?.fields.find(\n          (existingField) => 'name' in existingField && existingField.name === size.name,\n        ) as GroupField\n\n        const existingSizeURLField = existingSizeField?.fields.find(\n          (existingField) => 'name' in existingField && existingField.name === 'url',\n        ) as GroupField\n\n        return {\n          ...existingSizeField,\n          name: size.name,\n          type: 'group',\n          fields: [\n            ...(adapter.fields || []),\n            {\n              ...(existingSizeURLField || ({} as any)),\n              ...baseURLField,\n              hooks: {\n                afterRead: [\n                  getAfterReadHook({\n                    adapter,\n                    collection,\n                    disablePayloadAccessControl,\n                    generateFileURL,\n                    size,\n                  }),\n                  ...(existingSizeURLField?.hooks?.afterRead || []),\n                ],\n              },\n            },\n          ],\n        }\n      }),\n    }\n\n    fields.push(sizesField)\n  }\n\n  // If prefix is enabled, save it to db\n  if (typeof prefix !== 'undefined') {\n    let existingPrefixFieldIndex = -1\n\n    const existingPrefixField = fields.find((existingField, i) => {\n      if ('name' in existingField && existingField.name === 'prefix') {\n        existingPrefixFieldIndex = i\n        return true\n      }\n      return false\n    }) as TextField\n\n    if (existingPrefixFieldIndex > -1) {\n      fields.splice(existingPrefixFieldIndex, 1)\n    }\n\n    fields.push({\n      ...basePrefixField,\n      ...(existingPrefixField || {}),\n      defaultValue: path.posix.join(prefix),\n    } as TextField)\n  }\n\n  return fields\n}\n"],"names":["path","getAfterReadHook","getFields","adapter","collection","disablePayloadAccessControl","generateFileURL","prefix","baseURLField","name","type","admin","hidden","readOnly","label","basePrefixField","fields","existingURLFieldIndex","existingURLField","find","existingField","i","splice","push","hooks","afterRead","upload","imageSizes","existingSizesFieldIndex","existingSizesField","sizesField","map","size","existingSizeField","existingSizeURLField","existingPrefixFieldIndex","existingPrefixField","defaultValue","posix","join"],"mappings":"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"}},
    {"offset": {"line": 2797, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2803, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/hooks/afterDelete.ts"],"sourcesContent":["import type { CollectionAfterDeleteHook, CollectionConfig, FileData, TypeWithID } from 'payload'\n\nimport type { GeneratedAdapter, TypeWithPrefix } from '../types.js'\n\ninterface Args {\n  adapter: GeneratedAdapter\n  collection: CollectionConfig\n}\n\nexport const getAfterDeleteHook = ({\n  adapter,\n  collection,\n}: Args): CollectionAfterDeleteHook<FileData & TypeWithID & TypeWithPrefix> => {\n  return async ({ doc, req }) => {\n    try {\n      const filesToDelete: string[] = [\n        doc.filename,\n        ...Object.values(doc?.sizes || []).map((resizedFileData) => resizedFileData?.filename),\n      ]\n\n      const promises = filesToDelete.map(async (filename) => {\n        if (filename) {\n          await adapter.handleDelete({ collection, doc, filename, req })\n        }\n      })\n\n      await Promise.all(promises)\n    } catch (err: unknown) {\n      req.payload.logger.error({\n        err,\n        msg: `There was an error while deleting files corresponding to the ${collection.labels?.singular} with ID ${doc.id}.`,\n      })\n    }\n    return doc\n  }\n}\n"],"names":["getAfterDeleteHook","adapter","collection","doc","req","filesToDelete","filename","Object","values","sizes","map","resizedFileData","promises","handleDelete","Promise","all","err","payload","logger","error","msg","labels","singular","id"],"mappings":";;;AASO,MAAMA,qBAAqB,CAAC,EACjCC,OAAO,EACPC,UAAU,EACL;IACL,OAAO,OAAO,EAAEC,GAAG,EAAEC,GAAG,EAAE;QACxB,IAAI;YACF,MAAMC,gBAA0B;gBAC9BF,IAAIG,QAAQ;mBACTC,OAAOC,MAAM,CAACL,KAAKM,SAAS,EAAE,EAAEC,GAAG,CAAC,CAACC,kBAAoBA,iBAAiBL;aAC9E;YAED,MAAMM,WAAWP,cAAcK,GAAG,CAAC,OAAOJ;gBACxC,IAAIA,UAAU;oBACZ,MAAML,QAAQY,YAAY,CAAC;wBAAEX;wBAAYC;wBAAKG;wBAAUF;oBAAI;gBAC9D;YACF;YAEA,MAAMU,QAAQC,GAAG,CAACH;QACpB,EAAE,OAAOI,KAAc;YACrBZ,IAAIa,OAAO,CAACC,MAAM,CAACC,KAAK,CAAC;gBACvBH;gBACAI,KAAK,CAAC,6DAA6D,EAAElB,WAAWmB,MAAM,EAAEC,SAAS,SAAS,EAAEnB,IAAIoB,EAAE,CAAC,CAAC,CAAC;YACvH;QACF;QACA,OAAOpB;IACT;AACF,EAAC"}},
    {"offset": {"line": 2833, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2839, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/utilities/getIncomingFiles.ts"],"sourcesContent":["import type { FileData, PayloadRequest } from 'payload'\n\nimport type { File } from '../types.js'\n\nexport function getIncomingFiles({\n  data,\n  req,\n}: {\n  data: Partial<FileData>\n  req: PayloadRequest\n}): File[] {\n  const file = req.file\n\n  let files: File[] = []\n\n  if (file && data.filename && data.mimeType) {\n    const mainFile: File = {\n      buffer: file.data,\n      filename: data.filename,\n      filesize: file.size,\n      mimeType: data.mimeType,\n      tempFilePath: file.tempFilePath,\n    }\n\n    files = [mainFile]\n\n    if (data?.sizes) {\n      Object.entries(data.sizes).forEach(([key, resizedFileData]) => {\n        if (req.payloadUploadSizes?.[key] && data.mimeType) {\n          files = files.concat([\n            {\n              buffer: req.payloadUploadSizes[key],\n              filename: `${resizedFileData.filename}`,\n              filesize: req.payloadUploadSizes[key].length,\n              mimeType: data.mimeType,\n            },\n          ])\n        }\n      })\n    }\n  }\n\n  return files\n}\n"],"names":["getIncomingFiles","data","req","file","files","filename","mimeType","mainFile","buffer","filesize","size","tempFilePath","sizes","Object","entries","forEach","key","resizedFileData","payloadUploadSizes","concat","length"],"mappings":";;;AAIO,SAASA,iBAAiB,EAC/BC,IAAI,EACJC,GAAG,EAIJ;IACC,MAAMC,OAAOD,IAAIC,IAAI;IAErB,IAAIC,QAAgB,EAAE;IAEtB,IAAID,QAAQF,KAAKI,QAAQ,IAAIJ,KAAKK,QAAQ,EAAE;QAC1C,MAAMC,WAAiB;YACrBC,QAAQL,KAAKF,IAAI;YACjBI,UAAUJ,KAAKI,QAAQ;YACvBI,UAAUN,KAAKO,IAAI;YACnBJ,UAAUL,KAAKK,QAAQ;YACvBK,cAAcR,KAAKQ,YAAY;QACjC;QAEAP,QAAQ;YAACG;SAAS;QAElB,IAAIN,MAAMW,OAAO;YACfC,OAAOC,OAAO,CAACb,KAAKW,KAAK,EAAEG,OAAO,CAAC,CAAC,CAACC,KAAKC,gBAAgB;gBACxD,IAAIf,IAAIgB,kBAAkB,EAAE,CAACF,IAAI,IAAIf,KAAKK,QAAQ,EAAE;oBAClDF,QAAQA,MAAMe,MAAM,CAAC;wBACnB;4BACEX,QAAQN,IAAIgB,kBAAkB,CAACF,IAAI;4BACnCX,UAAU,CAAC,EAAEY,gBAAgBZ,QAAQ,CAAC,CAAC;4BACvCI,UAAUP,IAAIgB,kBAAkB,CAACF,IAAI,CAACI,MAAM;4BAC5Cd,UAAUL,KAAKK,QAAQ;wBACzB;qBACD;gBACH;YACF;QACF;IACF;IAEA,OAAOF;AACT"}},
    {"offset": {"line": 2873, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2879, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/hooks/beforeChange.ts"],"sourcesContent":["import type { CollectionBeforeChangeHook, CollectionConfig, FileData, TypeWithID } from 'payload'\n\nimport type { GeneratedAdapter } from '../types.js'\n\nimport { getIncomingFiles } from '../utilities/getIncomingFiles.js'\n\ninterface Args {\n  adapter: GeneratedAdapter\n  collection: CollectionConfig\n}\n\nexport const getBeforeChangeHook =\n  ({ adapter, collection }: Args): CollectionBeforeChangeHook<FileData & TypeWithID> =>\n  async ({ data, originalDoc, req }) => {\n    try {\n      const files = getIncomingFiles({ data, req })\n\n      if (files.length > 0) {\n        // If there is an original doc,\n        // And we have new files,\n        // We need to delete the old files before uploading new\n        if (originalDoc) {\n          let filesToDelete: string[] = []\n\n          if (typeof originalDoc?.filename === 'string') {\n            filesToDelete.push(originalDoc.filename)\n          }\n\n          if (typeof originalDoc.sizes === 'object') {\n            filesToDelete = filesToDelete.concat(\n              Object.values(originalDoc?.sizes || []).map(\n                (resizedFileData) => resizedFileData?.filename,\n              ),\n            )\n          }\n\n          const deletionPromises = filesToDelete.map(async (filename) => {\n            if (filename) {\n              await adapter.handleDelete({ collection, doc: originalDoc, filename, req })\n            }\n          })\n\n          await Promise.all(deletionPromises)\n        }\n\n        const promises = files.map(async (file) => {\n          await adapter.handleUpload({ collection, data, file, req })\n        })\n\n        await Promise.all(promises)\n      }\n    } catch (err: unknown) {\n      req.payload.logger.error(\n        `There was an error while uploading files corresponding to the collection ${collection.slug} with filename ${data.filename}:`,\n      )\n      req.payload.logger.error({ err })\n      throw err\n    }\n    return data\n  }\n"],"names":["getIncomingFiles","getBeforeChangeHook","adapter","collection","data","originalDoc","req","files","length","filesToDelete","filename","push","sizes","concat","Object","values","map","resizedFileData","deletionPromises","handleDelete","doc","Promise","all","promises","file","handleUpload","err","payload","logger","error","slug"],"mappings":";;;AAIA,SAASA,gBAAgB,QAAQ,mCAAkC;;AAO5D,MAAMC,sBACX,CAAC,EAAEC,OAAO,EAAEC,UAAU,EAAQ,GAC9B,OAAO,EAAEC,IAAI,EAAEC,WAAW,EAAEC,GAAG,EAAE;QAC/B,IAAI;YACF,MAAMC,YAAQP,wQAAAA,EAAiB;gBAAEI;gBAAME;YAAI;YAE3C,IAAIC,MAAMC,MAAM,GAAG,GAAG;gBACpB,+BAA+B;gBAC/B,yBAAyB;gBACzB,uDAAuD;gBACvD,IAAIH,aAAa;oBACf,IAAII,gBAA0B,EAAE;oBAEhC,IAAI,OAAOJ,aAAaK,aAAa,UAAU;wBAC7CD,cAAcE,IAAI,CAACN,YAAYK,QAAQ;oBACzC;oBAEA,IAAI,OAAOL,YAAYO,KAAK,KAAK,UAAU;wBACzCH,gBAAgBA,cAAcI,MAAM,CAClCC,OAAOC,MAAM,CAACV,aAAaO,SAAS,EAAE,EAAEI,GAAG,CACzC,CAACC,kBAAoBA,iBAAiBP;oBAG5C;oBAEA,MAAMQ,mBAAmBT,cAAcO,GAAG,CAAC,OAAON;wBAChD,IAAIA,UAAU;4BACZ,MAAMR,QAAQiB,YAAY,CAAC;gCAAEhB;gCAAYiB,KAAKf;gCAAaK;gCAAUJ;4BAAI;wBAC3E;oBACF;oBAEA,MAAMe,QAAQC,GAAG,CAACJ;gBACpB;gBAEA,MAAMK,WAAWhB,MAAMS,GAAG,CAAC,OAAOQ;oBAChC,MAAMtB,QAAQuB,YAAY,CAAC;wBAAEtB;wBAAYC;wBAAMoB;wBAAMlB;oBAAI;gBAC3D;gBAEA,MAAMe,QAAQC,GAAG,CAACC;YACpB;QACF,EAAE,OAAOG,KAAc;YACrBpB,IAAIqB,OAAO,CAACC,MAAM,CAACC,KAAK,CACtB,CAAC,yEAAyE,EAAE1B,WAAW2B,IAAI,CAAC,eAAe,EAAE1B,KAAKM,QAAQ,CAAC,CAAC,CAAC;YAE/HJ,IAAIqB,OAAO,CAACC,MAAM,CAACC,KAAK,CAAC;gBAAEH;YAAI;YAC/B,MAAMA;QACR;QACA,OAAOtB;IACT,EAAC"}},
    {"offset": {"line": 2933, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2939, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/plugin.ts"],"sourcesContent":["import type { Config } from 'payload'\n\nimport type { PluginOptions } from './types.js'\n\nimport { getFields } from './fields/getFields.js'\nimport { getAfterDeleteHook } from './hooks/afterDelete.js'\nimport { getBeforeChangeHook } from './hooks/beforeChange.js'\n\n// This plugin extends all targeted collections by offloading uploaded files\n// to cloud storage instead of solely storing files locally.\n\n// It is based on an adapter approach, where adapters can be written for any cloud provider.\n// Adapters are responsible for providing four actions that this plugin will use:\n// 1. handleUpload, 2. handleDelete, 3. generateURL, 4. staticHandler\n\n// Optionally, the adapter can specify any Webpack config overrides if they are necessary.\n\nexport const cloudStoragePlugin =\n  (pluginOptions: PluginOptions) =>\n  (incomingConfig: Config): Config => {\n    const { collections: allCollectionOptions, enabled } = pluginOptions\n    const config = { ...incomingConfig }\n\n    // Return early if disabled. Only webpack config mods are applied.\n    if (enabled === false) {\n      return config\n    }\n\n    const initFunctions: Array<() => void> = []\n\n    return {\n      ...config,\n      collections: (config.collections || []).map((existingCollection) => {\n        const options = allCollectionOptions[existingCollection.slug]\n\n        if (options?.adapter) {\n          const adapter = options.adapter({\n            collection: existingCollection,\n            prefix: options.prefix,\n          })\n\n          if (adapter.onInit) {\n            initFunctions.push(adapter.onInit)\n          }\n\n          const fields = getFields({\n            adapter,\n            collection: existingCollection,\n            disablePayloadAccessControl: options.disablePayloadAccessControl,\n            generateFileURL: options.generateFileURL,\n            prefix: options.prefix,\n          })\n\n          const handlers = [\n            ...(typeof existingCollection.upload === 'object' &&\n            Array.isArray(existingCollection.upload.handlers)\n              ? existingCollection.upload.handlers\n              : []),\n          ]\n\n          if (!options.disablePayloadAccessControl) {\n            handlers.push(adapter.staticHandler)\n          }\n\n          return {\n            ...existingCollection,\n            fields,\n            hooks: {\n              ...(existingCollection.hooks || {}),\n              afterDelete: [\n                ...(existingCollection.hooks?.afterDelete || []),\n                getAfterDeleteHook({ adapter, collection: existingCollection }),\n              ],\n              beforeChange: [\n                ...(existingCollection.hooks?.beforeChange || []),\n                getBeforeChangeHook({ adapter, collection: existingCollection }),\n              ],\n            },\n            upload: {\n              ...(typeof existingCollection.upload === 'object' ? existingCollection.upload : {}),\n              adapter: adapter.name,\n              disableLocalStorage:\n                typeof options.disableLocalStorage === 'boolean'\n                  ? options.disableLocalStorage\n                  : true,\n              handlers,\n            },\n          }\n        }\n\n        return existingCollection\n      }),\n      onInit: async (payload) => {\n        initFunctions.forEach((fn) => fn())\n        if (config.onInit) {\n          await config.onInit(payload)\n        }\n      },\n    }\n  }\n"],"names":["getFields","getAfterDeleteHook","getBeforeChangeHook","cloudStoragePlugin","pluginOptions","incomingConfig","collections","allCollectionOptions","enabled","config","initFunctions","map","existingCollection","options","slug","adapter","collection","prefix","onInit","push","fields","disablePayloadAccessControl","generateFileURL","handlers","upload","Array","isArray","staticHandler","hooks","afterDelete","beforeChange","name","disableLocalStorage","payload","forEach","fn"],"mappings":";;;AAIA,SAASA,SAAS,QAAQ,wBAAuB;AACjD,SAASC,kBAAkB,QAAQ,yBAAwB;AAC3D,SAASC,mBAAmB,QAAQ,0BAAyB;;;;AAWtD,MAAMC,qBACX,CAACC,gBACD,CAACC;QACC,MAAM,EAAEC,aAAaC,oBAAoB,EAAEC,OAAO,EAAE,GAAGJ;QACvD,MAAMK,SAAS;YAAE,GAAGJ,cAAc;QAAC;QAEnC,kEAAkE;QAClE,IAAIG,YAAY,OAAO;YACrB,OAAOC;QACT;QAEA,MAAMC,gBAAmC,EAAE;QAE3C,OAAO;YACL,GAAGD,MAAM;YACTH,aAAcG,CAAAA,OAAOH,WAAW,IAAI,EAAC,EAAGK,GAAG,CAAC,CAACC;gBAC3C,MAAMC,UAAUN,oBAAoB,CAACK,mBAAmBE,IAAI,CAAC;gBAE7D,IAAID,SAASE,SAAS;oBACpB,MAAMA,UAAUF,QAAQE,OAAO,CAAC;wBAC9BC,YAAYJ;wBACZK,QAAQJ,QAAQI,MAAM;oBACxB;oBAEA,IAAIF,QAAQG,MAAM,EAAE;wBAClBR,cAAcS,IAAI,CAACJ,QAAQG,MAAM;oBACnC;oBAEA,MAAME,wPAASpB,YAAAA,EAAU;wBACvBe;wBACAC,YAAYJ;wBACZS,6BAA6BR,QAAQQ,2BAA2B;wBAChEC,iBAAiBT,QAAQS,eAAe;wBACxCL,QAAQJ,QAAQI,MAAM;oBACxB;oBAEA,MAAMM,WAAW;2BACX,OAAOX,mBAAmBY,MAAM,KAAK,YACzCC,MAAMC,OAAO,CAACd,mBAAmBY,MAAM,CAACD,QAAQ,IAC5CX,mBAAmBY,MAAM,CAACD,QAAQ,GAClC,EAAE;qBACP;oBAED,IAAI,CAACV,QAAQQ,2BAA2B,EAAE;wBACxCE,SAASJ,IAAI,CAACJ,QAAQY,aAAa;oBACrC;oBAEA,OAAO;wBACL,GAAGf,kBAAkB;wBACrBQ;wBACAQ,OAAO;4BACL,GAAIhB,mBAAmBgB,KAAK,IAAI,CAAC,CAAC;4BAClCC,aAAa;mCACPjB,mBAAmBgB,KAAK,EAAEC,eAAe,EAAE;gRAC/C5B,qBAAAA,EAAmB;oCAAEc;oCAASC,YAAYJ;gCAAmB;6BAC9D;4BACDkB,cAAc;mCACRlB,mBAAmBgB,KAAK,EAAEE,gBAAgB,EAAE;iRAChD5B,sBAAAA,EAAoB;oCAAEa;oCAASC,YAAYJ;gCAAmB;6BAC/D;wBACH;wBACAY,QAAQ;4BACN,GAAI,OAAOZ,mBAAmBY,MAAM,KAAK,WAAWZ,mBAAmBY,MAAM,GAAG,CAAC,CAAC;4BAClFT,SAASA,QAAQgB,IAAI;4BACrBC,qBACE,OAAOnB,QAAQmB,mBAAmB,KAAK,YACnCnB,QAAQmB,mBAAmB,GAC3B;4BACNT;wBACF;oBACF;gBACF;gBAEA,OAAOX;YACT;YACAM,QAAQ,OAAOe;gBACbvB,cAAcwB,OAAO,CAAC,CAACC,KAAOA;gBAC9B,IAAI1B,OAAOS,MAAM,EAAE;oBACjB,MAAMT,OAAOS,MAAM,CAACe;gBACtB;YACF;QACF;IACF,EAAC"}},
    {"offset": {"line": 3021, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3027, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/index.ts"],"sourcesContent":["export { cloudStoragePlugin } from './plugin.js'\n"],"names":["cloudStoragePlugin"],"mappings":""}},
    {"offset": {"line": 3030, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3045, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/utilities/getFilePrefix.ts"],"sourcesContent":["import type { CollectionConfig, PayloadRequest, UploadConfig } from 'payload'\n\nexport async function getFilePrefix({\n  collection,\n  filename,\n  req,\n}: {\n  collection: CollectionConfig\n  filename: string\n  req: PayloadRequest\n}): Promise<string> {\n  const imageSizes = (collection?.upload as UploadConfig)?.imageSizes || []\n\n  const files = await req.payload.find({\n    collection: collection.slug,\n    depth: 0,\n    limit: 1,\n    pagination: false,\n    where: {\n      or: [\n        {\n          filename: { equals: filename },\n        },\n        ...imageSizes.map((imageSize) => ({\n          [`sizes.${imageSize.name}.filename`]: { equals: filename },\n        })),\n      ],\n    },\n  })\n  const prefix = files?.docs?.[0]?.prefix\n  return prefix ? (prefix as string) : ''\n}\n"],"names":["getFilePrefix","collection","filename","req","imageSizes","upload","files","payload","find","slug","depth","limit","pagination","where","or","equals","map","imageSize","name","prefix","docs"],"mappings":";;;AAEO,eAAeA,cAAc,EAClCC,UAAU,EACVC,QAAQ,EACRC,GAAG,EAKJ;IACC,MAAMC,aAAcH,YAAYI,QAAyBD,cAAc,EAAE;IAEzE,MAAME,QAAQ,MAAMH,IAAII,OAAO,CAACC,IAAI,CAAC;QACnCP,YAAYA,WAAWQ,IAAI;QAC3BC,OAAO;QACPC,OAAO;QACPC,YAAY;QACZC,OAAO;YACLC,IAAI;gBACF;oBACEZ,UAAU;wBAAEa,QAAQb;oBAAS;gBAC/B;mBACGE,WAAWY,GAAG,CAAC,CAACC,YAAe,CAAA;wBAChC,CAAC,CAAC,MAAM,EAAEA,UAAUC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE;4BAAEH,QAAQb;wBAAS;oBAC3D,CAAA;aACD;QACH;IACF;IACA,MAAMiB,SAASb,OAAOc,MAAM,CAAC,EAAE,EAAED;IACjC,OAAOA,SAAUA,SAAoB;AACvC"}},
    {"offset": {"line": 3073, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3079, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/exports/utilities.ts"],"sourcesContent":["export { getFilePrefix } from '../utilities/getFilePrefix.js'\n"],"names":["getFilePrefix"],"mappings":""}},
    {"offset": {"line": 3082, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3097, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/src/generateURL.ts"],"sourcesContent":["import type * as AWS from '@aws-sdk/client-s3'\nimport type { GenerateURL } from '@payloadcms/plugin-cloud-storage/types'\n\nimport path from 'path'\n\ninterface Args {\n  bucket: string\n  config: AWS.S3ClientConfig\n}\n\nexport const getGenerateURL =\n  ({ bucket, config: { endpoint } }: Args): GenerateURL =>\n  ({ filename, prefix = '' }) => {\n    const stringifiedEndpoint = typeof endpoint === 'string' ? endpoint : endpoint?.toString()\n    return `${stringifiedEndpoint}/${bucket}/${path.posix.join(prefix, filename)}`\n  }\n"],"names":["path","getGenerateURL","bucket","config","endpoint","filename","prefix","stringifiedEndpoint","toString","posix","join"],"mappings":";;;AAGA,OAAOA,UAAU,OAAM;;AAOhB,MAAMC,iBACX,CAAC,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAE,EAAQ,GACvC,CAAC,EAAEC,QAAQ,EAAEC,SAAS,EAAE,EAAE;QACxB,MAAMC,sBAAsB,OAAOH,aAAa,WAAWA,WAAWA,UAAUI;QAChF,OAAO,CAAC,EAAED,oBAAoB,CAAC,EAAEL,OAAO,CAAC,gGAAEF,UAAAA,CAAKS,KAAK,CAACC,IAAI,CAACJ,QAAQD,UAAU,CAAC;IAChF,EAAC"}},
    {"offset": {"line": 3106, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3112, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/src/handleDelete.ts"],"sourcesContent":["import type * as AWS from '@aws-sdk/client-s3'\nimport type { HandleDelete } from '@payloadcms/plugin-cloud-storage/types'\n\nimport path from 'path'\n\ninterface Args {\n  bucket: string\n  getStorageClient: () => AWS.S3\n}\n\nexport const getHandleDelete = ({ bucket, getStorageClient }: Args): HandleDelete => {\n  return async ({ doc: { prefix = '' }, filename }) => {\n    await getStorageClient().deleteObject({\n      Bucket: bucket,\n      Key: path.posix.join(prefix, filename),\n    })\n  }\n}\n"],"names":["path","getHandleDelete","bucket","getStorageClient","doc","prefix","filename","deleteObject","Bucket","Key","posix","join"],"mappings":";;;AAGA,OAAOA,UAAU,OAAM;;AAOhB,MAAMC,kBAAkB,CAAC,EAAEC,MAAM,EAAEC,gBAAgB,EAAQ;IAChE,OAAO,OAAO,EAAEC,KAAK,EAAEC,SAAS,EAAE,EAAE,EAAEC,QAAQ,EAAE;QAC9C,MAAMH,mBAAmBI,YAAY,CAAC;YACpCC,QAAQN;YACRO,mGAAKT,UAAAA,CAAKU,KAAK,CAACC,IAAI,CAACN,QAAQC;QAC/B;IACF;AACF,EAAC"}},
    {"offset": {"line": 3125, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3131, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/src/handleUpload.ts"],"sourcesContent":["import type * as AWS from '@aws-sdk/client-s3'\nimport type { HandleUpload } from '@payloadcms/plugin-cloud-storage/types'\nimport type { CollectionConfig } from 'payload'\n\nimport { Upload } from '@aws-sdk/lib-storage'\nimport fs from 'fs'\nimport path from 'path'\n\ninterface Args {\n  acl?: 'private' | 'public-read'\n  bucket: string\n  collection: CollectionConfig\n  getStorageClient: () => AWS.S3\n  prefix?: string\n}\n\nconst multipartThreshold = 1024 * 1024 * 50 // 50MB\n\nexport const getHandleUpload = ({\n  acl,\n  bucket,\n  getStorageClient,\n  prefix = '',\n}: Args): HandleUpload => {\n  return async ({ data, file }) => {\n    const fileKey = path.posix.join(data.prefix || prefix, file.filename)\n\n    const fileBufferOrStream = file.tempFilePath\n      ? fs.createReadStream(file.tempFilePath)\n      : file.buffer\n\n    if (file.buffer.length > 0 && file.buffer.length < multipartThreshold) {\n      await getStorageClient().putObject({\n        ACL: acl,\n        Body: fileBufferOrStream,\n        Bucket: bucket,\n        ContentType: file.mimeType,\n        Key: fileKey,\n      })\n\n      return data\n    }\n\n    const parallelUploadS3 = new Upload({\n      client: getStorageClient(),\n      params: {\n        ACL: acl,\n        Body: fileBufferOrStream,\n        Bucket: bucket,\n        ContentType: file.mimeType,\n        Key: fileKey,\n      },\n      partSize: multipartThreshold,\n      queueSize: 4,\n    })\n\n    await parallelUploadS3.done()\n\n    return data\n  }\n}\n"],"names":["Upload","fs","path","multipartThreshold","getHandleUpload","acl","bucket","getStorageClient","prefix","data","file","fileKey","posix","join","filename","fileBufferOrStream","tempFilePath","createReadStream","buffer","length","putObject","ACL","Body","Bucket","ContentType","mimeType","Key","parallelUploadS3","client","params","partSize","queueSize","done"],"mappings":";;;AAIA,SAASA,MAAM,QAAQ,uBAAsB;AAC7C,OAAOC,QAAQ,KAAI;AACnB,OAAOC,UAAU,OAAM;;;;;AAUvB,MAAMC,qBAAqB,OAAO,OAAO,GAAG,OAAO;;AAE5C,MAAMC,kBAAkB,CAAC,EAC9BC,GAAG,EACHC,MAAM,EACNC,gBAAgB,EAChBC,SAAS,EAAE,EACN;IACL,OAAO,OAAO,EAAEC,IAAI,EAAEC,IAAI,EAAE;QAC1B,MAAMC,wGAAUT,UAAAA,CAAKU,KAAK,CAACC,IAAI,CAACJ,KAAKD,MAAM,IAAIA,QAAQE,KAAKI,QAAQ;QAEpE,MAAMC,qBAAqBL,KAAKM,YAAY,+FACxCf,UAAAA,CAAGgB,gBAAgB,CAACP,KAAKM,YAAY,IACrCN,KAAKQ,MAAM;QAEf,IAAIR,KAAKQ,MAAM,CAACC,MAAM,GAAG,KAAKT,KAAKQ,MAAM,CAACC,MAAM,GAAGhB,oBAAoB;YACrE,MAAMI,mBAAmBa,SAAS,CAAC;gBACjCC,KAAKhB;gBACLiB,MAAMP;gBACNQ,QAAQjB;gBACRkB,aAAad,KAAKe,QAAQ;gBAC1BC,KAAKf;YACP;YAEA,OAAOF;QACT;QAEA,MAAMkB,mBAAmB,2KAAI3B,SAAAA,CAAO;YAClC4B,QAAQrB;YACRsB,QAAQ;gBACNR,KAAKhB;gBACLiB,MAAMP;gBACNQ,QAAQjB;gBACRkB,aAAad,KAAKe,QAAQ;gBAC1BC,KAAKf;YACP;YACAmB,UAAU3B;YACV4B,WAAW;QACb;QAEA,MAAMJ,iBAAiBK,IAAI;QAE3B,OAAOvB;IACT;AACF,EAAC"}},
    {"offset": {"line": 3173, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3179, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/src/staticHandler.ts"],"sourcesContent":["import type * as AWS from '@aws-sdk/client-s3'\nimport type { StaticHandler } from '@payloadcms/plugin-cloud-storage/types'\nimport type { CollectionConfig } from 'payload'\n\nimport { getFilePrefix } from '@payloadcms/plugin-cloud-storage/utilities'\nimport path from 'path'\n\ninterface Args {\n  bucket: string\n  collection: CollectionConfig\n  getStorageClient: () => AWS.S3\n}\n\n// Convert a stream into a promise that resolves with a Buffer\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst streamToBuffer = async (readableStream: any) => {\n  const chunks = []\n  for await (const chunk of readableStream) {\n    chunks.push(typeof chunk === 'string' ? Buffer.from(chunk) : chunk)\n  }\n  return Buffer.concat(chunks)\n}\n\nexport const getHandler = ({ bucket, collection, getStorageClient }: Args): StaticHandler => {\n  return async (req, { params: { filename } }) => {\n    try {\n      const prefix = await getFilePrefix({ collection, filename, req })\n\n      const object = await getStorageClient().getObject({\n        Bucket: bucket,\n        Key: path.posix.join(prefix, filename),\n      })\n\n      if (!object.Body) {\n        return new Response(null, { status: 404, statusText: 'Not Found' })\n      }\n\n      const bodyBuffer = await streamToBuffer(object.Body)\n\n      return new Response(bodyBuffer, {\n        headers: new Headers({\n          'Accept-Ranges': String(object.AcceptRanges),\n          'Content-Length': String(object.ContentLength),\n          'Content-Type': String(object.ContentType),\n          ETag: String(object.ETag),\n        }),\n        status: 200,\n      })\n    } catch (err) {\n      req.payload.logger.error(err)\n      return new Response('Internal Server Error', { status: 500 })\n    }\n  }\n}\n"],"names":["getFilePrefix","path","streamToBuffer","readableStream","chunks","chunk","push","Buffer","from","concat","getHandler","bucket","collection","getStorageClient","req","params","filename","prefix","object","getObject","Bucket","Key","posix","join","Body","Response","status","statusText","bodyBuffer","headers","Headers","String","AcceptRanges","ContentLength","ContentType","ETag","err","payload","logger","error"],"mappings":";;;AAIA,SAASA,aAAa,QAAQ,6CAA4C;AAC1E,OAAOC,UAAU,OAAM;;;;AAQvB,8DAA8D;AAC9D,8DAA8D;AAC9D,MAAMC,iBAAiB,OAAOC;IAC5B,MAAMC,SAAS,EAAE;IACjB,WAAW,MAAMC,SAASF,eAAgB;QACxCC,OAAOE,IAAI,CAAC,OAAOD,UAAU,WAAWE,OAAOC,IAAI,CAACH,SAASA;IAC/D;IACA,OAAOE,OAAOE,MAAM,CAACL;AACvB;AAEO,MAAMM,aAAa,CAAC,EAAEC,MAAM,EAAEC,UAAU,EAAEC,gBAAgB,EAAQ;IACvE,OAAO,OAAOC,KAAK,EAAEC,QAAQ,EAAEC,QAAQ,EAAE,EAAE;QACzC,IAAI;YACF,MAAMC,SAAS,4PAAMjB,gBAAAA,EAAc;gBAAEY;gBAAYI;gBAAUF;YAAI;YAE/D,MAAMI,SAAS,MAAML,mBAAmBM,SAAS,CAAC;gBAChDC,QAAQT;gBACRU,mGAAKpB,UAAAA,CAAKqB,KAAK,CAACC,IAAI,CAACN,QAAQD;YAC/B;YAEA,IAAI,CAACE,OAAOM,IAAI,EAAE;gBAChB,OAAO,IAAIC,SAAS,MAAM;oBAAEC,QAAQ;oBAAKC,YAAY;gBAAY;YACnE;YAEA,MAAMC,aAAa,MAAM1B,eAAegB,OAAOM,IAAI;YAEnD,OAAO,IAAIC,SAASG,YAAY;gBAC9BC,SAAS,IAAIC,QAAQ;oBACnB,iBAAiBC,OAAOb,OAAOc,YAAY;oBAC3C,kBAAkBD,OAAOb,OAAOe,aAAa;oBAC7C,gBAAgBF,OAAOb,OAAOgB,WAAW;oBACzCC,MAAMJ,OAAOb,OAAOiB,IAAI;gBAC1B;gBACAT,QAAQ;YACV;QACF,EAAE,OAAOU,KAAK;YACZtB,IAAIuB,OAAO,CAACC,MAAM,CAACC,KAAK,CAACH;YACzB,OAAO,IAAIX,SAAS,yBAAyB;gBAAEC,QAAQ;YAAI;QAC7D;IACF;AACF,EAAC"}},
    {"offset": {"line": 3232, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3238, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/src/index.ts"],"sourcesContent":["import type {\n  Adapter,\n  PluginOptions as CloudStoragePluginOptions,\n  CollectionOptions,\n  GeneratedAdapter,\n} from '@payloadcms/plugin-cloud-storage/types'\nimport type { Config, Plugin } from 'payload'\n\nimport * as AWS from '@aws-sdk/client-s3'\nimport { cloudStoragePlugin } from '@payloadcms/plugin-cloud-storage'\n\nimport { getGenerateURL } from './generateURL.js'\nimport { getHandleDelete } from './handleDelete.js'\nimport { getHandleUpload } from './handleUpload.js'\nimport { getHandler } from './staticHandler.js'\n\nexport type S3StorageOptions = {\n  /**\n   * Access control list for uploaded files.\n   */\n\n  acl?: 'private' | 'public-read'\n  /**\n   * Bucket name to upload files to.\n   *\n   * Must follow [AWS S3 bucket naming conventions](https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucketnamingrules.html).\n   */\n\n  bucket: string\n\n  /**\n   * Collection options to apply the S3 adapter to.\n   */\n  collections: Record<string, Omit<CollectionOptions, 'adapter'> | true>\n  /**\n   * AWS S3 client configuration. Highly dependent on your AWS setup.\n   *\n   * [AWS.S3ClientConfig Docs](https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/clients/client-s3/interfaces/s3clientconfig.html)\n   */\n  config: AWS.S3ClientConfig\n\n  /**\n   * Whether or not to disable local storage\n   *\n   * @default true\n   */\n  disableLocalStorage?: boolean\n\n  /**\n   * Whether or not to enable the plugin\n   *\n   * Default: true\n   */\n  enabled?: boolean\n}\n\ntype S3StoragePlugin = (storageS3Args: S3StorageOptions) => Plugin\n\nexport const s3Storage: S3StoragePlugin =\n  (s3StorageOptions: S3StorageOptions) =>\n  (incomingConfig: Config): Config => {\n    if (s3StorageOptions.enabled === false) {\n      return incomingConfig\n    }\n\n    const adapter = s3StorageInternal(s3StorageOptions)\n\n    // Add adapter to each collection option object\n    const collectionsWithAdapter: CloudStoragePluginOptions['collections'] = Object.entries(\n      s3StorageOptions.collections,\n    ).reduce(\n      (acc, [slug, collOptions]) => ({\n        ...acc,\n        [slug]: {\n          ...(collOptions === true ? {} : collOptions),\n          adapter,\n        },\n      }),\n      {} as Record<string, CollectionOptions>,\n    )\n\n    // Set disableLocalStorage: true for collections specified in the plugin options\n    const config = {\n      ...incomingConfig,\n      collections: (incomingConfig.collections || []).map((collection) => {\n        if (!collectionsWithAdapter[collection.slug]) {\n          return collection\n        }\n\n        return {\n          ...collection,\n          upload: {\n            ...(typeof collection.upload === 'object' ? collection.upload : {}),\n            disableLocalStorage: true,\n          },\n        }\n      }),\n    }\n\n    return cloudStoragePlugin({\n      collections: collectionsWithAdapter,\n    })(config)\n  }\n\nfunction s3StorageInternal({ acl, bucket, config = {} }: S3StorageOptions): Adapter {\n  return ({ collection, prefix }): GeneratedAdapter => {\n    let storageClient: AWS.S3 | null = null\n    const getStorageClient: () => AWS.S3 = () => {\n      if (storageClient) {\n        return storageClient\n      }\n      storageClient = new AWS.S3(config)\n      return storageClient\n    }\n\n    return {\n      name: 's3',\n      generateURL: getGenerateURL({ bucket, config }),\n      handleDelete: getHandleDelete({ bucket, getStorageClient }),\n      handleUpload: getHandleUpload({\n        acl,\n        bucket,\n        collection,\n        getStorageClient,\n        prefix,\n      }),\n      staticHandler: getHandler({ bucket, collection, getStorageClient }),\n    }\n  }\n}\n"],"names":["AWS","cloudStoragePlugin","getGenerateURL","getHandleDelete","getHandleUpload","getHandler","s3Storage","s3StorageOptions","incomingConfig","enabled","adapter","s3StorageInternal","collectionsWithAdapter","Object","entries","collections","reduce","acc","slug","collOptions","config","map","collection","upload","disableLocalStorage","acl","bucket","prefix","storageClient","getStorageClient","S3","name","generateURL","handleDelete","handleUpload","staticHandler"],"mappings":";;;AAQA,YAAYA,SAAS,qBAAoB;AACzC,SAASC,kBAAkB,QAAQ,mCAAkC;AAErE,SAASC,cAAc,QAAQ,mBAAkB;AACjD,SAASC,eAAe,QAAQ,oBAAmB;AACnD,SAASC,eAAe,QAAQ,oBAAmB;AACnD,SAASC,UAAU,QAAQ,qBAAoB;;;;;;;;AA4CxC,MAAMC,YACX,CAACC,mBACD,CAACC;QACC,IAAID,iBAAiBE,OAAO,KAAK,OAAO;YACtC,OAAOD;QACT;QAEA,MAAME,UAAUC,kBAAkBJ;QAElC,+CAA+C;QAC/C,MAAMK,yBAAmEC,OAAOC,OAAO,CACrFP,iBAAiBQ,WAAW,EAC5BC,MAAM,CACN,CAACC,KAAK,CAACC,MAAMC,YAAY,GAAM,CAAA;gBAC7B,GAAGF,GAAG;gBACN,CAACC,KAAK,EAAE;oBACN,GAAIC,gBAAgB,OAAO,CAAC,IAAIA,WAAW;oBAC3CT;gBACF;YACF,CAAA,GACA,CAAC;QAGH,gFAAgF;QAChF,MAAMU,SAAS;YACb,GAAGZ,cAAc;YACjBO,aAAcP,CAAAA,eAAeO,WAAW,IAAI,EAAC,EAAGM,GAAG,CAAC,CAACC;gBACnD,IAAI,CAACV,sBAAsB,CAACU,WAAWJ,IAAI,CAAC,EAAE;oBAC5C,OAAOI;gBACT;gBAEA,OAAO;oBACL,GAAGA,UAAU;oBACbC,QAAQ;wBACN,GAAI,OAAOD,WAAWC,MAAM,KAAK,WAAWD,WAAWC,MAAM,GAAG,CAAC,CAAC;wBAClEC,qBAAqB;oBACvB;gBACF;YACF;QACF;QAEA,yOAAOvB,qBAAAA,EAAmB;YACxBc,aAAaH;QACf,GAAGQ;IACL,EAAC;AAEH,SAAST,kBAAkB,EAAEc,GAAG,EAAEC,MAAM,EAAEN,SAAS,CAAC,CAAC,EAAoB;IACvE,OAAO,CAAC,EAAEE,UAAU,EAAEK,MAAM,EAAE;QAC5B,IAAIC,gBAA+B;QACnC,MAAMC,mBAAiC;YACrC,IAAID,eAAe;gBACjB,OAAOA;YACT;YACAA,gBAAgB,IAAI5B,sHAAI8B,EAAE,CAACV;YAC3B,OAAOQ;QACT;QAEA,OAAO;YACLG,MAAM;YACNC,cAAa9B,yLAAAA,EAAe;gBAAEwB;gBAAQN;YAAO;YAC7Ca,wLAAc9B,kBAAAA,EAAgB;gBAAEuB;gBAAQG;YAAiB;YACzDK,wLAAc9B,kBAAAA,EAAgB;gBAC5BqB;gBACAC;gBACAJ;gBACAO;gBACAF;YACF;YACAQ,0LAAe9B,aAAAA,EAAW;gBAAEqB;gBAAQJ;gBAAYO;YAAiB;QACnE;IACF;AACF"}},
    {"offset": {"line": 3322, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3328, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/src/connect.ts"],"sourcesContent":["import type { DrizzleAdapter } from '@payloadcms/drizzle/types'\nimport type { Connect, Payload } from 'payload'\n\nimport { pushDevSchema } from '@payloadcms/drizzle'\nimport { drizzle } from 'drizzle-orm/node-postgres'\nimport pg from 'pg'\n\nimport type { PostgresAdapter } from './types.js'\n\nconst connectWithReconnect = async function ({\n  adapter,\n  payload,\n  reconnect = false,\n}: {\n  adapter: PostgresAdapter\n  payload: Payload\n  reconnect?: boolean\n}) {\n  let result\n\n  if (!reconnect) {\n    result = await adapter.pool.connect()\n  } else {\n    try {\n      result = await adapter.pool.connect()\n    } catch (ignore) {\n      setTimeout(() => {\n        payload.logger.info('Reconnecting to postgres')\n        void connectWithReconnect({ adapter, payload, reconnect: true })\n      }, 1000)\n    }\n  }\n  if (!result) {\n    return\n  }\n  result.prependListener('error', (err) => {\n    try {\n      if (err.code === 'ECONNRESET') {\n        void connectWithReconnect({ adapter, payload, reconnect: true })\n      }\n    } catch (ignore) {\n      // swallow error\n    }\n  })\n}\n\nexport const connect: Connect = async function connect(\n  this: PostgresAdapter,\n  options = {\n    hotReload: false,\n  },\n) {\n  const { hotReload } = options\n\n  this.schema = {\n    pgSchema: this.pgSchema,\n    ...this.tables,\n    ...this.relations,\n    ...this.enums,\n  }\n\n  try {\n    if (!this.pool) {\n      this.pool = new pg.Pool(this.poolOptions)\n      await connectWithReconnect({ adapter: this, payload: this.payload })\n    }\n\n    const logger = this.logger || false\n    this.drizzle = drizzle({ client: this.pool, logger, schema: this.schema })\n\n    if (!hotReload) {\n      if (process.env.PAYLOAD_DROP_DATABASE === 'true') {\n        this.payload.logger.info(`---- DROPPING TABLES SCHEMA(${this.schemaName || 'public'}) ----`)\n        await this.dropDatabase({ adapter: this })\n        this.payload.logger.info('---- DROPPED TABLES ----')\n      }\n    }\n  } catch (err) {\n    if (err.message?.match(/database .* does not exist/i) && !this.disableCreateDatabase) {\n      // capitalize first char of the err msg\n      this.payload.logger.info(\n        `${err.message.charAt(0).toUpperCase() + err.message.slice(1)}, creating...`,\n      )\n      const isCreated = await this.createDatabase()\n\n      if (isCreated) {\n        await this.connect(options)\n        return\n      }\n    } else {\n      this.payload.logger.error({\n        err,\n        msg: `Error: cannot connect to Postgres. Details: ${err.message}`,\n      })\n    }\n\n    if (typeof this.rejectInitializing === 'function') {\n      this.rejectInitializing()\n    }\n    process.exit(1)\n  }\n\n  // Only push schema if not in production\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    process.env.PAYLOAD_MIGRATING !== 'true' &&\n    this.push !== false\n  ) {\n    await pushDevSchema(this as unknown as DrizzleAdapter)\n  }\n\n  if (typeof this.resolveInitializing === 'function') {\n    this.resolveInitializing()\n  }\n\n  if (process.env.NODE_ENV === 'production' && this.prodMigrations) {\n    await this.migrate({ migrations: this.prodMigrations })\n  }\n}\n"],"names":["pushDevSchema","drizzle","pg","connectWithReconnect","adapter","payload","reconnect","result","pool","connect","ignore","setTimeout","logger","info","prependListener","err","code","options","hotReload","schema","pgSchema","tables","relations","enums","Pool","poolOptions","client","process","env","PAYLOAD_DROP_DATABASE","schemaName","dropDatabase","message","match","disableCreateDatabase","charAt","toUpperCase","slice","isCreated","createDatabase","error","msg","rejectInitializing","exit","NODE_ENV","PAYLOAD_MIGRATING","push","resolveInitializing","prodMigrations","migrate","migrations"],"mappings":"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"}},
    {"offset": {"line": 3437, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3443, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/src/index.ts"],"sourcesContent":["import type { DatabaseAdapterObj, Payload } from 'payload'\n\nimport {\n  beginTransaction,\n  commitTransaction,\n  count,\n  create,\n  createGlobal,\n  createGlobalVersion,\n  createVersion,\n  deleteMany,\n  deleteOne,\n  deleteVersions,\n  destroy,\n  find,\n  findGlobal,\n  findGlobalVersions,\n  findMigrationDir,\n  findOne,\n  findVersions,\n  migrate,\n  migrateDown,\n  migrateFresh,\n  migrateRefresh,\n  migrateReset,\n  migrateStatus,\n  operatorMap,\n  queryDrafts,\n  rollbackTransaction,\n  updateGlobal,\n  updateGlobalVersion,\n  updateOne,\n  updateVersion,\n} from '@payloadcms/drizzle'\nimport {\n  convertPathToJSONTraversal,\n  countDistinct,\n  createDatabase,\n  createJSONQuery,\n  createMigration,\n  defaultDrizzleSnapshot,\n  deleteWhere,\n  dropDatabase,\n  execute,\n  getMigrationTemplate,\n  init,\n  insert,\n  requireDrizzleKit,\n} from '@payloadcms/drizzle/postgres'\nimport { pgEnum, pgSchema, pgTable } from 'drizzle-orm/pg-core'\nimport { createDatabaseAdapter, defaultBeginTransaction } from 'payload'\n\nimport type { Args, PostgresAdapter } from './types.js'\n\nimport { connect } from './connect.js'\n\nexport function postgresAdapter(args: Args): DatabaseAdapterObj<PostgresAdapter> {\n  const postgresIDType = args.idType || 'serial'\n  const payloadIDType = postgresIDType === 'serial' ? 'number' : 'text'\n\n  function adapter({ payload }: { payload: Payload }) {\n    const migrationDir = findMigrationDir(args.migrationDir)\n    let resolveInitializing\n    let rejectInitializing\n    let adapterSchema: PostgresAdapter['pgSchema']\n\n    const initializing = new Promise<void>((res, rej) => {\n      resolveInitializing = res\n      rejectInitializing = rej\n    })\n\n    if (args.schemaName) {\n      adapterSchema = pgSchema(args.schemaName)\n    } else {\n      adapterSchema = { enum: pgEnum, table: pgTable }\n    }\n\n    return createDatabaseAdapter<PostgresAdapter>({\n      name: 'postgres',\n      afterSchemaInit: args.afterSchemaInit ?? [],\n      beforeSchemaInit: args.beforeSchemaInit ?? [],\n      createDatabase,\n      defaultDrizzleSnapshot,\n      disableCreateDatabase: args.disableCreateDatabase ?? false,\n      drizzle: undefined,\n      enums: {},\n      features: {\n        json: true,\n      },\n      fieldConstraints: {},\n      getMigrationTemplate,\n      idType: postgresIDType,\n      initializing,\n      localesSuffix: args.localesSuffix || '_locales',\n      logger: args.logger,\n      operators: operatorMap,\n      pgSchema: adapterSchema,\n      pool: undefined,\n      poolOptions: args.pool,\n      prodMigrations: args.prodMigrations,\n      push: args.push,\n      relations: {},\n      relationshipsSuffix: args.relationshipsSuffix || '_rels',\n      schema: {},\n      schemaName: args.schemaName,\n      sessions: {},\n      tableNameMap: new Map<string, string>(),\n      tables: {},\n      transactionOptions: args.transactionOptions || undefined,\n      versionsSuffix: args.versionsSuffix || '_v',\n\n      // DatabaseAdapter\n      beginTransaction:\n        args.transactionOptions === false ? defaultBeginTransaction() : beginTransaction,\n      commitTransaction,\n      connect,\n      convertPathToJSONTraversal,\n      count,\n      countDistinct,\n      create,\n      createGlobal,\n      createGlobalVersion,\n      createJSONQuery,\n      createMigration,\n      createVersion,\n      defaultIDType: payloadIDType,\n      deleteMany,\n      deleteOne,\n      deleteVersions,\n      deleteWhere,\n      destroy,\n      dropDatabase,\n      execute,\n      find,\n      findGlobal,\n      findGlobalVersions,\n      findOne,\n      findVersions,\n      indexes: new Set<string>(),\n      init,\n      insert,\n      migrate,\n      migrateDown,\n      migrateFresh,\n      migrateRefresh,\n      migrateReset,\n      migrateStatus,\n      migrationDir,\n      packageName: '@payloadcms/db-postgres',\n      payload,\n      queryDrafts,\n      rejectInitializing,\n      requireDrizzleKit,\n      resolveInitializing,\n      rollbackTransaction,\n      updateGlobal,\n      updateGlobalVersion,\n      updateOne,\n      updateVersion,\n      upsert: updateOne,\n    })\n  }\n\n  return {\n    defaultIDType: payloadIDType,\n    init: adapter,\n  }\n}\n\nexport type { MigrateDownArgs, MigrateUpArgs } from '@payloadcms/drizzle/postgres'\nexport { sql } from 'drizzle-orm'\n"],"names":["beginTransaction","commitTransaction","count","create","createGlobal","createGlobalVersion","createVersion","deleteMany","deleteOne","deleteVersions","destroy","find","findGlobal","findGlobalVersions","findMigrationDir","findOne","findVersions","migrate","migrateDown","migrateFresh","migrateRefresh","migrateReset","migrateStatus","operatorMap","queryDrafts","rollbackTransaction","updateGlobal","updateGlobalVersion","updateOne","updateVersion","convertPathToJSONTraversal","countDistinct","createDatabase","createJSONQuery","createMigration","defaultDrizzleSnapshot","deleteWhere","dropDatabase","execute","getMigrationTemplate","init","insert","requireDrizzleKit","pgEnum","pgSchema","pgTable","createDatabaseAdapter","defaultBeginTransaction","connect","postgresAdapter","args","postgresIDType","idType","payloadIDType","adapter","payload","migrationDir","resolveInitializing","rejectInitializing","adapterSchema","initializing","Promise","res","rej","schemaName","enum","table","name","afterSchemaInit","beforeSchemaInit","disableCreateDatabase","drizzle","undefined","enums","features","json","fieldConstraints","localesSuffix","logger","operators","pool","poolOptions","prodMigrations","push","relations","relationshipsSuffix","schema","sessions","tableNameMap","Map","tables","transactionOptions","versionsSuffix","defaultIDType","indexes","Set","packageName","upsert","sql"],"mappings":"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"}},
    {"offset": {"line": 3610, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3627, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/fields/breadcrumbs.ts"],"sourcesContent":["import type { ArrayField, Field } from 'payload'\n\nexport const createBreadcrumbsField = (\n  relationTo: string,\n  overrides: Partial<ArrayField> = {},\n): Field => ({\n  name: 'breadcrumbs',\n  type: 'array',\n  localized: true,\n  ...(overrides || {}),\n  admin: {\n    readOnly: true,\n    ...(overrides?.admin || {}),\n  },\n  fields: [\n    {\n      name: 'doc',\n      type: 'relationship',\n      admin: {\n        disabled: true,\n      },\n      maxDepth: 0,\n      relationTo,\n    },\n    {\n      type: 'row',\n      fields: [\n        {\n          name: 'url',\n          type: 'text',\n          admin: {\n            width: '50%',\n          },\n          label: 'URL',\n        },\n        {\n          name: 'label',\n          type: 'text',\n          admin: {\n            width: '50%',\n          },\n        },\n      ],\n    },\n    ...(overrides?.fields || []),\n  ],\n})\n"],"names":["createBreadcrumbsField","relationTo","overrides","name","type","localized","admin","readOnly","fields","disabled","maxDepth","width","label"],"mappings":";;;AAEO,MAAMA,yBAAyB,CACpCC,YACAC,YAAiC,CAAC,CAAC,GACxB,CAAA;QACXC,MAAM;QACNC,MAAM;QACNC,WAAW;QACX,GAAIH,aAAa,CAAC,CAAC;QACnBI,OAAO;YACLC,UAAU;YACV,GAAIL,WAAWI,SAAS,CAAC,CAAC;QAC5B;QACAE,QAAQ;YACN;gBACEL,MAAM;gBACNC,MAAM;gBACNE,OAAO;oBACLG,UAAU;gBACZ;gBACAC,UAAU;gBACVT;YACF;YACA;gBACEG,MAAM;gBACNI,QAAQ;oBACN;wBACEL,MAAM;wBACNC,MAAM;wBACNE,OAAO;4BACLK,OAAO;wBACT;wBACAC,OAAO;oBACT;oBACA;wBACET,MAAM;wBACNC,MAAM;wBACNE,OAAO;4BACLK,OAAO;wBACT;oBACF;iBACD;YACH;eACIT,WAAWM,UAAU,EAAE;SAC5B;IACH,CAAA,EAAE"}},
    {"offset": {"line": 3672, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3678, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/fields/parent.ts"],"sourcesContent":["import type { SingleRelationshipField } from 'payload'\n\nexport const createParentField = (\n  relationTo: string,\n  overrides?: Partial<\n    {\n      hasMany: false\n    } & SingleRelationshipField\n  >,\n): SingleRelationshipField => ({\n  name: 'parent',\n  admin: {\n    position: 'sidebar',\n    ...(overrides?.admin || {}),\n  },\n  // filterOptions are assigned dynamically based on the pluginConfig\n  // filterOptions: parentFilterOptions(),\n  type: 'relationship',\n  maxDepth: 1,\n  relationTo,\n  ...(overrides || {}),\n})\n"],"names":["createParentField","relationTo","overrides","name","admin","position","type","maxDepth"],"mappings":";;;AAEO,MAAMA,oBAAoB,CAC/BC,YACAC,YAK6B,CAAA;QAC7BC,MAAM;QACNC,OAAO;YACLC,UAAU;YACV,GAAIH,WAAWE,SAAS,CAAC,CAAC;QAC5B;QACA,mEAAmE;QACnE,wCAAwC;QACxCE,MAAM;QACNC,UAAU;QACVN;QACA,GAAIC,aAAa,CAAC,CAAC;IACrB,CAAA,EAAE"}},
    {"offset": {"line": 3694, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3700, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/fields/parentFilterOptions.ts"],"sourcesContent":["import type { FilterOptions } from 'payload'\n\nexport const parentFilterOptions: (breadcrumbsFieldSlug?: string) => FilterOptions =\n  (breadcrumbsFieldSlug = 'breadcrumbs') =>\n  ({ id }) => {\n    if (id) {\n      return {\n        id: { not_equals: id },\n        [`${breadcrumbsFieldSlug}.doc`]: { not_in: [id] },\n      }\n    }\n\n    return null\n  }\n"],"names":["parentFilterOptions","breadcrumbsFieldSlug","id","not_equals","not_in"],"mappings":";;;AAEO,MAAMA,sBACX,CAACC,uBAAuB,aAAa,GACrC,CAAC,EAAEC,EAAE,EAAE;QACL,IAAIA,IAAI;YACN,OAAO;gBACLA,IAAI;oBAAEC,YAAYD;gBAAG;gBACrB,CAAC,CAAC,EAAED,qBAAqB,IAAI,CAAC,CAAC,EAAE;oBAAEG,QAAQ;wBAACF;qBAAG;gBAAC;YAClD;QACF;QAEA,OAAO;IACT,EAAC"}},
    {"offset": {"line": 3718, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3724, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/utilities/formatBreadcrumb.ts"],"sourcesContent":["import type { CollectionConfig } from 'payload'\n\nimport type { Breadcrumb, NestedDocsPluginConfig } from '../types.js'\n\nexport const formatBreadcrumb = (\n  pluginConfig: NestedDocsPluginConfig,\n  collection: CollectionConfig,\n  docs: Array<Record<string, unknown>>,\n): Breadcrumb => {\n  let url: string | undefined = undefined\n  let label: string\n\n  const lastDoc = docs[docs.length - 1]\n\n  if (typeof pluginConfig?.generateURL === 'function') {\n    url = pluginConfig.generateURL(docs, lastDoc)\n  }\n\n  if (typeof pluginConfig?.generateLabel === 'function') {\n    label = pluginConfig.generateLabel(docs, lastDoc)\n  } else {\n    const useAsTitle = collection?.admin?.useAsTitle || 'id'\n    label = lastDoc[useAsTitle] as string\n  }\n\n  return {\n    doc: lastDoc.id as string,\n    label,\n    url,\n  }\n}\n"],"names":["formatBreadcrumb","pluginConfig","collection","docs","url","undefined","label","lastDoc","length","generateURL","generateLabel","useAsTitle","admin","doc","id"],"mappings":";;;AAIO,MAAMA,mBAAmB,CAC9BC,cACAC,YACAC;IAEA,IAAIC,MAA0BC;IAC9B,IAAIC;IAEJ,MAAMC,UAAUJ,IAAI,CAACA,KAAKK,MAAM,GAAG,EAAE;IAErC,IAAI,OAAOP,cAAcQ,gBAAgB,YAAY;QACnDL,MAAMH,aAAaQ,WAAW,CAACN,MAAMI;IACvC;IAEA,IAAI,OAAON,cAAcS,kBAAkB,YAAY;QACrDJ,QAAQL,aAAaS,aAAa,CAACP,MAAMI;IAC3C,OAAO;QACL,MAAMI,aAAaT,YAAYU,OAAOD,cAAc;QACpDL,QAAQC,OAAO,CAACI,WAAW;IAC7B;IAEA,OAAO;QACLE,KAAKN,QAAQO,EAAE;QACfR;QACAF;IACF;AACF,EAAC"}},
    {"offset": {"line": 3746, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3752, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/utilities/getParents.ts"],"sourcesContent":["import type { CollectionConfig } from 'payload'\n\nimport type { NestedDocsPluginConfig } from '../types.js'\n\nexport const getParents = async (\n  req: any,\n  pluginConfig: NestedDocsPluginConfig,\n  collection: CollectionConfig,\n  doc: Record<string, unknown>,\n  docs: Array<Record<string, unknown>> = [],\n): Promise<Array<Record<string, unknown>>> => {\n  const parentSlug = pluginConfig?.parentFieldSlug || 'parent'\n  const parent = doc[parentSlug]\n  let retrievedParent\n\n  if (parent) {\n    // If not auto-populated, and we have an ID\n    if (typeof parent === 'string' || typeof parent === 'number') {\n      retrievedParent = await req.payload.findByID({\n        id: parent,\n        collection: collection.slug,\n        depth: 0,\n        disableErrors: true,\n        req,\n      })\n    }\n\n    // If auto-populated\n    if (typeof parent === 'object') {\n      retrievedParent = parent\n    }\n\n    if (retrievedParent) {\n      if (retrievedParent[parentSlug]) {\n        return getParents(req, pluginConfig, collection, retrievedParent, [\n          retrievedParent,\n          ...docs,\n        ])\n      }\n\n      return [retrievedParent, ...docs]\n    }\n  }\n\n  return docs\n}\n"],"names":["getParents","req","pluginConfig","collection","doc","docs","parentSlug","parentFieldSlug","parent","retrievedParent","payload","findByID","id","slug","depth","disableErrors"],"mappings":";;;AAIO,MAAMA,aAAa,OACxBC,KACAC,cACAC,YACAC,KACAC,OAAuC,EAAE;IAEzC,MAAMC,aAAaJ,cAAcK,mBAAmB;IACpD,MAAMC,SAASJ,GAAG,CAACE,WAAW;IAC9B,IAAIG;IAEJ,IAAID,QAAQ;QACV,2CAA2C;QAC3C,IAAI,OAAOA,WAAW,YAAY,OAAOA,WAAW,UAAU;YAC5DC,kBAAkB,MAAMR,IAAIS,OAAO,CAACC,QAAQ,CAAC;gBAC3CC,IAAIJ;gBACJL,YAAYA,WAAWU,IAAI;gBAC3BC,OAAO;gBACPC,eAAe;gBACfd;YACF;QACF;QAEA,oBAAoB;QACpB,IAAI,OAAOO,WAAW,UAAU;YAC9BC,kBAAkBD;QACpB;QAEA,IAAIC,iBAAiB;YACnB,IAAIA,eAAe,CAACH,WAAW,EAAE;gBAC/B,OAAON,WAAWC,KAAKC,cAAcC,YAAYM,iBAAiB;oBAChEA;uBACGJ;iBACJ;YACH;YAEA,OAAO;gBAACI;mBAAoBJ;aAAK;QACnC;IACF;IAEA,OAAOA;AACT,EAAC"}},
    {"offset": {"line": 3789, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3795, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/utilities/populateBreadcrumbs.ts"],"sourcesContent":["import type { CollectionConfig } from 'payload'\n\nimport type { NestedDocsPluginConfig } from '../types.js'\n\nimport { formatBreadcrumb } from './formatBreadcrumb.js'\nimport { getParents } from './getParents.js'\n\nexport const populateBreadcrumbs = async (\n  req: any,\n  pluginConfig: NestedDocsPluginConfig,\n  collection: CollectionConfig,\n  data: any,\n  originalDoc?: any,\n): Promise<any> => {\n  const newData = data\n  const breadcrumbDocs = [\n    ...(await getParents(req, pluginConfig, collection, {\n      ...originalDoc,\n      ...data,\n    })),\n  ]\n\n  const currentDocBreadcrumb = {\n    ...originalDoc,\n    ...data,\n  }\n\n  if (originalDoc?.id) {\n    currentDocBreadcrumb.id = originalDoc?.id\n  }\n\n  breadcrumbDocs.push(currentDocBreadcrumb)\n\n  const breadcrumbs = breadcrumbDocs.map((_, i) =>\n    formatBreadcrumb(pluginConfig, collection, breadcrumbDocs.slice(0, i + 1)),\n  )\n\n  return {\n    ...newData,\n    [pluginConfig?.breadcrumbsFieldSlug || 'breadcrumbs']: breadcrumbs,\n  }\n}\n"],"names":["formatBreadcrumb","getParents","populateBreadcrumbs","req","pluginConfig","collection","data","originalDoc","newData","breadcrumbDocs","currentDocBreadcrumb","id","push","breadcrumbs","map","_","i","slice","breadcrumbsFieldSlug"],"mappings":";;;AAIA,SAASA,gBAAgB,QAAQ,wBAAuB;AACxD,SAASC,UAAU,QAAQ,kBAAiB;;;AAErC,MAAMC,sBAAsB,OACjCC,KACAC,cACAC,YACAC,MACAC;IAEA,MAAMC,UAAUF;IAChB,MAAMG,iBAAiB;WACjB,sMAAMR,aAAAA,EAAWE,KAAKC,cAAcC,YAAY;YAClD,GAAGE,WAAW;YACd,GAAGD,IAAI;QACT;KACD;IAED,MAAMI,uBAAuB;QAC3B,GAAGH,WAAW;QACd,GAAGD,IAAI;IACT;IAEA,IAAIC,aAAaI,IAAI;QACnBD,qBAAqBC,EAAE,GAAGJ,aAAaI;IACzC;IAEAF,eAAeG,IAAI,CAACF;IAEpB,MAAMG,cAAcJ,eAAeK,GAAG,CAAC,CAACC,GAAGC,0MACzChB,mBAAAA,EAAiBI,cAAcC,YAAYI,eAAeQ,KAAK,CAAC,GAAGD,IAAI;IAGzE,OAAO;QACL,GAAGR,OAAO;QACV,CAACJ,cAAcc,wBAAwB,cAAc,EAAEL;IACzD;AACF,EAAC"}},
    {"offset": {"line": 3824, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3830, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/hooks/resaveChildren.ts"],"sourcesContent":["import type {\n  CollectionAfterChangeHook,\n  CollectionConfig,\n  JsonObject,\n  PayloadRequest,\n  ValidationError,\n} from 'payload'\n\nimport { APIError } from 'payload'\n\nimport type { NestedDocsPluginConfig } from '../types.js'\n\nimport { populateBreadcrumbs } from '../utilities/populateBreadcrumbs.js'\n\ntype ResaveArgs = {\n  collection: CollectionConfig\n  doc: JsonObject\n  draft: boolean\n  pluginConfig: NestedDocsPluginConfig\n  req: PayloadRequest\n}\n\nconst resave = async ({ collection, doc, draft, pluginConfig, req }: ResaveArgs) => {\n  const parentSlug = pluginConfig?.parentFieldSlug || 'parent'\n  const parentDocIsPublished = doc._status === 'published'\n\n  const children = await req.payload.find({\n    collection: collection.slug,\n    depth: 0,\n    draft,\n    locale: req.locale,\n    req,\n    where: {\n      [parentSlug]: {\n        equals: doc.id,\n      },\n    },\n  })\n\n  const breadcrumbSlug = pluginConfig.breadcrumbsFieldSlug || 'breadcrumbs'\n\n  try {\n    await children.docs.reduce(async (priorSave, child) => {\n      await priorSave\n\n      const childIsPublished =\n        typeof collection.versions === 'object' &&\n        collection.versions.drafts &&\n        child._status === 'published'\n\n      if (!parentDocIsPublished && childIsPublished) {\n        return\n      }\n\n      await req.payload.update({\n        id: child.id,\n        collection: collection.slug,\n        data: {\n          ...child,\n          [breadcrumbSlug]: await populateBreadcrumbs(req, pluginConfig, collection, child),\n        },\n        depth: 0,\n        draft: !childIsPublished,\n        locale: req.locale,\n        req,\n      })\n    }, Promise.resolve())\n  } catch (err: unknown) {\n    req.payload.logger.error(\n      `Nested Docs plugin has had an error while re-saving a child document${\n        draft ? ' as draft' : ' as published'\n      }.`,\n    )\n    req.payload.logger.error(err)\n\n    // Use type assertion until we can use instanceof reliably with our Error types\n    if (\n      (err as ValidationError)?.name === 'ValidationError' &&\n      (err as ValidationError)?.data?.errors?.length\n    ) {\n      throw new APIError(\n        'Could not publish or save changes: One or more children are invalid.',\n        400,\n      )\n    }\n  }\n}\n\nexport const resaveChildren =\n  (pluginConfig: NestedDocsPluginConfig, collection: CollectionConfig): CollectionAfterChangeHook =>\n  async ({ doc, req }) => {\n    await resave({\n      collection,\n      doc,\n      draft: true,\n      pluginConfig,\n      req,\n    })\n\n    if (doc._status === 'published') {\n      await resave({\n        collection,\n        doc,\n        draft: false,\n        pluginConfig,\n        req,\n      })\n    }\n\n    return undefined\n  }\n"],"names":["APIError","populateBreadcrumbs","resave","collection","doc","draft","pluginConfig","req","parentSlug","parentFieldSlug","parentDocIsPublished","_status","children","payload","find","slug","depth","locale","where","equals","id","breadcrumbSlug","breadcrumbsFieldSlug","docs","reduce","priorSave","child","childIsPublished","versions","drafts","update","data","Promise","resolve","err","logger","error","name","errors","length","resaveChildren","undefined"],"mappings":";;;AAYA,SAASC,mBAAmB,QAAQ,sCAAqC;AAJzE,SAASD,QAAQ,QAAQ,UAAS;;;AAclC,MAAME,SAAS,OAAO,EAAEC,UAAU,EAAEC,GAAG,EAAEC,KAAK,EAAEC,YAAY,EAAEC,GAAG,EAAc;IAC7E,MAAMC,aAAaF,cAAcG,mBAAmB;IACpD,MAAMC,uBAAuBN,IAAIO,OAAO,KAAK;IAE7C,MAAMC,WAAW,MAAML,IAAIM,OAAO,CAACC,IAAI,CAAC;QACtCX,YAAYA,WAAWY,IAAI;QAC3BC,OAAO;QACPX;QACAY,QAAQV,IAAIU,MAAM;QAClBV;QACAW,OAAO;YACL,CAACV,WAAW,EAAE;gBACZW,QAAQf,IAAIgB,EAAE;YAChB;QACF;IACF;IAEA,MAAMC,iBAAiBf,aAAagB,oBAAoB,IAAI;IAE5D,IAAI;QACF,MAAMV,SAASW,IAAI,CAACC,MAAM,CAAC,OAAOC,WAAWC;YAC3C,MAAMD;YAEN,MAAME,mBACJ,OAAOxB,WAAWyB,QAAQ,KAAK,YAC/BzB,WAAWyB,QAAQ,CAACC,MAAM,IAC1BH,MAAMf,OAAO,KAAK;YAEpB,IAAI,CAACD,wBAAwBiB,kBAAkB;gBAC7C;YACF;YAEA,MAAMpB,IAAIM,OAAO,CAACiB,MAAM,CAAC;gBACvBV,IAAIM,MAAMN,EAAE;gBACZjB,YAAYA,WAAWY,IAAI;gBAC3BgB,MAAM;oBACJ,GAAGL,KAAK;oBACR,CAACL,eAAe,EAAE,+MAAMpB,sBAAAA,EAAoBM,KAAKD,cAAcH,YAAYuB;gBAC7E;gBACAV,OAAO;gBACPX,OAAO,CAACsB;gBACRV,QAAQV,IAAIU,MAAM;gBAClBV;YACF;QACF,GAAGyB,QAAQC,OAAO;IACpB,EAAE,OAAOC,KAAc;QACrB3B,IAAIM,OAAO,CAACsB,MAAM,CAACC,KAAK,CACtB,CAAC,oEAAoE,EACnE/B,QAAQ,cAAc,gBACvB,CAAC,CAAC;QAELE,IAAIM,OAAO,CAACsB,MAAM,CAACC,KAAK,CAACF;QAEzB,+EAA+E;QAC/E,IACGA,KAAyBG,SAAS,qBAClCH,KAAyBH,MAAMO,QAAQC,QACxC;YACA,MAAM,IAAIvC,iKAAAA,CACR,wEACA;QAEJ;IACF;AACF;AAEO,MAAMwC,iBACX,CAAClC,cAAsCH,aACvC,OAAO,EAAEC,GAAG,EAAEG,GAAG,EAAE;QACjB,MAAML,OAAO;YACXC;YACAC;YACAC,OAAO;YACPC;YACAC;QACF;QAEA,IAAIH,IAAIO,OAAO,KAAK,aAAa;YAC/B,MAAMT,OAAO;gBACXC;gBACAC;gBACAC,OAAO;gBACPC;gBACAC;YACF;QACF;QAEA,OAAOkC;IACT,EAAC"}},
    {"offset": {"line": 3901, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3907, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/hooks/resaveSelfAfterCreate.ts"],"sourcesContent":["import type { CollectionAfterChangeHook, CollectionConfig } from 'payload'\n\nimport type { NestedDocsPluginConfig } from '../types.js'\n\n// This hook automatically re-saves a document after it is created\n// so that we can build its breadcrumbs with the newly created document's ID.\n\nexport const resaveSelfAfterCreate =\n  (pluginConfig: NestedDocsPluginConfig, collection: CollectionConfig): CollectionAfterChangeHook =>\n  async ({ doc, operation, req }) => {\n    const { locale, payload } = req\n    const breadcrumbSlug = pluginConfig.breadcrumbsFieldSlug || 'breadcrumbs'\n    const breadcrumbs = doc[breadcrumbSlug]\n\n    if (operation === 'create') {\n      const originalDocWithDepth0 = await payload.findByID({\n        id: doc.id,\n        collection: collection.slug,\n        depth: 0,\n        req,\n      })\n\n      const updateAsDraft =\n        typeof collection.versions === 'object' &&\n        collection.versions.drafts &&\n        doc._status !== 'published'\n\n      try {\n        await payload.update({\n          id: doc.id,\n          collection: collection.slug,\n          data: {\n            ...originalDocWithDepth0,\n            [breadcrumbSlug]:\n              breadcrumbs?.map((crumb, i) => ({\n                ...crumb,\n                doc: breadcrumbs.length === i + 1 ? doc.id : crumb.doc,\n              })) || [],\n          },\n          depth: 0,\n          draft: updateAsDraft,\n          locale,\n          req,\n        })\n      } catch (err: unknown) {\n        payload.logger.error(\n          `Nested Docs plugin has had an error while adding breadcrumbs during document creation.`,\n        )\n        payload.logger.error(err)\n      }\n    }\n\n    return undefined\n  }\n"],"names":["resaveSelfAfterCreate","pluginConfig","collection","doc","operation","req","locale","payload","breadcrumbSlug","breadcrumbsFieldSlug","breadcrumbs","originalDocWithDepth0","findByID","id","slug","depth","updateAsDraft","versions","drafts","_status","update","data","map","crumb","i","length","draft","err","logger","error","undefined"],"mappings":"AAIA,kEAAkE;AAClE,6EAA6E;;;;AAEtE,MAAMA,wBACX,CAACC,cAAsCC,aACvC,OAAO,EAAEC,GAAG,EAAEC,SAAS,EAAEC,GAAG,EAAE;QAC5B,MAAM,EAAEC,MAAM,EAAEC,OAAO,EAAE,GAAGF;QAC5B,MAAMG,iBAAiBP,aAAaQ,oBAAoB,IAAI;QAC5D,MAAMC,cAAcP,GAAG,CAACK,eAAe;QAEvC,IAAIJ,cAAc,UAAU;YAC1B,MAAMO,wBAAwB,MAAMJ,QAAQK,QAAQ,CAAC;gBACnDC,IAAIV,IAAIU,EAAE;gBACVX,YAAYA,WAAWY,IAAI;gBAC3BC,OAAO;gBACPV;YACF;YAEA,MAAMW,gBACJ,OAAOd,WAAWe,QAAQ,KAAK,YAC/Bf,WAAWe,QAAQ,CAACC,MAAM,IAC1Bf,IAAIgB,OAAO,KAAK;YAElB,IAAI;gBACF,MAAMZ,QAAQa,MAAM,CAAC;oBACnBP,IAAIV,IAAIU,EAAE;oBACVX,YAAYA,WAAWY,IAAI;oBAC3BO,MAAM;wBACJ,GAAGV,qBAAqB;wBACxB,CAACH,eAAe,EACdE,aAAaY,IAAI,CAACC,OAAOC,IAAO,CAAA;gCAC9B,GAAGD,KAAK;gCACRpB,KAAKO,YAAYe,MAAM,KAAKD,IAAI,IAAIrB,IAAIU,EAAE,GAAGU,MAAMpB,GAAG;4BACxD,CAAA,MAAO,EAAE;oBACb;oBACAY,OAAO;oBACPW,OAAOV;oBACPV;oBACAD;gBACF;YACF,EAAE,OAAOsB,KAAc;gBACrBpB,QAAQqB,MAAM,CAACC,KAAK,CAClB,CAAC,sFAAsF,CAAC;gBAE1FtB,QAAQqB,MAAM,CAACC,KAAK,CAACF;YACvB;QACF;QAEA,OAAOG;IACT,EAAC"}},
    {"offset": {"line": 3947, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3953, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/index.ts"],"sourcesContent":["import type { Plugin, SingleRelationshipField } from 'payload'\n\nimport type { NestedDocsPluginConfig } from './types.js'\n\nimport { createBreadcrumbsField } from './fields/breadcrumbs.js'\nimport { createParentField } from './fields/parent.js'\nimport { parentFilterOptions } from './fields/parentFilterOptions.js'\nimport { resaveChildren } from './hooks/resaveChildren.js'\nimport { resaveSelfAfterCreate } from './hooks/resaveSelfAfterCreate.js'\nimport { getParents } from './utilities/getParents.js'\nimport { populateBreadcrumbs } from './utilities/populateBreadcrumbs.js'\n\nexport { createBreadcrumbsField, createParentField, getParents }\n\nexport const nestedDocsPlugin =\n  (pluginConfig: NestedDocsPluginConfig): Plugin =>\n  (config) => ({\n    ...config,\n    collections: (config.collections || []).map((collection) => {\n      if (pluginConfig.collections.indexOf(collection.slug) > -1) {\n        const fields = [...(collection?.fields || [])]\n\n        const existingBreadcrumbField = collection.fields.find(\n          (field) =>\n            'name' in field && field.name === (pluginConfig?.breadcrumbsFieldSlug || 'breadcrumbs'),\n        )\n\n        const existingParentField = collection.fields.find(\n          (field) => 'name' in field && field.name === (pluginConfig?.parentFieldSlug || 'parent'),\n        ) as SingleRelationshipField\n\n        const defaultFilterOptions = parentFilterOptions(pluginConfig?.breadcrumbsFieldSlug)\n\n        if (existingParentField) {\n          if (!existingParentField.filterOptions) {\n            existingParentField.filterOptions = defaultFilterOptions\n          }\n        }\n\n        if (!existingParentField && !pluginConfig.parentFieldSlug) {\n          const defaultParentField = createParentField(collection.slug)\n          defaultParentField.filterOptions = defaultFilterOptions\n          fields.push(defaultParentField)\n        }\n\n        if (!existingBreadcrumbField && !pluginConfig.breadcrumbsFieldSlug) {\n          fields.push(createBreadcrumbsField(collection.slug))\n        }\n\n        return {\n          ...collection,\n          fields,\n          hooks: {\n            ...(collection.hooks || {}),\n            afterChange: [\n              resaveChildren(pluginConfig, collection),\n              resaveSelfAfterCreate(pluginConfig, collection),\n              ...(collection?.hooks?.afterChange || []),\n            ],\n            beforeChange: [\n              async ({ data, originalDoc, req }) =>\n                populateBreadcrumbs(req, pluginConfig, collection, data, originalDoc),\n              ...(collection?.hooks?.beforeChange || []),\n            ],\n          },\n        }\n      }\n\n      return collection\n    }),\n  })\n"],"names":["createBreadcrumbsField","createParentField","parentFilterOptions","resaveChildren","resaveSelfAfterCreate","getParents","populateBreadcrumbs","nestedDocsPlugin","pluginConfig","config","collections","map","collection","indexOf","slug","fields","existingBreadcrumbField","find","field","name","breadcrumbsFieldSlug","existingParentField","parentFieldSlug","defaultFilterOptions","filterOptions","defaultParentField","push","hooks","afterChange","beforeChange","data","originalDoc","req"],"mappings":";;;AAMA,SAASE,mBAAmB,QAAQ,kCAAiC;AADrE,SAASD,iBAAiB,QAAQ,qBAAoB;AADtD,SAASD,sBAAsB,QAAQ,0BAAyB;AAGhE,SAASG,cAAc,QAAQ,4BAA2B;AAC1D,SAASC,qBAAqB,QAAQ,mCAAkC;AAExE,SAASE,mBAAmB,QAAQ,qCAAoC;;;;;;;;;AAIjE,MAAMC,mBACX,CAACC,eACD,CAACC,SAAY,CAAA;YACX,GAAGA,MAAM;YACTC,aAAcD,CAAAA,OAAOC,WAAW,IAAI,EAAC,EAAGC,GAAG,CAAC,CAACC;gBAC3C,IAAIJ,aAAaE,WAAW,CAACG,OAAO,CAACD,WAAWE,IAAI,IAAI,CAAC,GAAG;oBAC1D,MAAMC,SAAS;2BAAKH,YAAYG,UAAU,EAAE;qBAAE;oBAE9C,MAAMC,0BAA0BJ,WAAWG,MAAM,CAACE,IAAI,CACpD,CAACC,QACC,UAAUA,SAASA,MAAMC,IAAI,KAAMX,CAAAA,cAAcY,wBAAwB,aAAY;oBAGzF,MAAMC,sBAAsBT,WAAWG,MAAM,CAACE,IAAI,CAChD,CAACC,QAAU,UAAUA,SAASA,MAAMC,IAAI,KAAMX,CAAAA,cAAcc,mBAAmB,QAAO;oBAGxF,MAAMC,6NAAuBrB,sBAAAA,EAAoBM,cAAcY;oBAE/D,IAAIC,qBAAqB;wBACvB,IAAI,CAACA,oBAAoBG,aAAa,EAAE;4BACtCH,oBAAoBG,aAAa,GAAGD;wBACtC;oBACF;oBAEA,IAAI,CAACF,uBAAuB,CAACb,aAAac,eAAe,EAAE;wBACzD,MAAMG,8MAAqBxB,oBAAAA,EAAkBW,WAAWE,IAAI;wBAC5DW,mBAAmBD,aAAa,GAAGD;wBACnCR,OAAOW,IAAI,CAACD;oBACd;oBAEA,IAAI,CAACT,2BAA2B,CAACR,aAAaY,oBAAoB,EAAE;wBAClEL,OAAOW,IAAI,+LAAC1B,yBAAAA,EAAuBY,WAAWE,IAAI;oBACpD;oBAEA,OAAO;wBACL,GAAGF,UAAU;wBACbG;wBACAY,OAAO;4BACL,GAAIf,WAAWe,KAAK,IAAI,CAAC,CAAC;4BAC1BC,aAAa;gOACXzB,iBAAAA,EAAeK,cAAcI;iCAC7BR,8NAAAA,EAAsBI,cAAcI;mCAChCA,YAAYe,OAAOC,eAAe,EAAE;6BACzC;4BACDC,cAAc;gCACZ,OAAO,EAAEC,IAAI,EAAEC,WAAW,EAAEC,GAAG,EAAE,4MAC/B1B,sBAAAA,EAAoB0B,KAAKxB,cAAcI,YAAYkB,MAAMC;mCACvDnB,YAAYe,OAAOE,gBAAgB,EAAE;6BAC1C;wBACH;oBACF;gBACF;gBAEA,OAAOjB;YACT;QACF,CAAA,EAAE"}},
    {"offset": {"line": 4013, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4034, "column": 0}, "map": {"version":3,"file":"promise.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/calculateDefaultValues/promise.ts"],"sourcesContent":["import type { Data, Field, TabAsField, User } from 'payload'\n\nimport { getDefaultValue } from 'payload'\nimport { fieldAffectsData, tabHasName } from 'payload/shared'\n\nimport { iterateFields } from './iterateFields.js'\n\ntype Args<T> = {\n  data: T\n  field: Field | TabAsField\n  id?: number | string\n  locale: string | undefined\n  siblingData: Data\n  user: User\n}\n\n// TODO: Make this works for rich text subfields\nexport const defaultValuePromise = async <T>({\n  id,\n  data,\n  field,\n  locale,\n  siblingData,\n  user,\n}: Args<T>): Promise<void> => {\n  if (fieldAffectsData(field)) {\n    if (\n      typeof siblingData[field.name] === 'undefined' &&\n      typeof field.defaultValue !== 'undefined'\n    ) {\n      siblingData[field.name] = await getDefaultValue({\n        defaultValue: field.defaultValue,\n        locale,\n        user,\n        value: siblingData[field.name],\n      })\n    }\n  }\n\n  // Traverse subfields\n  switch (field.type) {\n    case 'group': {\n      if (typeof siblingData[field.name] !== 'object') {\n        siblingData[field.name] = {}\n      }\n\n      const groupData = siblingData[field.name] as Record<string, unknown>\n\n      await iterateFields({\n        id,\n        data,\n        fields: field.fields,\n        locale,\n        siblingData: groupData,\n        user,\n      })\n\n      break\n    }\n\n    case 'array': {\n      const rows = siblingData[field.name]\n\n      if (Array.isArray(rows)) {\n        const promises = []\n        rows.forEach((row) => {\n          promises.push(\n            iterateFields({\n              id,\n              data,\n              fields: field.fields,\n              locale,\n              siblingData: row,\n              user,\n            }),\n          )\n        })\n        await Promise.all(promises)\n      }\n      break\n    }\n\n    case 'blocks': {\n      const rows = siblingData[field.name]\n\n      if (Array.isArray(rows)) {\n        const promises = []\n        rows.forEach((row) => {\n          const blockTypeToMatch = row.blockType\n          const block = field.blocks.find((blockType) => blockType.slug === blockTypeToMatch)\n\n          if (block) {\n            row.blockType = blockTypeToMatch\n\n            promises.push(\n              iterateFields({\n                id,\n                data,\n                fields: block.fields,\n                locale,\n                siblingData: row,\n                user,\n              }),\n            )\n          }\n        })\n        await Promise.all(promises)\n      }\n\n      break\n    }\n\n    case 'row':\n    case 'collapsible': {\n      await iterateFields({\n        id,\n        data,\n        fields: field.fields,\n        locale,\n        siblingData,\n        user,\n      })\n\n      break\n    }\n\n    case 'tab': {\n      let tabSiblingData\n      if (tabHasName(field)) {\n        if (typeof siblingData[field.name] !== 'object') {\n          siblingData[field.name] = {}\n        }\n\n        tabSiblingData = siblingData[field.name] as Record<string, unknown>\n      } else {\n        tabSiblingData = siblingData\n      }\n\n      await iterateFields({\n        id,\n        data,\n        fields: field.fields,\n        locale,\n        siblingData: tabSiblingData,\n        user,\n      })\n\n      break\n    }\n\n    case 'tabs': {\n      await iterateFields({\n        id,\n        data,\n        fields: field.tabs.map((tab) => ({ ...tab, type: 'tab' })),\n        locale,\n        siblingData,\n        user,\n      })\n\n      break\n    }\n\n    default: {\n      break\n    }\n  }\n}\n"],"names":["getDefaultValue","fieldAffectsData","tabHasName","iterateFields","defaultValuePromise","id","data","field","locale","siblingData","user","name","defaultValue","value","type","groupData","fields","rows","Array","isArray","promises","forEach","row","push","Promise","all","blockTypeToMatch","blockType","block","blocks","find","slug","tabSiblingData","tabs","map","tab"],"mappings":"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"}},
    {"offset": {"line": 4170, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4176, "column": 0}, "map": {"version":3,"file":"iterateFields.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/calculateDefaultValues/iterateFields.ts"],"sourcesContent":["import type { Data, Field, TabAsField, User } from 'payload'\n\nimport { defaultValuePromise } from './promise.js'\n\ntype Args<T> = {\n  data: T\n  fields: (Field | TabAsField)[]\n  id?: number | string\n  locale: string | undefined\n  siblingData: Data\n  user: User\n}\n\nexport const iterateFields = async <T>({\n  id,\n  data,\n  fields,\n  locale,\n  siblingData,\n  user,\n}: Args<T>): Promise<void> => {\n  const promises = []\n  fields.forEach((field) => {\n    promises.push(\n      defaultValuePromise({\n        id,\n        data,\n        field,\n        locale,\n        siblingData,\n        user,\n      }),\n    )\n  })\n  await Promise.all(promises)\n}\n"],"names":["defaultValuePromise","iterateFields","id","data","fields","locale","siblingData","user","promises","forEach","field","push","Promise","all"],"mappings":";;;AAEA,SAASA,mBAAmB,QAAQ;;AAW7B,MAAMC,aAAA,GAAgB,MAAAA,CAAU,EACrCC,EAAE,EACFC,IAAI,EACJC,MAAM,EACNC,MAAM,EACNC,WAAW,EACXC,IAAAA,EACQ;IACR,MAAMC,QAAA,GAAW,EAAE;IACnBJ,MAAA,CAAOK,OAAO,EAAEC,KAAA;QACdF,QAAA,CAASG,IAAI,sNACXX,sBAAAA,AAAA,EAAoB;YAClBE,EAAA;YACAC,IAAA;YACAO,KAAA;YACAL,MAAA;YACAC,WAAA;YACAC;QACF;IAEJ;IACA,MAAMK,OAAA,CAAQC,GAAG,CAACL,QAAA;AACpB"}},
    {"offset": {"line": 4195, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4201, "column": 0}, "map": {"version":3,"file":"index.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/calculateDefaultValues/index.ts"],"sourcesContent":["import type { Data, Field as FieldSchema, User } from 'payload'\n\nimport { iterateFields } from './iterateFields.js'\n\ntype Args = {\n  data: Data\n  fields: FieldSchema[]\n  id?: number | string\n  locale: string | undefined\n  siblingData: Data\n  user: User\n}\n\nexport const calculateDefaultValues = async ({\n  id,\n  data,\n  fields,\n  locale,\n  user,\n}: Args): Promise<Data> => {\n  await iterateFields({\n    id,\n    data,\n    fields,\n    locale,\n    siblingData: data,\n    user,\n  })\n\n  return data\n}\n"],"names":["iterateFields","calculateDefaultValues","id","data","fields","locale","user","siblingData"],"mappings":";;;AAEA,SAASA,aAAa,QAAQ;;AAWvB,MAAMC,sBAAA,GAAyB,MAAAA,CAAO,EAC3CC,EAAE,EACFC,IAAI,EACJC,MAAM,EACNC,MAAM,EACNC,IAAAA,EACK;IACL,iOAAMN,gBAAAA,AAAA,EAAc;QAClBE,EAAA;QACAC,IAAA;QACAC,MAAA;QACAC,MAAA;QACAE,WAAA,EAAaJ,IAAA;QACbG;IACF;IAEA,OAAOH,IAAA;AACT"}},
    {"offset": {"line": 4217, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4223, "column": 0}, "map": {"version":3,"file":"getFilterOptionsQuery.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/getFilterOptionsQuery.ts"],"sourcesContent":["import type { FilterOptions, FilterOptionsProps, Where } from 'payload'\n\nexport const getFilterOptionsQuery = async (\n  filterOptions: FilterOptions,\n  options: { relationTo: string | string[] } & Omit<FilterOptionsProps, 'relationTo'>,\n): Promise<{ [collection: string]: Where }> => {\n  const { relationTo } = options\n\n  const relations = Array.isArray(relationTo) ? relationTo : [relationTo]\n\n  const query = {}\n\n  if (typeof filterOptions !== 'undefined') {\n    await Promise.all(\n      relations.map(async (relation) => {\n        query[relation] =\n          typeof filterOptions === 'function'\n            ? await filterOptions({ ...options, relationTo: relation })\n            : filterOptions\n\n        if (query[relation] === true) {\n          query[relation] = {}\n        }\n\n        // this is an ugly way to prevent results from being returned\n        if (query[relation] === false) {\n          query[relation] = { id: { exists: false } }\n        }\n      }),\n    )\n  }\n\n  return query\n}\n"],"names":["getFilterOptionsQuery","filterOptions","options","relationTo","relations","Array","isArray","query","Promise","all","map","relation","id","exists"],"mappings":";;;AAEO,MAAMA,qBAAA,GAAwB,MAAAA,CACnCC,aAAA,EACAC,OAAA;IAEA,MAAM,EAAEC,UAAAA,EAAY,GAAGD,OAAA;IAEvB,MAAME,SAAA,GAAYC,KAAA,CAAMC,OAAO,CAACH,UAAA,IAAcA,UAAA,GAAa;QAACA,UAAA;KAAW;IAEvE,MAAMI,KAAA,GAAQ,CAAC;IAEf,IAAI,OAAON,aAAA,KAAkB,aAAa;QACxC,MAAMO,OAAA,CAAQC,GAAG,CACfL,SAAA,CAAUM,GAAG,CAAC,OAAOC,QAAA;YACnBJ,KAAK,CAACI,QAAA,CAAS,GACb,OAAOV,aAAA,KAAkB,aACrB,MAAMA,aAAA,CAAc;gBAAE,GAAGC,OAAO;gBAAEC,UAAA,EAAYQ;YAAS,KACvDV,aAAA;YAEN,IAAIM,KAAK,CAACI,QAAA,CAAS,KAAK,MAAM;gBAC5BJ,KAAK,CAACI,QAAA,CAAS,GAAG,CAAC;YACrB;YAEA,6DAAA;YACA,IAAIJ,KAAK,CAACI,QAAA,CAAS,KAAK,OAAO;gBAC7BJ,KAAK,CAACI,QAAA,CAAS,GAAG;oBAAEC,EAAA,EAAI;wBAAEC,MAAA,EAAQ;oBAAM;gBAAE;YAC5C;QACF;IAEJ;IAEA,OAAON,KAAA;AACT"}},
    {"offset": {"line": 4253, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4259, "column": 0}, "map": {"version":3,"file":"addFieldStatePromise.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/addFieldStatePromise.ts"],"sourcesContent":["import type {\n  Data,\n  DocumentPreferences,\n  Field,\n  FormField,\n  FormState,\n  PayloadRequest,\n} from 'payload'\n\nimport ObjectIdImport from 'bson-objectid'\nimport { fieldAffectsData, fieldHasSubFields, tabHasName } from 'payload/shared'\n\nimport { getFilterOptionsQuery } from './getFilterOptionsQuery.js'\nimport { iterateFields } from './iterateFields.js'\n\nconst ObjectId = (ObjectIdImport.default ||\n  ObjectIdImport) as unknown as typeof ObjectIdImport.default\n\nexport type AddFieldStatePromiseArgs = {\n  addErrorPathToParent: (path: string) => void\n  /**\n   * if all parents are localized, then the field is localized\n   */\n  anyParentLocalized?: boolean\n  collectionSlug?: string\n  data: Data\n  field: Field\n  fieldIndex: number\n  /**\n   * You can use this to filter down to only `localized` fields that require translation (type: text, textarea, etc.). Another plugin might want to look for only `point` type fields to do some GIS function. With the filter function you can go in like a surgeon.\n   */\n  filter?: (args: AddFieldStatePromiseArgs) => boolean\n  /**\n   * Force the value of fields like arrays or blocks to be the full value instead of the length @default false\n   */\n  forceFullValue?: boolean\n  fullData: Data\n  id: number | string\n  /**\n   * Whether the field schema should be included in the state\n   */\n  includeSchema?: boolean\n  /**\n   * Whether to omit parent fields in the state. @default false\n   */\n  omitParents?: boolean\n  operation: 'create' | 'update'\n  passesCondition: boolean\n  path: string\n\n  preferences: DocumentPreferences\n  /**\n   * Req is used for validation and defaultValue calculation. If you don't need validation,\n   * just create your own req and pass in the locale and the user\n   */\n  req: PayloadRequest\n  /**\n   * Whether to skip checking the field's condition. @default false\n   */\n  skipConditionChecks?: boolean\n  /**\n   * Whether to skip validating the field. @default false\n   */\n  skipValidation?: boolean\n  state: FormState\n}\n\n/**\n * Flattens the fields schema and fields data.\n * The output is the field path (e.g. array.0.name) mapped to a FormField object.\n */\nexport const addFieldStatePromise = async (args: AddFieldStatePromiseArgs): Promise<void> => {\n  const {\n    id,\n    addErrorPathToParent: addErrorPathToParentArg,\n    anyParentLocalized = false,\n    collectionSlug,\n    data,\n    field,\n    fieldIndex,\n    filter,\n    forceFullValue = false,\n    fullData,\n    includeSchema = false,\n    omitParents = false,\n    operation,\n    passesCondition,\n    path,\n    preferences,\n    req,\n    skipConditionChecks = false,\n    skipValidation = false,\n    state,\n  } = args\n\n  if (fieldAffectsData(field)) {\n    const validate = field.validate\n\n    const fieldState: FormField = {\n      errorPaths: [],\n      fieldSchema: includeSchema ? field : undefined,\n      initialValue: undefined,\n      passesCondition,\n      valid: true,\n      value: undefined,\n    }\n\n    let validationResult: string | true = true\n\n    if (typeof validate === 'function' && !skipValidation && passesCondition) {\n      let jsonError\n\n      if (field.type === 'json' && typeof data[field.name] === 'string') {\n        try {\n          JSON.parse(data[field.name] as string)\n        } catch (e) {\n          jsonError = e\n        }\n      }\n\n      validationResult = await validate(\n        data?.[field.name] as never,\n        {\n          ...field,\n          id,\n          collectionSlug,\n          data: fullData,\n          jsonError,\n          operation,\n          preferences,\n          req,\n          siblingData: data,\n        } as any,\n      )\n    }\n\n    const addErrorPathToParent = (errorPath: string) => {\n      if (typeof addErrorPathToParentArg === 'function') {\n        addErrorPathToParentArg(errorPath)\n      }\n\n      if (!fieldState.errorPaths.includes(errorPath)) {\n        fieldState.errorPaths.push(errorPath)\n        fieldState.valid = false\n      }\n    }\n\n    if (typeof validationResult === 'string') {\n      fieldState.errorMessage = validationResult\n      fieldState.valid = false\n      addErrorPathToParent(`${path}${field.name}`)\n    } else {\n      fieldState.valid = true\n    }\n\n    switch (field.type) {\n      case 'array': {\n        const arrayValue = Array.isArray(data[field.name]) ? data[field.name] : []\n\n        const { promises, rowMetadata } = arrayValue.reduce(\n          (acc, row, i) => {\n            const rowPath = `${path}${field.name}.${i}.`\n            row.id = row?.id || new ObjectId().toHexString()\n\n            if (!omitParents && (!filter || filter(args))) {\n              state[`${rowPath}id`] = {\n                fieldSchema: includeSchema\n                  ? field.fields.find((field) => 'name' in field && field.name === 'id')\n                  : undefined,\n                initialValue: row.id,\n                valid: true,\n                value: row.id,\n              }\n            }\n\n            acc.promises.push(\n              iterateFields({\n                id,\n                addErrorPathToParent,\n                anyParentLocalized: field.localized || anyParentLocalized,\n                data: row,\n                fields: field.fields,\n                filter,\n                forceFullValue,\n                fullData,\n                includeSchema,\n                omitParents,\n                operation,\n                parentPassesCondition: passesCondition,\n                path: rowPath,\n                preferences,\n                req,\n                skipConditionChecks,\n                skipValidation,\n                state,\n              }),\n            )\n\n            const collapsedRowIDs = preferences?.fields?.[`${path}${field.name}`]?.collapsed\n\n            acc.rowMetadata.push({\n              id: row.id,\n              collapsed:\n                collapsedRowIDs === undefined\n                  ? field.admin.initCollapsed\n                  : collapsedRowIDs.includes(row.id),\n            })\n\n            return acc\n          },\n          {\n            promises: [],\n            rowMetadata: [],\n          },\n        )\n\n        await Promise.all(promises)\n\n        // Add values to field state\n        if (data[field.name] === null) {\n          fieldState.value = null\n          fieldState.initialValue = null\n        } else {\n          fieldState.value = forceFullValue ? arrayValue : arrayValue.length\n          fieldState.initialValue = forceFullValue ? arrayValue : arrayValue.length\n\n          if (arrayValue.length > 0) {\n            fieldState.disableFormData = true\n          }\n        }\n\n        fieldState.rows = rowMetadata\n\n        // Add field to state\n        if (!omitParents && (!filter || filter(args))) {\n          state[`${path}${field.name}`] = fieldState\n        }\n\n        break\n      }\n\n      case 'blocks': {\n        const blocksValue = Array.isArray(data[field.name]) ? data[field.name] : []\n\n        const { promises, rowMetadata } = blocksValue.reduce(\n          (acc, row, i) => {\n            const block = field.blocks.find((blockType) => blockType.slug === row.blockType)\n            const rowPath = `${path}${field.name}.${i}.`\n\n            if (block) {\n              row.id = row?.id || new ObjectId().toHexString()\n\n              if (!omitParents && (!filter || filter(args))) {\n                state[`${rowPath}id`] = {\n                  fieldSchema: includeSchema\n                    ? block.fields.find(\n                        (blockField) => 'name' in blockField && blockField.name === 'id',\n                      )\n                    : undefined,\n                  initialValue: row.id,\n                  valid: true,\n                  value: row.id,\n                }\n\n                state[`${rowPath}blockType`] = {\n                  fieldSchema: includeSchema\n                    ? block.fields.find(\n                        (blockField) => 'name' in blockField && blockField.name === 'blockType',\n                      )\n                    : undefined,\n                  initialValue: row.blockType,\n                  valid: true,\n                  value: row.blockType,\n                }\n\n                state[`${rowPath}blockName`] = {\n                  fieldSchema: includeSchema\n                    ? block.fields.find(\n                        (blockField) => 'name' in blockField && blockField.name === 'blockName',\n                      )\n                    : undefined,\n                  initialValue: row.blockName,\n                  valid: true,\n                  value: row.blockName,\n                }\n              }\n\n              acc.promises.push(\n                iterateFields({\n                  id,\n                  addErrorPathToParent,\n                  anyParentLocalized: field.localized || anyParentLocalized,\n                  data: row,\n                  fields: block.fields,\n                  filter,\n                  forceFullValue,\n                  fullData,\n                  includeSchema,\n                  omitParents,\n                  operation,\n                  parentPassesCondition: passesCondition,\n                  path: rowPath,\n                  preferences,\n                  req,\n                  skipConditionChecks,\n                  skipValidation,\n                  state,\n                }),\n              )\n\n              const collapsedRowIDs = preferences?.fields?.[`${path}${field.name}`]?.collapsed\n\n              acc.rowMetadata.push({\n                id: row.id,\n                blockType: row.blockType,\n                collapsed:\n                  collapsedRowIDs === undefined\n                    ? field.admin.initCollapsed\n                    : collapsedRowIDs.includes(row.id),\n              })\n            }\n\n            return acc\n          },\n          {\n            promises: [],\n            rowMetadata: [],\n          },\n        )\n\n        await Promise.all(promises)\n\n        // Add values to field state\n        if (data[field.name] === null) {\n          fieldState.value = null\n          fieldState.initialValue = null\n        } else {\n          fieldState.value = forceFullValue ? blocksValue : blocksValue.length\n          fieldState.initialValue = forceFullValue ? blocksValue : blocksValue.length\n\n          if (blocksValue.length > 0) {\n            fieldState.disableFormData = true\n          }\n        }\n\n        fieldState.rows = rowMetadata\n\n        // Add field to state\n        if (!omitParents && (!filter || filter(args))) {\n          state[`${path}${field.name}`] = fieldState\n        }\n\n        break\n      }\n\n      case 'group': {\n        if (!filter || filter(args)) {\n          fieldState.disableFormData = true\n          state[`${path}${field.name}`] = fieldState\n        }\n\n        await iterateFields({\n          id,\n          addErrorPathToParent,\n          anyParentLocalized: field.localized || anyParentLocalized,\n          data: data?.[field.name] || {},\n          fields: field.fields,\n          filter,\n          forceFullValue,\n          fullData,\n          includeSchema,\n          omitParents,\n          operation,\n          parentPassesCondition: passesCondition,\n          path: `${path}${field.name}.`,\n          preferences,\n          req,\n          skipConditionChecks,\n          skipValidation,\n          state,\n        })\n\n        break\n      }\n      case 'upload':\n      case 'relationship': {\n        if (field.filterOptions) {\n          if (typeof field.filterOptions === 'object') {\n            if (typeof field.relationTo === 'string') {\n              fieldState.filterOptions = {\n                [field.relationTo]: field.filterOptions,\n              }\n            } else {\n              fieldState.filterOptions = field.relationTo.reduce((acc, relation) => {\n                acc[relation] = field.filterOptions\n                return acc\n              }, {})\n            }\n          }\n\n          if (typeof field.filterOptions === 'function') {\n            const query = await getFilterOptionsQuery(field.filterOptions, {\n              id,\n              data: fullData,\n              relationTo: field.relationTo,\n              siblingData: data,\n              user: req.user,\n            })\n\n            fieldState.filterOptions = query\n          }\n        }\n\n        if (field.hasMany) {\n          const relationshipValue = Array.isArray(data[field.name])\n            ? data[field.name].map((relationship) => {\n                if (Array.isArray(field.relationTo)) {\n                  return {\n                    relationTo: relationship.relationTo,\n                    value:\n                      relationship.value && typeof relationship.value === 'object'\n                        ? relationship.value?.id\n                        : relationship.value,\n                  }\n                }\n                if (typeof relationship === 'object' && relationship !== null) {\n                  return relationship.id\n                }\n                return relationship\n              })\n            : undefined\n\n          fieldState.value = relationshipValue\n          fieldState.initialValue = relationshipValue\n        } else if (Array.isArray(field.relationTo)) {\n          if (\n            data[field.name] &&\n            typeof data[field.name] === 'object' &&\n            'relationTo' in data[field.name] &&\n            'value' in data[field.name]\n          ) {\n            const value =\n              typeof data[field.name]?.value === 'object' &&\n              data[field.name]?.value &&\n              'id' in data[field.name].value\n                ? data[field.name].value.id\n                : data[field.name].value\n            const relationshipValue = {\n              relationTo: data[field.name]?.relationTo,\n              value,\n            }\n            fieldState.value = relationshipValue\n            fieldState.initialValue = relationshipValue\n          }\n        } else {\n          const relationshipValue =\n            data[field.name] && typeof data[field.name] === 'object' && 'id' in data[field.name]\n              ? data[field.name].id\n              : data[field.name]\n          fieldState.value = relationshipValue\n          fieldState.initialValue = relationshipValue\n        }\n\n        if (!filter || filter(args)) {\n          state[`${path}${field.name}`] = fieldState\n        }\n\n        break\n      }\n\n      default: {\n        fieldState.value = data[field.name]\n        fieldState.initialValue = data[field.name]\n\n        // Add field to state\n        if (!filter || filter(args)) {\n          state[`${path}${field.name}`] = fieldState\n        }\n\n        break\n      }\n    }\n  } else if (fieldHasSubFields(field)) {\n    // Handle field types that do not use names (row, etc)\n\n    if (!filter || filter(args)) {\n      state[`${path}_index-${fieldIndex}`] = {\n        disableFormData: true,\n        errorPaths: [],\n        initialValue: undefined,\n        passesCondition,\n        valid: true,\n        value: undefined,\n      }\n    }\n\n    await iterateFields({\n      id,\n      // passthrough parent functionality\n      addErrorPathToParent: addErrorPathToParentArg,\n      anyParentLocalized: field.localized || anyParentLocalized,\n      data,\n      fields: field.fields,\n      filter,\n      forceFullValue,\n      fullData,\n      includeSchema,\n      omitParents,\n      operation,\n      parentPassesCondition: passesCondition,\n      path,\n      preferences,\n      req,\n      skipConditionChecks,\n      skipValidation,\n      state,\n    })\n  } else if (field.type === 'tabs') {\n    const promises = field.tabs.map((tab) => {\n      const isNamedTab = tabHasName(tab)\n\n      return iterateFields({\n        id,\n        // passthrough parent functionality\n        addErrorPathToParent: addErrorPathToParentArg,\n        anyParentLocalized: tab.localized || anyParentLocalized,\n        data: isNamedTab ? data?.[tab.name] || {} : data,\n        fields: tab.fields,\n        filter,\n        forceFullValue,\n        fullData,\n        includeSchema,\n        omitParents,\n        operation,\n        parentPassesCondition: passesCondition,\n        path: isNamedTab ? `${path}${tab.name}.` : path,\n        preferences,\n        req,\n        skipConditionChecks,\n        skipValidation,\n        state,\n      })\n    })\n\n    await Promise.all(promises)\n  } else if (field.type === 'ui') {\n    if (!filter || filter(args)) {\n      state[`${path}_index-${fieldIndex}`] = {\n        disableFormData: true,\n        errorPaths: [],\n        initialValue: undefined,\n        passesCondition,\n        valid: true,\n        value: undefined,\n      }\n    }\n  }\n}\n"],"names":["ObjectIdImport","fieldAffectsData","fieldHasSubFields","tabHasName","getFilterOptionsQuery","iterateFields","ObjectId","default","addFieldStatePromise","args","id","addErrorPathToParent","addErrorPathToParentArg","anyParentLocalized","collectionSlug","data","field","fieldIndex","filter","forceFullValue","fullData","includeSchema","omitParents","operation","passesCondition","path","preferences","req","skipConditionChecks","skipValidation","state","validate","fieldState","errorPaths","fieldSchema","undefined","initialValue","valid","value","validationResult","jsonError","type","name","JSON","parse","e","siblingData","errorPath","includes","push","errorMessage","arrayValue","Array","isArray","promises","rowMetadata","reduce","acc","row","i","rowPath","toHexString","fields","find","localized","parentPassesCondition","collapsedRowIDs","collapsed","admin","initCollapsed","Promise","all","length","disableFormData","rows","blocksValue","block","blocks","blockType","slug","blockField","blockName","filterOptions","relationTo","relation","query","user","hasMany","relationshipValue","map","relationship","tabs","tab","isNamedTab"],"mappings":"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"}},
    {"offset": {"line": 4637, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4643, "column": 0}, "map": {"version":3,"file":"iterateFields.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/iterateFields.ts"],"sourcesContent":["import type {\n  Data,\n  DocumentPreferences,\n  Field as FieldSchema,\n  FormState,\n  PayloadRequest,\n} from 'payload'\n\nimport { fieldIsPresentationalOnly } from 'payload/shared'\n\nimport type { AddFieldStatePromiseArgs } from './addFieldStatePromise.js'\n\nimport { addFieldStatePromise } from './addFieldStatePromise.js'\n\ntype Args = {\n  addErrorPathToParent: (path: string) => void\n  /**\n   * if any parents is localized, then the field is localized. @default false\n   */\n  anyParentLocalized?: boolean\n  collectionSlug?: string\n  data: Data\n  fields: FieldSchema[]\n  filter?: (args: AddFieldStatePromiseArgs) => boolean\n  /**\n   * Force the value of fields like arrays or blocks to be the full value instead of the length @default false\n   */\n  forceFullValue?: boolean\n  fullData: Data\n  id?: number | string\n  /**\n   * Whether the field schema should be included in the state. @default false\n   */\n  includeSchema?: boolean\n  /**\n   * Whether to omit parent fields in the state. @default false\n   */\n  omitParents?: boolean\n  /**\n   * operation is only needed for validation\n   */\n  operation: 'create' | 'update'\n  parentPassesCondition?: boolean\n  /**\n   * The initial path of the field. @default ''\n   */\n  path?: string\n  preferences?: DocumentPreferences\n  req: PayloadRequest\n  /**\n   * Whether to skip checking the field's condition. @default false\n   */\n  skipConditionChecks?: boolean\n  /**\n   * Whether to skip validating the field. @default false\n   */\n  skipValidation?: boolean\n  state?: FormState\n}\n\n/**\n * Flattens the fields schema and fields data\n */\nexport const iterateFields = async ({\n  id,\n  addErrorPathToParent: addErrorPathToParentArg,\n  anyParentLocalized = false,\n  collectionSlug,\n  data,\n  fields,\n  filter,\n  forceFullValue = false,\n  fullData,\n  includeSchema = false,\n  omitParents = false,\n  operation,\n  parentPassesCondition = true,\n  path = '',\n  preferences,\n  req,\n  skipConditionChecks = false,\n  skipValidation = false,\n  state = {},\n}: Args): Promise<void> => {\n  const promises = []\n\n  fields.forEach((field, fieldIndex) => {\n    if (!fieldIsPresentationalOnly(field) && !field?.admin?.disabled) {\n      let passesCondition = true\n      if (!skipConditionChecks) {\n        passesCondition = Boolean(\n          (field?.admin?.condition\n            ? Boolean(field.admin.condition(fullData || {}, data || {}, { user: req.user }))\n            : true) && parentPassesCondition,\n        )\n      }\n\n      promises.push(\n        addFieldStatePromise({\n          id,\n          addErrorPathToParent: addErrorPathToParentArg,\n          anyParentLocalized,\n          collectionSlug,\n          data,\n          field,\n          fieldIndex,\n          filter,\n          forceFullValue,\n          fullData,\n          includeSchema,\n          omitParents,\n          operation,\n          passesCondition,\n          path,\n          preferences,\n          req,\n          skipConditionChecks,\n          skipValidation,\n          state,\n        }),\n      )\n    }\n  })\n\n  await Promise.all(promises)\n}\n"],"names":["fieldIsPresentationalOnly","addFieldStatePromise","iterateFields","id","addErrorPathToParent","addErrorPathToParentArg","anyParentLocalized","collectionSlug","data","fields","filter","forceFullValue","fullData","includeSchema","omitParents","operation","parentPassesCondition","path","preferences","req","skipConditionChecks","skipValidation","state","promises","forEach","field","fieldIndex","admin","disabled","passesCondition","Boolean","condition","user","push","Promise","all"],"mappings":";;;AAQA,SAASA,yBAAyB,QAAQ;AAI1C,SAASC,oBAAoB,QAAQ;;;AAmD9B,MAAMC,aAAA,GAAgB,MAAAA,CAAO,EAClCC,EAAE,EACFC,oBAAA,EAAsBC,uBAAuB,EAC7CC,kBAAA,GAAqB,KAAK,EAC1BC,cAAc,EACdC,IAAI,EACJC,MAAM,EACNC,MAAM,EACNC,cAAA,GAAiB,KAAK,EACtBC,QAAQ,EACRC,aAAA,GAAgB,KAAK,EACrBC,WAAA,GAAc,KAAK,EACnBC,SAAS,EACTC,qBAAA,GAAwB,IAAI,EAC5BC,IAAA,GAAO,EAAE,EACTC,WAAW,EACXC,GAAG,EACHC,mBAAA,GAAsB,KAAK,EAC3BC,cAAA,GAAiB,KAAK,EACtBC,KAAA,GAAQ,CAAC,CAAA,EACJ;IACL,MAAMC,QAAA,GAAW,EAAE;IAEnBd,MAAA,CAAOe,OAAO,CAAC,CAACC,KAAA,EAAOC,UAAA;QACrB,IAAI,kKAAC1B,4BAAAA,AAAA,EAA0ByB,KAAA,KAAU,CAACA,KAAA,EAAOE,KAAA,EAAOC,QAAA,EAAU;YAChE,IAAIC,eAAA,GAAkB;YACtB,IAAI,CAACT,mBAAA,EAAqB;gBACxBS,eAAA,GAAkBC,OAAA,CAChB,CAACL,KAAA,EAAOE,KAAA,EAAOI,SAAA,GACXD,OAAA,CAAQL,KAAA,CAAME,KAAK,CAACI,SAAS,CAACnB,QAAA,IAAY,CAAC,GAAGJ,IAAA,IAAQ,CAAC,GAAG;oBAAEwB,IAAA,EAAMb,GAAA,CAAIa,IAAAA;gBAAK,MAC3E,IAAG,KAAMhB,qBAAA;YAEjB;YAEAO,QAAA,CAASU,IAAI,yMACXhC,uBAAAA,AAAA,EAAqB;gBACnBE,EAAA;gBACAC,oBAAA,EAAsBC,uBAAA;gBACtBC,kBAAA;gBACAC,cAAA;gBACAC,IAAA;gBACAiB,KAAA;gBACAC,UAAA;gBACAhB,MAAA;gBACAC,cAAA;gBACAC,QAAA;gBACAC,aAAA;gBACAC,WAAA;gBACAC,SAAA;gBACAc,eAAA;gBACAZ,IAAA;gBACAC,WAAA;gBACAC,GAAA;gBACAC,mBAAA;gBACAC,cAAA;gBACAC;YACF;QAEJ;IACF;IAEA,MAAMY,OAAA,CAAQC,GAAG,CAACZ,QAAA;AACpB"}},
    {"offset": {"line": 4686, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4692, "column": 0}, "map": {"version":3,"file":"index.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/index.tsx"],"sourcesContent":["import type {\n  Data,\n  DocumentPreferences,\n  Field as FieldSchema,\n  FormState,\n  PayloadRequest,\n} from 'payload'\n\nimport { calculateDefaultValues } from './calculateDefaultValues/index.js'\nimport { iterateFields } from './iterateFields.js'\n\ntype Args = {\n  collectionSlug?: string\n  data?: Data\n  fieldSchema: FieldSchema[] | undefined\n  id?: number | string\n  operation?: 'create' | 'update'\n  preferences: DocumentPreferences\n  req: PayloadRequest\n  siblingData?: Data\n}\n\nexport type BuildFormStateArgs = {\n  collectionSlug?: string\n  data?: Data\n  docPreferences?: DocumentPreferences\n  formState?: FormState\n  globalSlug?: string\n  id?: number | string\n  locale?: string\n  operation?: 'create' | 'update'\n  returnLockStatus?: boolean\n  schemaPath: string\n  updateLastEdited?: boolean\n}\n\nexport const buildStateFromSchema = async (args: Args): Promise<FormState> => {\n  const { id, collectionSlug, data: fullData = {}, fieldSchema, operation, preferences, req } = args\n\n  if (fieldSchema) {\n    const state: FormState = {}\n\n    const dataWithDefaultValues = await calculateDefaultValues({\n      id,\n      data: fullData,\n      fields: fieldSchema,\n      locale: req.locale,\n      siblingData: fullData,\n      user: req.user,\n    })\n\n    await iterateFields({\n      id,\n      addErrorPathToParent: null,\n      collectionSlug,\n      data: dataWithDefaultValues,\n      fields: fieldSchema,\n      fullData,\n      operation,\n      parentPassesCondition: true,\n      path: '',\n      preferences,\n      req,\n      state,\n    })\n\n    return state\n  }\n\n  return {}\n}\n\nexport { iterateFields }\n"],"names":["calculateDefaultValues","iterateFields","buildStateFromSchema","args","id","collectionSlug","data","fullData","fieldSchema","operation","preferences","req","state","dataWithDefaultValues","fields","locale","siblingData","user","addErrorPathToParent","parentPassesCondition","path"],"mappings":";;;AAQA,SAASA,sBAAsB,QAAQ;AACvC,SAASC,aAAa,QAAQ;;;AA2BvB,MAAMC,oBAAA,GAAuB,OAAOC,IAAA;IACzC,MAAM,EAAEC,EAAE,EAAEC,cAAc,EAAEC,IAAA,EAAMC,QAAA,GAAW,CAAC,CAAC,EAAEC,WAAW,EAAEC,SAAS,EAAEC,WAAW,EAAEC,GAAAA,EAAK,GAAGR,IAAA;IAE9F,IAAIK,WAAA,EAAa;QACf,MAAMI,KAAA,GAAmB,CAAC;QAE1B,MAAMC,qBAAA,GAAwB,yNAAMb,yBAAAA,AAAA,EAAuB;YACzDI,EAAA;YACAE,IAAA,EAAMC,QAAA;YACNO,MAAA,EAAQN,WAAA;YACRO,MAAA,EAAQJ,GAAA,CAAII,MAAM;YAClBC,WAAA,EAAaT,QAAA;YACbU,IAAA,EAAMN,GAAA,CAAIM,IAAAA;QACZ;QAEA,uMAAMhB,gBAAAA,AAAA,EAAc;YAClBG,EAAA;YACAc,oBAAA,EAAsB;YACtBb,cAAA;YACAC,IAAA,EAAMO,qBAAA;YACNC,MAAA,EAAQN,WAAA;YACRD,QAAA;YACAE,SAAA;YACAU,qBAAA,EAAuB;YACvBC,IAAA,EAAM;YACNV,WAAA;YACAC,GAAA;YACAC;QACF;QAEA,OAAOA,KAAA;IACT;IAEA,OAAO,CAAC;AACV"}},
    {"offset": {"line": 4731, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4737, "column": 0}, "map": {"version":3,"file":"traverseFields.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/buildFieldSchemaMap/traverseFields.ts"],"sourcesContent":["import type { I18n } from '@payloadcms/translations'\nimport type { Field, SanitizedConfig } from 'payload'\n\nimport { MissingEditorProp } from 'payload'\nimport { tabHasName } from 'payload/shared'\n\nimport type { FieldSchemaMap } from './types.js'\n\ntype Args = {\n  config: SanitizedConfig\n  fields: Field[]\n  i18n: I18n<any, any>\n  schemaMap: FieldSchemaMap\n  schemaPath: string\n}\n\nexport const traverseFields = ({ config, fields, i18n, schemaMap, schemaPath }: Args) => {\n  for (const field of fields) {\n    switch (field.type) {\n      case 'group':\n      case 'array':\n        schemaMap.set(`${schemaPath}.${field.name}`, field.fields)\n\n        traverseFields({\n          config,\n          fields: field.fields,\n          i18n,\n          schemaMap,\n          schemaPath: `${schemaPath}.${field.name}`,\n        })\n        break\n\n      case 'collapsible':\n      case 'row':\n        traverseFields({\n          config,\n          fields: field.fields,\n          i18n,\n          schemaMap,\n          schemaPath,\n        })\n        break\n\n      case 'blocks':\n        field.blocks.map((block) => {\n          const blockSchemaPath = `${schemaPath}.${field.name}.${block.slug}`\n\n          schemaMap.set(blockSchemaPath, block.fields)\n\n          traverseFields({\n            config,\n            fields: block.fields,\n            i18n,\n            schemaMap,\n            schemaPath: blockSchemaPath,\n          })\n        })\n        break\n\n      case 'richText':\n        if (!field?.editor) {\n          throw new MissingEditorProp(field) // while we allow disabling editor functionality, you should not have any richText fields defined if you do not have an editor\n        }\n        if (typeof field.editor === 'function') {\n          throw new Error('Attempted to access unsanitized rich text editor.')\n        }\n\n        if (typeof field.editor.generateSchemaMap === 'function') {\n          field.editor.generateSchemaMap({\n            config,\n            field,\n            i18n,\n            schemaMap,\n            schemaPath: `${schemaPath}.${field.name}`,\n          })\n        }\n\n        break\n\n      case 'tabs':\n        field.tabs.map((tab) => {\n          const tabSchemaPath = tabHasName(tab) ? `${schemaPath}.${tab.name}` : schemaPath\n\n          if (tabHasName(tab)) {\n            schemaMap.set(tabSchemaPath, tab.fields)\n          }\n\n          traverseFields({\n            config,\n            fields: tab.fields,\n            i18n,\n            schemaMap,\n            schemaPath: tabSchemaPath,\n          })\n        })\n        break\n    }\n  }\n}\n"],"names":["MissingEditorProp","tabHasName","traverseFields","config","fields","i18n","schemaMap","schemaPath","field","type","set","name","blocks","map","block","blockSchemaPath","slug","editor","Error","generateSchemaMap","tabs","tab","tabSchemaPath"],"mappings":";;;AAGA,SAASA,iBAAiB,QAAQ;AAClC,SAASC,UAAU,QAAQ;;;AAYpB,MAAMC,cAAA,GAAiBA,CAAC,EAAEC,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAEC,SAAS,EAAEC,UAAAA,EAAkB;IAClF,KAAK,MAAMC,KAAA,IAASJ,MAAA,CAAQ;QAC1B,OAAQI,KAAA,CAAMC,IAAI;YAChB,KAAK;YACL,KAAK;gBACHH,SAAA,CAAUI,GAAG,CAAC,GAAGH,UAAA,CAAA,CAAA,EAAcC,KAAA,CAAMG,IAAI,EAAE,EAAEH,KAAA,CAAMJ,MAAM;gBAEzDF,cAAA,CAAe;oBACbC,MAAA;oBACAC,MAAA,EAAQI,KAAA,CAAMJ,MAAM;oBACpBC,IAAA;oBACAC,SAAA;oBACAC,UAAA,EAAY,GAAGA,UAAA,CAAA,CAAA,EAAcC,KAAA,CAAMG,IAAI,EAAA;gBACzC;gBACA;YAEF,KAAK;YACL,KAAK;gBACHT,cAAA,CAAe;oBACbC,MAAA;oBACAC,MAAA,EAAQI,KAAA,CAAMJ,MAAM;oBACpBC,IAAA;oBACAC,SAAA;oBACAC;gBACF;gBACA;YAEF,KAAK;gBACHC,KAAA,CAAMI,MAAM,CAACC,GAAG,EAAEC,KAAA;oBAChB,MAAMC,eAAA,GAAkB,GAAGR,UAAA,CAAA,CAAA,EAAcC,KAAA,CAAMG,IAAI,CAAA,CAAA,EAAIG,KAAA,CAAME,IAAI,EAAE;oBAEnEV,SAAA,CAAUI,GAAG,CAACK,eAAA,EAAiBD,KAAA,CAAMV,MAAM;oBAE3CF,cAAA,CAAe;wBACbC,MAAA;wBACAC,MAAA,EAAQU,KAAA,CAAMV,MAAM;wBACpBC,IAAA;wBACAC,SAAA;wBACAC,UAAA,EAAYQ;oBACd;gBACF;gBACA;YAEF,KAAK;gBACH,IAAI,CAACP,KAAA,EAAOS,MAAA,EAAQ;oBAClB,MAAM,kKAAIjB,qBAAA,CAAkBQ,KAAA,EAAO,8HAAA;;gBACrC;gBACA,IAAI,OAAOA,KAAA,CAAMS,MAAM,KAAK,YAAY;oBACtC,MAAM,IAAIC,KAAA,CAAM;gBAClB;gBAEA,IAAI,OAAOV,KAAA,CAAMS,MAAM,CAACE,iBAAiB,KAAK,YAAY;oBACxDX,KAAA,CAAMS,MAAM,CAACE,iBAAiB,CAAC;wBAC7BhB,MAAA;wBACAK,KAAA;wBACAH,IAAA;wBACAC,SAAA;wBACAC,UAAA,EAAY,GAAGA,UAAA,CAAA,CAAA,EAAcC,KAAA,CAAMG,IAAI,EAAA;oBACzC;gBACF;gBAEA;YAEF,KAAK;gBACHH,KAAA,CAAMY,IAAI,CAACP,GAAG,EAAEQ,GAAA;oBACd,MAAMC,aAAA,GAAgBrB,8KAAAA,AAAA,EAAWoB,GAAA,IAAO,GAAGd,UAAA,CAAA,CAAA,EAAcc,GAAA,CAAIV,IAAI,EAAE,GAAGJ,UAAA;oBAEtE,qKAAIN,aAAAA,AAAA,EAAWoB,GAAA,GAAM;wBACnBf,SAAA,CAAUI,GAAG,CAACY,aAAA,EAAeD,GAAA,CAAIjB,MAAM;oBACzC;oBAEAF,cAAA,CAAe;wBACbC,MAAA;wBACAC,MAAA,EAAQiB,GAAA,CAAIjB,MAAM;wBAClBC,IAAA;wBACAC,SAAA;wBACAC,UAAA,EAAYe;oBACd;gBACF;gBACA;QACJ;IACF;AACF"}},
    {"offset": {"line": 4817, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4823, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/richtext-lexical/node_modules/@lexical/react/LexicalDecoratorBlockNode.dev.mjs"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport { DecoratorNode } from 'lexical';\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nclass DecoratorBlockNode extends DecoratorNode {\n  constructor(format, key) {\n    super(key);\n    this.__format = format || '';\n  }\n  exportJSON() {\n    return {\n      format: this.__format || '',\n      type: 'decorator-block',\n      version: 1\n    };\n  }\n  canIndent() {\n    return false;\n  }\n  createDOM() {\n    return document.createElement('div');\n  }\n  updateDOM() {\n    return false;\n  }\n  setFormat(format) {\n    const self = this.getWritable();\n    self.__format = format;\n  }\n  isInline() {\n    return false;\n  }\n}\nfunction $isDecoratorBlockNode(node) {\n  return node instanceof DecoratorBlockNode;\n}\n\nexport { $isDecoratorBlockNode, DecoratorBlockNode };\n"],"names":[],"mappings":"AAAA;;;;;;CAMC;;;;AAED;;AAEA;;;;;;CAMC,GAED,MAAM,2BAA2B,0IAAA,CAAA,gBAAa;IAC5C,YAAY,MAAM,EAAE,GAAG,CAAE;QACvB,KAAK,CAAC;QACN,IAAI,CAAC,QAAQ,GAAG,UAAU;IAC5B;IACA,aAAa;QACX,OAAO;YACL,QAAQ,IAAI,CAAC,QAAQ,IAAI;YACzB,MAAM;YACN,SAAS;QACX;IACF;IACA,YAAY;QACV,OAAO;IACT;IACA,YAAY;QACV,OAAO,SAAS,aAAa,CAAC;IAChC;IACA,YAAY;QACV,OAAO;IACT;IACA,UAAU,MAAM,EAAE;QAChB,MAAM,OAAO,IAAI,CAAC,WAAW;QAC7B,KAAK,QAAQ,GAAG;IAClB;IACA,WAAW;QACT,OAAO;IACT;AACF;AACA,SAAS,sBAAsB,IAAI;IACjC,OAAO,gBAAgB;AACzB"}},
    {"offset": {"line": 4874, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}