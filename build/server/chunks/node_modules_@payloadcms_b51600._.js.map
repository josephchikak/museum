{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/hooks/afterRead.ts"],"sourcesContent":["import type { CollectionConfig, FieldHook, ImageSize } from 'payload'\n\nimport type { GeneratedAdapter, GenerateFileURL } from '../types.js'\n\ninterface Args {\n  adapter: GeneratedAdapter\n  collection: CollectionConfig\n  disablePayloadAccessControl?: boolean\n  generateFileURL?: GenerateFileURL\n  size?: ImageSize\n}\n\nexport const getAfterReadHook =\n  ({ adapter, collection, disablePayloadAccessControl, generateFileURL, size }: Args): FieldHook =>\n  async ({ data, value }) => {\n    const filename = size ? data?.sizes?.[size.name]?.filename : data?.filename\n    const prefix = data?.prefix\n    let url = value\n\n    if (disablePayloadAccessControl && filename) {\n      url = await adapter.generateURL({\n        collection,\n        data,\n        filename,\n        prefix,\n      })\n    }\n\n    if (generateFileURL) {\n      url = await generateFileURL({\n        collection,\n        filename,\n        prefix,\n        size,\n      })\n    }\n\n    return url\n  }\n"],"names":["getAfterReadHook","adapter","collection","disablePayloadAccessControl","generateFileURL","size","data","value","filename","sizes","name","prefix","url","generateURL"],"mappings":";;;AAYO,MAAMA,mBACX,CAAC,EAAEC,OAAO,EAAEC,UAAU,EAAEC,2BAA2B,EAAEC,eAAe,EAAEC,IAAI,EAAQ,GAClF,OAAO,EAAEC,IAAI,EAAEC,KAAK,EAAE;QACpB,MAAMC,WAAWH,OAAOC,MAAMG,OAAO,CAACJ,KAAKK,IAAI,CAAC,EAAEF,WAAWF,MAAME;QACnE,MAAMG,SAASL,MAAMK;QACrB,IAAIC,MAAML;QAEV,IAAIJ,+BAA+BK,UAAU;YAC3CI,MAAM,MAAMX,QAAQY,WAAW,CAAC;gBAC9BX;gBACAI;gBACAE;gBACAG;YACF;QACF;QAEA,IAAIP,iBAAiB;YACnBQ,MAAM,MAAMR,gBAAgB;gBAC1BF;gBACAM;gBACAG;gBACAN;YACF;QACF;QAEA,OAAOO;IACT,EAAC"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/fields/getFields.ts"],"sourcesContent":["import type { CollectionConfig, Field, GroupField, TextField } from 'payload'\n\nimport path from 'path'\n\nimport type { GeneratedAdapter, GenerateFileURL } from '../types.js'\n\nimport { getAfterReadHook } from '../hooks/afterRead.js'\n\ninterface Args {\n  adapter: GeneratedAdapter\n  collection: CollectionConfig\n  disablePayloadAccessControl?: true\n  generateFileURL?: GenerateFileURL\n  prefix?: string\n}\n\nexport const getFields = ({\n  adapter,\n  collection,\n  disablePayloadAccessControl,\n  generateFileURL,\n  prefix,\n}: Args): Field[] => {\n  const baseURLField: TextField = {\n    name: 'url',\n    type: 'text',\n    admin: {\n      hidden: true,\n      readOnly: true,\n    },\n    label: 'URL',\n  }\n\n  const basePrefixField: TextField = {\n    name: 'prefix',\n    type: 'text',\n    admin: {\n      hidden: true,\n      readOnly: true,\n    },\n  }\n\n  const fields = [...collection.fields, ...(adapter.fields || [])]\n\n  // Inject a hook into all URL fields to generate URLs\n\n  let existingURLFieldIndex = -1\n\n  const existingURLField = fields.find((existingField, i) => {\n    if ('name' in existingField && existingField.name === 'url') {\n      existingURLFieldIndex = i\n      return true\n    }\n    return false\n  }) as TextField\n\n  if (existingURLFieldIndex > -1) {\n    fields.splice(existingURLFieldIndex, 1)\n  }\n\n  fields.push({\n    ...baseURLField,\n    ...(existingURLField || {}),\n    hooks: {\n      afterRead: [\n        getAfterReadHook({ adapter, collection, disablePayloadAccessControl, generateFileURL }),\n        ...(existingURLField?.hooks?.afterRead || []),\n      ],\n    },\n  } as TextField)\n\n  if (typeof collection.upload === 'object' && collection.upload.imageSizes) {\n    let existingSizesFieldIndex = -1\n\n    const existingSizesField = fields.find((existingField, i) => {\n      if ('name' in existingField && existingField.name === 'sizes') {\n        existingSizesFieldIndex = i\n        return true\n      }\n\n      return false\n    }) as GroupField\n\n    if (existingSizesFieldIndex > -1) {\n      fields.splice(existingSizesFieldIndex, 1)\n    }\n\n    const sizesField: Field = {\n      ...(existingSizesField || {}),\n      name: 'sizes',\n      type: 'group',\n      admin: {\n        hidden: true,\n      },\n      fields: collection.upload.imageSizes.map((size) => {\n        const existingSizeField = existingSizesField?.fields.find(\n          (existingField) => 'name' in existingField && existingField.name === size.name,\n        ) as GroupField\n\n        const existingSizeURLField = existingSizeField?.fields.find(\n          (existingField) => 'name' in existingField && existingField.name === 'url',\n        ) as GroupField\n\n        return {\n          ...existingSizeField,\n          name: size.name,\n          type: 'group',\n          fields: [\n            ...(adapter.fields || []),\n            {\n              ...(existingSizeURLField || ({} as any)),\n              ...baseURLField,\n              hooks: {\n                afterRead: [\n                  getAfterReadHook({\n                    adapter,\n                    collection,\n                    disablePayloadAccessControl,\n                    generateFileURL,\n                    size,\n                  }),\n                  ...(existingSizeURLField?.hooks?.afterRead || []),\n                ],\n              },\n            },\n          ],\n        }\n      }),\n    }\n\n    fields.push(sizesField)\n  }\n\n  // If prefix is enabled, save it to db\n  if (typeof prefix !== 'undefined') {\n    let existingPrefixFieldIndex = -1\n\n    const existingPrefixField = fields.find((existingField, i) => {\n      if ('name' in existingField && existingField.name === 'prefix') {\n        existingPrefixFieldIndex = i\n        return true\n      }\n      return false\n    }) as TextField\n\n    if (existingPrefixFieldIndex > -1) {\n      fields.splice(existingPrefixFieldIndex, 1)\n    }\n\n    fields.push({\n      ...basePrefixField,\n      ...(existingPrefixField || {}),\n      defaultValue: path.posix.join(prefix),\n    } as TextField)\n  }\n\n  return fields\n}\n"],"names":["path","getAfterReadHook","getFields","adapter","collection","disablePayloadAccessControl","generateFileURL","prefix","baseURLField","name","type","admin","hidden","readOnly","label","basePrefixField","fields","existingURLFieldIndex","existingURLField","find","existingField","i","splice","push","hooks","afterRead","upload","imageSizes","existingSizesFieldIndex","existingSizesField","sizesField","map","size","existingSizeField","existingSizeURLField","existingPrefixFieldIndex","existingPrefixField","defaultValue","posix","join"],"mappings":"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"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/hooks/afterDelete.ts"],"sourcesContent":["import type { CollectionAfterDeleteHook, CollectionConfig, FileData, TypeWithID } from 'payload'\n\nimport type { GeneratedAdapter, TypeWithPrefix } from '../types.js'\n\ninterface Args {\n  adapter: GeneratedAdapter\n  collection: CollectionConfig\n}\n\nexport const getAfterDeleteHook = ({\n  adapter,\n  collection,\n}: Args): CollectionAfterDeleteHook<FileData & TypeWithID & TypeWithPrefix> => {\n  return async ({ doc, req }) => {\n    try {\n      const filesToDelete: string[] = [\n        doc.filename,\n        ...Object.values(doc?.sizes || []).map((resizedFileData) => resizedFileData?.filename),\n      ]\n\n      const promises = filesToDelete.map(async (filename) => {\n        if (filename) {\n          await adapter.handleDelete({ collection, doc, filename, req })\n        }\n      })\n\n      await Promise.all(promises)\n    } catch (err: unknown) {\n      req.payload.logger.error({\n        err,\n        msg: `There was an error while deleting files corresponding to the ${collection.labels?.singular} with ID ${doc.id}.`,\n      })\n    }\n    return doc\n  }\n}\n"],"names":["getAfterDeleteHook","adapter","collection","doc","req","filesToDelete","filename","Object","values","sizes","map","resizedFileData","promises","handleDelete","Promise","all","err","payload","logger","error","msg","labels","singular","id"],"mappings":";;;AASO,MAAMA,qBAAqB,CAAC,EACjCC,OAAO,EACPC,UAAU,EACL;IACL,OAAO,OAAO,EAAEC,GAAG,EAAEC,GAAG,EAAE;QACxB,IAAI;YACF,MAAMC,gBAA0B;gBAC9BF,IAAIG,QAAQ;mBACTC,OAAOC,MAAM,CAACL,KAAKM,SAAS,EAAE,EAAEC,GAAG,CAAC,CAACC,kBAAoBA,iBAAiBL;aAC9E;YAED,MAAMM,WAAWP,cAAcK,GAAG,CAAC,OAAOJ;gBACxC,IAAIA,UAAU;oBACZ,MAAML,QAAQY,YAAY,CAAC;wBAAEX;wBAAYC;wBAAKG;wBAAUF;oBAAI;gBAC9D;YACF;YAEA,MAAMU,QAAQC,GAAG,CAACH;QACpB,EAAE,OAAOI,KAAc;YACrBZ,IAAIa,OAAO,CAACC,MAAM,CAACC,KAAK,CAAC;gBACvBH;gBACAI,KAAK,CAAC,6DAA6D,EAAElB,WAAWmB,MAAM,EAAEC,SAAS,SAAS,EAAEnB,IAAIoB,EAAE,CAAC,CAAC,CAAC;YACvH;QACF;QACA,OAAOpB;IACT;AACF,EAAC"}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/utilities/getIncomingFiles.ts"],"sourcesContent":["import type { FileData, PayloadRequest } from 'payload'\n\nimport type { File } from '../types.js'\n\nexport function getIncomingFiles({\n  data,\n  req,\n}: {\n  data: Partial<FileData>\n  req: PayloadRequest\n}): File[] {\n  const file = req.file\n\n  let files: File[] = []\n\n  if (file && data.filename && data.mimeType) {\n    const mainFile: File = {\n      buffer: file.data,\n      filename: data.filename,\n      filesize: file.size,\n      mimeType: data.mimeType,\n      tempFilePath: file.tempFilePath,\n    }\n\n    files = [mainFile]\n\n    if (data?.sizes) {\n      Object.entries(data.sizes).forEach(([key, resizedFileData]) => {\n        if (req.payloadUploadSizes?.[key] && data.mimeType) {\n          files = files.concat([\n            {\n              buffer: req.payloadUploadSizes[key],\n              filename: `${resizedFileData.filename}`,\n              filesize: req.payloadUploadSizes[key].length,\n              mimeType: data.mimeType,\n            },\n          ])\n        }\n      })\n    }\n  }\n\n  return files\n}\n"],"names":["getIncomingFiles","data","req","file","files","filename","mimeType","mainFile","buffer","filesize","size","tempFilePath","sizes","Object","entries","forEach","key","resizedFileData","payloadUploadSizes","concat","length"],"mappings":";;;AAIO,SAASA,iBAAiB,EAC/BC,IAAI,EACJC,GAAG,EAIJ;IACC,MAAMC,OAAOD,IAAIC,IAAI;IAErB,IAAIC,QAAgB,EAAE;IAEtB,IAAID,QAAQF,KAAKI,QAAQ,IAAIJ,KAAKK,QAAQ,EAAE;QAC1C,MAAMC,WAAiB;YACrBC,QAAQL,KAAKF,IAAI;YACjBI,UAAUJ,KAAKI,QAAQ;YACvBI,UAAUN,KAAKO,IAAI;YACnBJ,UAAUL,KAAKK,QAAQ;YACvBK,cAAcR,KAAKQ,YAAY;QACjC;QAEAP,QAAQ;YAACG;SAAS;QAElB,IAAIN,MAAMW,OAAO;YACfC,OAAOC,OAAO,CAACb,KAAKW,KAAK,EAAEG,OAAO,CAAC,CAAC,CAACC,KAAKC,gBAAgB;gBACxD,IAAIf,IAAIgB,kBAAkB,EAAE,CAACF,IAAI,IAAIf,KAAKK,QAAQ,EAAE;oBAClDF,QAAQA,MAAMe,MAAM,CAAC;wBACnB;4BACEX,QAAQN,IAAIgB,kBAAkB,CAACF,IAAI;4BACnCX,UAAU,CAAC,EAAEY,gBAAgBZ,QAAQ,CAAC,CAAC;4BACvCI,UAAUP,IAAIgB,kBAAkB,CAACF,IAAI,CAACI,MAAM;4BAC5Cd,UAAUL,KAAKK,QAAQ;wBACzB;qBACD;gBACH;YACF;QACF;IACF;IAEA,OAAOF;AACT"}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/hooks/beforeChange.ts"],"sourcesContent":["import type { CollectionBeforeChangeHook, CollectionConfig, FileData, TypeWithID } from 'payload'\n\nimport type { GeneratedAdapter } from '../types.js'\n\nimport { getIncomingFiles } from '../utilities/getIncomingFiles.js'\n\ninterface Args {\n  adapter: GeneratedAdapter\n  collection: CollectionConfig\n}\n\nexport const getBeforeChangeHook =\n  ({ adapter, collection }: Args): CollectionBeforeChangeHook<FileData & TypeWithID> =>\n  async ({ data, originalDoc, req }) => {\n    try {\n      const files = getIncomingFiles({ data, req })\n\n      if (files.length > 0) {\n        // If there is an original doc,\n        // And we have new files,\n        // We need to delete the old files before uploading new\n        if (originalDoc) {\n          let filesToDelete: string[] = []\n\n          if (typeof originalDoc?.filename === 'string') {\n            filesToDelete.push(originalDoc.filename)\n          }\n\n          if (typeof originalDoc.sizes === 'object') {\n            filesToDelete = filesToDelete.concat(\n              Object.values(originalDoc?.sizes || []).map(\n                (resizedFileData) => resizedFileData?.filename,\n              ),\n            )\n          }\n\n          const deletionPromises = filesToDelete.map(async (filename) => {\n            if (filename) {\n              await adapter.handleDelete({ collection, doc: originalDoc, filename, req })\n            }\n          })\n\n          await Promise.all(deletionPromises)\n        }\n\n        const promises = files.map(async (file) => {\n          await adapter.handleUpload({ collection, data, file, req })\n        })\n\n        await Promise.all(promises)\n      }\n    } catch (err: unknown) {\n      req.payload.logger.error(\n        `There was an error while uploading files corresponding to the collection ${collection.slug} with filename ${data.filename}:`,\n      )\n      req.payload.logger.error({ err })\n      throw err\n    }\n    return data\n  }\n"],"names":["getIncomingFiles","getBeforeChangeHook","adapter","collection","data","originalDoc","req","files","length","filesToDelete","filename","push","sizes","concat","Object","values","map","resizedFileData","deletionPromises","handleDelete","doc","Promise","all","promises","file","handleUpload","err","payload","logger","error","slug"],"mappings":";;;AAIA,SAASA,gBAAgB,QAAQ,mCAAkC;;AAO5D,MAAMC,sBACX,CAAC,EAAEC,OAAO,EAAEC,UAAU,EAAQ,GAC9B,OAAO,EAAEC,IAAI,EAAEC,WAAW,EAAEC,GAAG,EAAE;QAC/B,IAAI;YACF,MAAMC,YAAQP,0QAAAA,EAAiB;gBAAEI;gBAAME;YAAI;YAE3C,IAAIC,MAAMC,MAAM,GAAG,GAAG;gBACpB,+BAA+B;gBAC/B,yBAAyB;gBACzB,uDAAuD;gBACvD,IAAIH,aAAa;oBACf,IAAII,gBAA0B,EAAE;oBAEhC,IAAI,OAAOJ,aAAaK,aAAa,UAAU;wBAC7CD,cAAcE,IAAI,CAACN,YAAYK,QAAQ;oBACzC;oBAEA,IAAI,OAAOL,YAAYO,KAAK,KAAK,UAAU;wBACzCH,gBAAgBA,cAAcI,MAAM,CAClCC,OAAOC,MAAM,CAACV,aAAaO,SAAS,EAAE,EAAEI,GAAG,CACzC,CAACC,kBAAoBA,iBAAiBP;oBAG5C;oBAEA,MAAMQ,mBAAmBT,cAAcO,GAAG,CAAC,OAAON;wBAChD,IAAIA,UAAU;4BACZ,MAAMR,QAAQiB,YAAY,CAAC;gCAAEhB;gCAAYiB,KAAKf;gCAAaK;gCAAUJ;4BAAI;wBAC3E;oBACF;oBAEA,MAAMe,QAAQC,GAAG,CAACJ;gBACpB;gBAEA,MAAMK,WAAWhB,MAAMS,GAAG,CAAC,OAAOQ;oBAChC,MAAMtB,QAAQuB,YAAY,CAAC;wBAAEtB;wBAAYC;wBAAMoB;wBAAMlB;oBAAI;gBAC3D;gBAEA,MAAMe,QAAQC,GAAG,CAACC;YACpB;QACF,EAAE,OAAOG,KAAc;YACrBpB,IAAIqB,OAAO,CAACC,MAAM,CAACC,KAAK,CACtB,CAAC,yEAAyE,EAAE1B,WAAW2B,IAAI,CAAC,eAAe,EAAE1B,KAAKM,QAAQ,CAAC,CAAC,CAAC;YAE/HJ,IAAIqB,OAAO,CAACC,MAAM,CAACC,KAAK,CAAC;gBAAEH;YAAI;YAC/B,MAAMA;QACR;QACA,OAAOtB;IACT,EAAC"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/plugin.ts"],"sourcesContent":["import type { Config } from 'payload'\n\nimport type { PluginOptions } from './types.js'\n\nimport { getFields } from './fields/getFields.js'\nimport { getAfterDeleteHook } from './hooks/afterDelete.js'\nimport { getBeforeChangeHook } from './hooks/beforeChange.js'\n\n// This plugin extends all targeted collections by offloading uploaded files\n// to cloud storage instead of solely storing files locally.\n\n// It is based on an adapter approach, where adapters can be written for any cloud provider.\n// Adapters are responsible for providing four actions that this plugin will use:\n// 1. handleUpload, 2. handleDelete, 3. generateURL, 4. staticHandler\n\n// Optionally, the adapter can specify any Webpack config overrides if they are necessary.\n\nexport const cloudStoragePlugin =\n  (pluginOptions: PluginOptions) =>\n  (incomingConfig: Config): Config => {\n    const { collections: allCollectionOptions, enabled } = pluginOptions\n    const config = { ...incomingConfig }\n\n    // Return early if disabled. Only webpack config mods are applied.\n    if (enabled === false) {\n      return config\n    }\n\n    const initFunctions: Array<() => void> = []\n\n    return {\n      ...config,\n      collections: (config.collections || []).map((existingCollection) => {\n        const options = allCollectionOptions[existingCollection.slug]\n\n        if (options?.adapter) {\n          const adapter = options.adapter({\n            collection: existingCollection,\n            prefix: options.prefix,\n          })\n\n          if (adapter.onInit) {\n            initFunctions.push(adapter.onInit)\n          }\n\n          const fields = getFields({\n            adapter,\n            collection: existingCollection,\n            disablePayloadAccessControl: options.disablePayloadAccessControl,\n            generateFileURL: options.generateFileURL,\n            prefix: options.prefix,\n          })\n\n          const handlers = [\n            ...(typeof existingCollection.upload === 'object' &&\n            Array.isArray(existingCollection.upload.handlers)\n              ? existingCollection.upload.handlers\n              : []),\n          ]\n\n          if (!options.disablePayloadAccessControl) {\n            handlers.push(adapter.staticHandler)\n          }\n\n          return {\n            ...existingCollection,\n            fields,\n            hooks: {\n              ...(existingCollection.hooks || {}),\n              afterDelete: [\n                ...(existingCollection.hooks?.afterDelete || []),\n                getAfterDeleteHook({ adapter, collection: existingCollection }),\n              ],\n              beforeChange: [\n                ...(existingCollection.hooks?.beforeChange || []),\n                getBeforeChangeHook({ adapter, collection: existingCollection }),\n              ],\n            },\n            upload: {\n              ...(typeof existingCollection.upload === 'object' ? existingCollection.upload : {}),\n              adapter: adapter.name,\n              disableLocalStorage:\n                typeof options.disableLocalStorage === 'boolean'\n                  ? options.disableLocalStorage\n                  : true,\n              handlers,\n            },\n          }\n        }\n\n        return existingCollection\n      }),\n      onInit: async (payload) => {\n        initFunctions.forEach((fn) => fn())\n        if (config.onInit) {\n          await config.onInit(payload)\n        }\n      },\n    }\n  }\n"],"names":["getFields","getAfterDeleteHook","getBeforeChangeHook","cloudStoragePlugin","pluginOptions","incomingConfig","collections","allCollectionOptions","enabled","config","initFunctions","map","existingCollection","options","slug","adapter","collection","prefix","onInit","push","fields","disablePayloadAccessControl","generateFileURL","handlers","upload","Array","isArray","staticHandler","hooks","afterDelete","beforeChange","name","disableLocalStorage","payload","forEach","fn"],"mappings":";;;AAIA,SAASA,SAAS,QAAQ,wBAAuB;AACjD,SAASC,kBAAkB,QAAQ,yBAAwB;AAC3D,SAASC,mBAAmB,QAAQ,0BAAyB;;;;AAWtD,MAAMC,qBACX,CAACC,gBACD,CAACC;QACC,MAAM,EAAEC,aAAaC,oBAAoB,EAAEC,OAAO,EAAE,GAAGJ;QACvD,MAAMK,SAAS;YAAE,GAAGJ,cAAc;QAAC;QAEnC,kEAAkE;QAClE,IAAIG,YAAY,OAAO;YACrB,OAAOC;QACT;QAEA,MAAMC,gBAAmC,EAAE;QAE3C,OAAO;YACL,GAAGD,MAAM;YACTH,aAAcG,CAAAA,OAAOH,WAAW,IAAI,EAAC,EAAGK,GAAG,CAAC,CAACC;gBAC3C,MAAMC,UAAUN,oBAAoB,CAACK,mBAAmBE,IAAI,CAAC;gBAE7D,IAAID,SAASE,SAAS;oBACpB,MAAMA,UAAUF,QAAQE,OAAO,CAAC;wBAC9BC,YAAYJ;wBACZK,QAAQJ,QAAQI,MAAM;oBACxB;oBAEA,IAAIF,QAAQG,MAAM,EAAE;wBAClBR,cAAcS,IAAI,CAACJ,QAAQG,MAAM;oBACnC;oBAEA,MAAME,0PAASpB,YAAAA,EAAU;wBACvBe;wBACAC,YAAYJ;wBACZS,6BAA6BR,QAAQQ,2BAA2B;wBAChEC,iBAAiBT,QAAQS,eAAe;wBACxCL,QAAQJ,QAAQI,MAAM;oBACxB;oBAEA,MAAMM,WAAW;2BACX,OAAOX,mBAAmBY,MAAM,KAAK,YACzCC,MAAMC,OAAO,CAACd,mBAAmBY,MAAM,CAACD,QAAQ,IAC5CX,mBAAmBY,MAAM,CAACD,QAAQ,GAClC,EAAE;qBACP;oBAED,IAAI,CAACV,QAAQQ,2BAA2B,EAAE;wBACxCE,SAASJ,IAAI,CAACJ,QAAQY,aAAa;oBACrC;oBAEA,OAAO;wBACL,GAAGf,kBAAkB;wBACrBQ;wBACAQ,OAAO;4BACL,GAAIhB,mBAAmBgB,KAAK,IAAI,CAAC,CAAC;4BAClCC,aAAa;mCACPjB,mBAAmBgB,KAAK,EAAEC,eAAe,EAAE;kRAC/C5B,qBAAAA,EAAmB;oCAAEc;oCAASC,YAAYJ;gCAAmB;6BAC9D;4BACDkB,cAAc;mCACRlB,mBAAmBgB,KAAK,EAAEE,gBAAgB,EAAE;mRAChD5B,sBAAAA,EAAoB;oCAAEa;oCAASC,YAAYJ;gCAAmB;6BAC/D;wBACH;wBACAY,QAAQ;4BACN,GAAI,OAAOZ,mBAAmBY,MAAM,KAAK,WAAWZ,mBAAmBY,MAAM,GAAG,CAAC,CAAC;4BAClFT,SAASA,QAAQgB,IAAI;4BACrBC,qBACE,OAAOnB,QAAQmB,mBAAmB,KAAK,YACnCnB,QAAQmB,mBAAmB,GAC3B;4BACNT;wBACF;oBACF;gBACF;gBAEA,OAAOX;YACT;YACAM,QAAQ,OAAOe;gBACbvB,cAAcwB,OAAO,CAAC,CAACC,KAAOA;gBAC9B,IAAI1B,OAAOS,MAAM,EAAE;oBACjB,MAAMT,OAAOS,MAAM,CAACe;gBACtB;YACF;QACF;IACF,EAAC"}},
    {"offset": {"line": 389, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/index.ts"],"sourcesContent":["export { cloudStoragePlugin } from './plugin.js'\n"],"names":["cloudStoragePlugin"],"mappings":""}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 413, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/utilities/getFilePrefix.ts"],"sourcesContent":["import type { CollectionConfig, PayloadRequest, UploadConfig } from 'payload'\n\nexport async function getFilePrefix({\n  collection,\n  filename,\n  req,\n}: {\n  collection: CollectionConfig\n  filename: string\n  req: PayloadRequest\n}): Promise<string> {\n  const imageSizes = (collection?.upload as UploadConfig)?.imageSizes || []\n\n  const files = await req.payload.find({\n    collection: collection.slug,\n    depth: 0,\n    limit: 1,\n    pagination: false,\n    where: {\n      or: [\n        {\n          filename: { equals: filename },\n        },\n        ...imageSizes.map((imageSize) => ({\n          [`sizes.${imageSize.name}.filename`]: { equals: filename },\n        })),\n      ],\n    },\n  })\n  const prefix = files?.docs?.[0]?.prefix\n  return prefix ? (prefix as string) : ''\n}\n"],"names":["getFilePrefix","collection","filename","req","imageSizes","upload","files","payload","find","slug","depth","limit","pagination","where","or","equals","map","imageSize","name","prefix","docs"],"mappings":";;;AAEO,eAAeA,cAAc,EAClCC,UAAU,EACVC,QAAQ,EACRC,GAAG,EAKJ;IACC,MAAMC,aAAcH,YAAYI,QAAyBD,cAAc,EAAE;IAEzE,MAAME,QAAQ,MAAMH,IAAII,OAAO,CAACC,IAAI,CAAC;QACnCP,YAAYA,WAAWQ,IAAI;QAC3BC,OAAO;QACPC,OAAO;QACPC,YAAY;QACZC,OAAO;YACLC,IAAI;gBACF;oBACEZ,UAAU;wBAAEa,QAAQb;oBAAS;gBAC/B;mBACGE,WAAWY,GAAG,CAAC,CAACC,YAAe,CAAA;wBAChC,CAAC,CAAC,MAAM,EAAEA,UAAUC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE;4BAAEH,QAAQb;wBAAS;oBAC3D,CAAA;aACD;QACH;IACF;IACA,MAAMiB,SAASb,OAAOc,MAAM,CAAC,EAAE,EAAED;IACjC,OAAOA,SAAUA,SAAoB;AACvC"}},
    {"offset": {"line": 441, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/node_modules/@payloadcms/plugin-cloud-storage/src/exports/utilities.ts"],"sourcesContent":["export { getFilePrefix } from '../utilities/getFilePrefix.js'\n"],"names":["getFilePrefix"],"mappings":""}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 465, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/src/generateURL.ts"],"sourcesContent":["import type * as AWS from '@aws-sdk/client-s3'\nimport type { GenerateURL } from '@payloadcms/plugin-cloud-storage/types'\n\nimport path from 'path'\n\ninterface Args {\n  bucket: string\n  config: AWS.S3ClientConfig\n}\n\nexport const getGenerateURL =\n  ({ bucket, config: { endpoint } }: Args): GenerateURL =>\n  ({ filename, prefix = '' }) => {\n    const stringifiedEndpoint = typeof endpoint === 'string' ? endpoint : endpoint?.toString()\n    return `${stringifiedEndpoint}/${bucket}/${path.posix.join(prefix, filename)}`\n  }\n"],"names":["path","getGenerateURL","bucket","config","endpoint","filename","prefix","stringifiedEndpoint","toString","posix","join"],"mappings":";;;AAGA,OAAOA,UAAU,OAAM;;AAOhB,MAAMC,iBACX,CAAC,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAE,EAAQ,GACvC,CAAC,EAAEC,QAAQ,EAAEC,SAAS,EAAE,EAAE;QACxB,MAAMC,sBAAsB,OAAOH,aAAa,WAAWA,WAAWA,UAAUI;QAChF,OAAO,CAAC,EAAED,oBAAoB,CAAC,EAAEL,OAAO,CAAC,gGAAEF,UAAAA,CAAKS,KAAK,CAACC,IAAI,CAACJ,QAAQD,UAAU,CAAC;IAChF,EAAC"}},
    {"offset": {"line": 474, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 480, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/src/handleDelete.ts"],"sourcesContent":["import type * as AWS from '@aws-sdk/client-s3'\nimport type { HandleDelete } from '@payloadcms/plugin-cloud-storage/types'\n\nimport path from 'path'\n\ninterface Args {\n  bucket: string\n  getStorageClient: () => AWS.S3\n}\n\nexport const getHandleDelete = ({ bucket, getStorageClient }: Args): HandleDelete => {\n  return async ({ doc: { prefix = '' }, filename }) => {\n    await getStorageClient().deleteObject({\n      Bucket: bucket,\n      Key: path.posix.join(prefix, filename),\n    })\n  }\n}\n"],"names":["path","getHandleDelete","bucket","getStorageClient","doc","prefix","filename","deleteObject","Bucket","Key","posix","join"],"mappings":";;;AAGA,OAAOA,UAAU,OAAM;;AAOhB,MAAMC,kBAAkB,CAAC,EAAEC,MAAM,EAAEC,gBAAgB,EAAQ;IAChE,OAAO,OAAO,EAAEC,KAAK,EAAEC,SAAS,EAAE,EAAE,EAAEC,QAAQ,EAAE;QAC9C,MAAMH,mBAAmBI,YAAY,CAAC;YACpCC,QAAQN;YACRO,mGAAKT,UAAAA,CAAKU,KAAK,CAACC,IAAI,CAACN,QAAQC;QAC/B;IACF;AACF,EAAC"}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 499, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/src/handleUpload.ts"],"sourcesContent":["import type * as AWS from '@aws-sdk/client-s3'\nimport type { HandleUpload } from '@payloadcms/plugin-cloud-storage/types'\nimport type { CollectionConfig } from 'payload'\n\nimport { Upload } from '@aws-sdk/lib-storage'\nimport fs from 'fs'\nimport path from 'path'\n\ninterface Args {\n  acl?: 'private' | 'public-read'\n  bucket: string\n  collection: CollectionConfig\n  getStorageClient: () => AWS.S3\n  prefix?: string\n}\n\nconst multipartThreshold = 1024 * 1024 * 50 // 50MB\n\nexport const getHandleUpload = ({\n  acl,\n  bucket,\n  getStorageClient,\n  prefix = '',\n}: Args): HandleUpload => {\n  return async ({ data, file }) => {\n    const fileKey = path.posix.join(data.prefix || prefix, file.filename)\n\n    const fileBufferOrStream = file.tempFilePath\n      ? fs.createReadStream(file.tempFilePath)\n      : file.buffer\n\n    if (file.buffer.length > 0 && file.buffer.length < multipartThreshold) {\n      await getStorageClient().putObject({\n        ACL: acl,\n        Body: fileBufferOrStream,\n        Bucket: bucket,\n        ContentType: file.mimeType,\n        Key: fileKey,\n      })\n\n      return data\n    }\n\n    const parallelUploadS3 = new Upload({\n      client: getStorageClient(),\n      params: {\n        ACL: acl,\n        Body: fileBufferOrStream,\n        Bucket: bucket,\n        ContentType: file.mimeType,\n        Key: fileKey,\n      },\n      partSize: multipartThreshold,\n      queueSize: 4,\n    })\n\n    await parallelUploadS3.done()\n\n    return data\n  }\n}\n"],"names":["Upload","fs","path","multipartThreshold","getHandleUpload","acl","bucket","getStorageClient","prefix","data","file","fileKey","posix","join","filename","fileBufferOrStream","tempFilePath","createReadStream","buffer","length","putObject","ACL","Body","Bucket","ContentType","mimeType","Key","parallelUploadS3","client","params","partSize","queueSize","done"],"mappings":";;;AAIA,SAASA,MAAM,QAAQ,uBAAsB;AAC7C,OAAOC,QAAQ,KAAI;AACnB,OAAOC,UAAU,OAAM;;;;;AAUvB,MAAMC,qBAAqB,OAAO,OAAO,GAAG,OAAO;;AAE5C,MAAMC,kBAAkB,CAAC,EAC9BC,GAAG,EACHC,MAAM,EACNC,gBAAgB,EAChBC,SAAS,EAAE,EACN;IACL,OAAO,OAAO,EAAEC,IAAI,EAAEC,IAAI,EAAE;QAC1B,MAAMC,wGAAUT,UAAAA,CAAKU,KAAK,CAACC,IAAI,CAACJ,KAAKD,MAAM,IAAIA,QAAQE,KAAKI,QAAQ;QAEpE,MAAMC,qBAAqBL,KAAKM,YAAY,+FACxCf,UAAAA,CAAGgB,gBAAgB,CAACP,KAAKM,YAAY,IACrCN,KAAKQ,MAAM;QAEf,IAAIR,KAAKQ,MAAM,CAACC,MAAM,GAAG,KAAKT,KAAKQ,MAAM,CAACC,MAAM,GAAGhB,oBAAoB;YACrE,MAAMI,mBAAmBa,SAAS,CAAC;gBACjCC,KAAKhB;gBACLiB,MAAMP;gBACNQ,QAAQjB;gBACRkB,aAAad,KAAKe,QAAQ;gBAC1BC,KAAKf;YACP;YAEA,OAAOF;QACT;QAEA,MAAMkB,mBAAmB,6KAAI3B,SAAAA,CAAO;YAClC4B,QAAQrB;YACRsB,QAAQ;gBACNR,KAAKhB;gBACLiB,MAAMP;gBACNQ,QAAQjB;gBACRkB,aAAad,KAAKe,QAAQ;gBAC1BC,KAAKf;YACP;YACAmB,UAAU3B;YACV4B,WAAW;QACb;QAEA,MAAMJ,iBAAiBK,IAAI;QAE3B,OAAOvB;IACT;AACF,EAAC"}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 547, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/src/staticHandler.ts"],"sourcesContent":["import type * as AWS from '@aws-sdk/client-s3'\nimport type { StaticHandler } from '@payloadcms/plugin-cloud-storage/types'\nimport type { CollectionConfig } from 'payload'\n\nimport { getFilePrefix } from '@payloadcms/plugin-cloud-storage/utilities'\nimport path from 'path'\n\ninterface Args {\n  bucket: string\n  collection: CollectionConfig\n  getStorageClient: () => AWS.S3\n}\n\n// Convert a stream into a promise that resolves with a Buffer\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst streamToBuffer = async (readableStream: any) => {\n  const chunks = []\n  for await (const chunk of readableStream) {\n    chunks.push(typeof chunk === 'string' ? Buffer.from(chunk) : chunk)\n  }\n  return Buffer.concat(chunks)\n}\n\nexport const getHandler = ({ bucket, collection, getStorageClient }: Args): StaticHandler => {\n  return async (req, { params: { filename } }) => {\n    try {\n      const prefix = await getFilePrefix({ collection, filename, req })\n\n      const object = await getStorageClient().getObject({\n        Bucket: bucket,\n        Key: path.posix.join(prefix, filename),\n      })\n\n      if (!object.Body) {\n        return new Response(null, { status: 404, statusText: 'Not Found' })\n      }\n\n      const bodyBuffer = await streamToBuffer(object.Body)\n\n      return new Response(bodyBuffer, {\n        headers: new Headers({\n          'Accept-Ranges': String(object.AcceptRanges),\n          'Content-Length': String(object.ContentLength),\n          'Content-Type': String(object.ContentType),\n          ETag: String(object.ETag),\n        }),\n        status: 200,\n      })\n    } catch (err) {\n      req.payload.logger.error(err)\n      return new Response('Internal Server Error', { status: 500 })\n    }\n  }\n}\n"],"names":["getFilePrefix","path","streamToBuffer","readableStream","chunks","chunk","push","Buffer","from","concat","getHandler","bucket","collection","getStorageClient","req","params","filename","prefix","object","getObject","Bucket","Key","posix","join","Body","Response","status","statusText","bodyBuffer","headers","Headers","String","AcceptRanges","ContentLength","ContentType","ETag","err","payload","logger","error"],"mappings":";;;AAIA,SAASA,aAAa,QAAQ,6CAA4C;AAC1E,OAAOC,UAAU,OAAM;;;;AAQvB,8DAA8D;AAC9D,8DAA8D;AAC9D,MAAMC,iBAAiB,OAAOC;IAC5B,MAAMC,SAAS,EAAE;IACjB,WAAW,MAAMC,SAASF,eAAgB;QACxCC,OAAOE,IAAI,CAAC,OAAOD,UAAU,WAAWE,OAAOC,IAAI,CAACH,SAASA;IAC/D;IACA,OAAOE,OAAOE,MAAM,CAACL;AACvB;AAEO,MAAMM,aAAa,CAAC,EAAEC,MAAM,EAAEC,UAAU,EAAEC,gBAAgB,EAAQ;IACvE,OAAO,OAAOC,KAAK,EAAEC,QAAQ,EAAEC,QAAQ,EAAE,EAAE;QACzC,IAAI;YACF,MAAMC,SAAS,8PAAMjB,gBAAAA,EAAc;gBAAEY;gBAAYI;gBAAUF;YAAI;YAE/D,MAAMI,SAAS,MAAML,mBAAmBM,SAAS,CAAC;gBAChDC,QAAQT;gBACRU,mGAAKpB,UAAAA,CAAKqB,KAAK,CAACC,IAAI,CAACN,QAAQD;YAC/B;YAEA,IAAI,CAACE,OAAOM,IAAI,EAAE;gBAChB,OAAO,IAAIC,SAAS,MAAM;oBAAEC,QAAQ;oBAAKC,YAAY;gBAAY;YACnE;YAEA,MAAMC,aAAa,MAAM1B,eAAegB,OAAOM,IAAI;YAEnD,OAAO,IAAIC,SAASG,YAAY;gBAC9BC,SAAS,IAAIC,QAAQ;oBACnB,iBAAiBC,OAAOb,OAAOc,YAAY;oBAC3C,kBAAkBD,OAAOb,OAAOe,aAAa;oBAC7C,gBAAgBF,OAAOb,OAAOgB,WAAW;oBACzCC,MAAMJ,OAAOb,OAAOiB,IAAI;gBAC1B;gBACAT,QAAQ;YACV;QACF,EAAE,OAAOU,KAAK;YACZtB,IAAIuB,OAAO,CAACC,MAAM,CAACC,KAAK,CAACH;YACzB,OAAO,IAAIX,SAAS,yBAAyB;gBAAEC,QAAQ;YAAI;QAC7D;IACF;AACF,EAAC"}},
    {"offset": {"line": 600, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 606, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/storage-s3/src/index.ts"],"sourcesContent":["import type {\n  Adapter,\n  PluginOptions as CloudStoragePluginOptions,\n  CollectionOptions,\n  GeneratedAdapter,\n} from '@payloadcms/plugin-cloud-storage/types'\nimport type { Config, Plugin } from 'payload'\n\nimport * as AWS from '@aws-sdk/client-s3'\nimport { cloudStoragePlugin } from '@payloadcms/plugin-cloud-storage'\n\nimport { getGenerateURL } from './generateURL.js'\nimport { getHandleDelete } from './handleDelete.js'\nimport { getHandleUpload } from './handleUpload.js'\nimport { getHandler } from './staticHandler.js'\n\nexport type S3StorageOptions = {\n  /**\n   * Access control list for uploaded files.\n   */\n\n  acl?: 'private' | 'public-read'\n  /**\n   * Bucket name to upload files to.\n   *\n   * Must follow [AWS S3 bucket naming conventions](https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucketnamingrules.html).\n   */\n\n  bucket: string\n\n  /**\n   * Collection options to apply the S3 adapter to.\n   */\n  collections: Record<string, Omit<CollectionOptions, 'adapter'> | true>\n  /**\n   * AWS S3 client configuration. Highly dependent on your AWS setup.\n   *\n   * [AWS.S3ClientConfig Docs](https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/clients/client-s3/interfaces/s3clientconfig.html)\n   */\n  config: AWS.S3ClientConfig\n\n  /**\n   * Whether or not to disable local storage\n   *\n   * @default true\n   */\n  disableLocalStorage?: boolean\n\n  /**\n   * Whether or not to enable the plugin\n   *\n   * Default: true\n   */\n  enabled?: boolean\n}\n\ntype S3StoragePlugin = (storageS3Args: S3StorageOptions) => Plugin\n\nexport const s3Storage: S3StoragePlugin =\n  (s3StorageOptions: S3StorageOptions) =>\n  (incomingConfig: Config): Config => {\n    if (s3StorageOptions.enabled === false) {\n      return incomingConfig\n    }\n\n    const adapter = s3StorageInternal(s3StorageOptions)\n\n    // Add adapter to each collection option object\n    const collectionsWithAdapter: CloudStoragePluginOptions['collections'] = Object.entries(\n      s3StorageOptions.collections,\n    ).reduce(\n      (acc, [slug, collOptions]) => ({\n        ...acc,\n        [slug]: {\n          ...(collOptions === true ? {} : collOptions),\n          adapter,\n        },\n      }),\n      {} as Record<string, CollectionOptions>,\n    )\n\n    // Set disableLocalStorage: true for collections specified in the plugin options\n    const config = {\n      ...incomingConfig,\n      collections: (incomingConfig.collections || []).map((collection) => {\n        if (!collectionsWithAdapter[collection.slug]) {\n          return collection\n        }\n\n        return {\n          ...collection,\n          upload: {\n            ...(typeof collection.upload === 'object' ? collection.upload : {}),\n            disableLocalStorage: true,\n          },\n        }\n      }),\n    }\n\n    return cloudStoragePlugin({\n      collections: collectionsWithAdapter,\n    })(config)\n  }\n\nfunction s3StorageInternal({ acl, bucket, config = {} }: S3StorageOptions): Adapter {\n  return ({ collection, prefix }): GeneratedAdapter => {\n    let storageClient: AWS.S3 | null = null\n    const getStorageClient: () => AWS.S3 = () => {\n      if (storageClient) {\n        return storageClient\n      }\n      storageClient = new AWS.S3(config)\n      return storageClient\n    }\n\n    return {\n      name: 's3',\n      generateURL: getGenerateURL({ bucket, config }),\n      handleDelete: getHandleDelete({ bucket, getStorageClient }),\n      handleUpload: getHandleUpload({\n        acl,\n        bucket,\n        collection,\n        getStorageClient,\n        prefix,\n      }),\n      staticHandler: getHandler({ bucket, collection, getStorageClient }),\n    }\n  }\n}\n"],"names":["AWS","cloudStoragePlugin","getGenerateURL","getHandleDelete","getHandleUpload","getHandler","s3Storage","s3StorageOptions","incomingConfig","enabled","adapter","s3StorageInternal","collectionsWithAdapter","Object","entries","collections","reduce","acc","slug","collOptions","config","map","collection","upload","disableLocalStorage","acl","bucket","prefix","storageClient","getStorageClient","S3","name","generateURL","handleDelete","handleUpload","staticHandler"],"mappings":";;;AAQA,YAAYA,SAAS,qBAAoB;AACzC,SAASC,kBAAkB,QAAQ,mCAAkC;AAErE,SAASC,cAAc,QAAQ,mBAAkB;AACjD,SAASC,eAAe,QAAQ,oBAAmB;AACnD,SAASC,eAAe,QAAQ,oBAAmB;AACnD,SAASC,UAAU,QAAQ,qBAAoB;;;;;;;;AA4CxC,MAAMC,YACX,CAACC,mBACD,CAACC;QACC,IAAID,iBAAiBE,OAAO,KAAK,OAAO;YACtC,OAAOD;QACT;QAEA,MAAME,UAAUC,kBAAkBJ;QAElC,+CAA+C;QAC/C,MAAMK,yBAAmEC,OAAOC,OAAO,CACrFP,iBAAiBQ,WAAW,EAC5BC,MAAM,CACN,CAACC,KAAK,CAACC,MAAMC,YAAY,GAAM,CAAA;gBAC7B,GAAGF,GAAG;gBACN,CAACC,KAAK,EAAE;oBACN,GAAIC,gBAAgB,OAAO,CAAC,IAAIA,WAAW;oBAC3CT;gBACF;YACF,CAAA,GACA,CAAC;QAGH,gFAAgF;QAChF,MAAMU,SAAS;YACb,GAAGZ,cAAc;YACjBO,aAAcP,CAAAA,eAAeO,WAAW,IAAI,EAAC,EAAGM,GAAG,CAAC,CAACC;gBACnD,IAAI,CAACV,sBAAsB,CAACU,WAAWJ,IAAI,CAAC,EAAE;oBAC5C,OAAOI;gBACT;gBAEA,OAAO;oBACL,GAAGA,UAAU;oBACbC,QAAQ;wBACN,GAAI,OAAOD,WAAWC,MAAM,KAAK,WAAWD,WAAWC,MAAM,GAAG,CAAC,CAAC;wBAClEC,qBAAqB;oBACvB;gBACF;YACF;QACF;QAEA,2OAAOvB,qBAAAA,EAAmB;YACxBc,aAAaH;QACf,GAAGQ;IACL,EAAC;AAEH,SAAST,kBAAkB,EAAEc,GAAG,EAAEC,MAAM,EAAEN,SAAS,CAAC,CAAC,EAAoB;IACvE,OAAO,CAAC,EAAEE,UAAU,EAAEK,MAAM,EAAE;QAC5B,IAAIC,gBAA+B;QACnC,MAAMC,mBAAiC;YACrC,IAAID,eAAe;gBACjB,OAAOA;YACT;YACAA,gBAAgB,IAAI5B,sHAAI8B,EAAE,CAACV;YAC3B,OAAOQ;QACT;QAEA,OAAO;YACLG,MAAM;YACNC,cAAa9B,2LAAAA,EAAe;gBAAEwB;gBAAQN;YAAO;YAC7Ca,0LAAc9B,kBAAAA,EAAgB;gBAAEuB;gBAAQG;YAAiB;YACzDK,0LAAc9B,kBAAAA,EAAgB;gBAC5BqB;gBACAC;gBACAJ;gBACAO;gBACAF;YACF;YACAQ,4LAAe9B,aAAAA,EAAW;gBAAEqB;gBAAQJ;gBAAYO;YAAiB;QACnE;IACF;AACF"}},
    {"offset": {"line": 690, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 696, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/node_modules/@payloadcms/drizzle/node_modules/uuid/dist/esm-node/native.js"],"sourcesContent":["import crypto from 'crypto';\nexport default {\n  randomUUID: crypto.randomUUID\n};"],"names":[],"mappings":";;;AAAA;;uCACe;IACb,YAAY,+FAAA,CAAA,UAAM,CAAC,UAAU;AAC/B"}},
    {"offset": {"line": 704, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 710, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/node_modules/@payloadcms/drizzle/node_modules/uuid/dist/esm-node/rng.js"],"sourcesContent":["import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,YAAY,IAAI,WAAW,MAAM,qCAAqC;AAE5E,IAAI,UAAU,UAAU,MAAM;AACf,SAAS;IACtB,IAAI,UAAU,UAAU,MAAM,GAAG,IAAI;QACnC,+FAAA,CAAA,UAAM,CAAC,cAAc,CAAC;QACtB,UAAU;IACZ;IAEA,OAAO,UAAU,KAAK,CAAC,SAAS,WAAW;AAC7C"}},
    {"offset": {"line": 724, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 730, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/node_modules/@payloadcms/drizzle/node_modules/uuid/dist/esm-node/regex.js"],"sourcesContent":["export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;"],"names":[],"mappings":";;;uCAAe"}},
    {"offset": {"line": 734, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 740, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/node_modules/@payloadcms/drizzle/node_modules/uuid/dist/esm-node/validate.js"],"sourcesContent":["import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;"],"names":[],"mappings":";;;AAAA;;AAEA,SAAS,SAAS,IAAI;IACpB,OAAO,OAAO,SAAS,YAAY,mPAAA,CAAA,UAAK,CAAC,IAAI,CAAC;AAChD;uCAEe"}},
    {"offset": {"line": 749, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 755, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/node_modules/@payloadcms/drizzle/node_modules/uuid/dist/esm-node/stringify.js"],"sourcesContent":["import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;"],"names":[],"mappings":";;;;AAAA;;AACA;;;CAGC,GAED,MAAM,YAAY,EAAE;AAEpB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,EAAE,EAAG;IAC5B,UAAU,IAAI,CAAC,CAAC,IAAI,KAAK,EAAE,QAAQ,CAAC,IAAI,KAAK,CAAC;AAChD;AAEO,SAAS,gBAAgB,GAAG,EAAE,SAAS,CAAC;IAC7C,uEAAuE;IACvE,oFAAoF;IACpF,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,EAAE,WAAW;AAClgB;AAEA,SAAS,UAAU,GAAG,EAAE,SAAS,CAAC;IAChC,MAAM,OAAO,gBAAgB,KAAK,SAAS,4EAA4E;IACvH,oBAAoB;IACpB,wEAAwE;IACxE,2BAA2B;IAC3B,mEAAmE;IAEnE,IAAI,CAAC,CAAA,GAAA,sPAAA,CAAA,UAAQ,AAAD,EAAE,OAAO;QACnB,MAAM,UAAU;IAClB;IAEA,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 785, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 791, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/node_modules/@payloadcms/drizzle/node_modules/uuid/dist/esm-node/v4.js"],"sourcesContent":["import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEA,SAAS,GAAG,OAAO,EAAE,GAAG,EAAE,MAAM;IAC9B,IAAI,oPAAA,CAAA,UAAM,CAAC,UAAU,IAAI,CAAC,OAAO,CAAC,SAAS;QACzC,OAAO,oPAAA,CAAA,UAAM,CAAC,UAAU;IAC1B;IAEA,UAAU,WAAW,CAAC;IACtB,MAAM,OAAO,QAAQ,MAAM,IAAI,CAAC,QAAQ,GAAG,IAAI,iPAAA,CAAA,UAAG,KAAK,gEAAgE;IAEvH,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO;IAC3B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO,MAAM,oCAAoC;IAErE,IAAI,KAAK;QACP,SAAS,UAAU;QAEnB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,EAAG;YAC3B,GAAG,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,EAAE;QAC3B;QAEA,OAAO;IACT;IAEA,OAAO,CAAA,GAAA,uPAAA,CAAA,kBAAe,AAAD,EAAE;AACzB;uCAEe"}},
    {"offset": {"line": 818, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 844, "column": 0}, "map": {"version":3,"file":"en.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/languages/en.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/languages/en.ts"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1281, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1287, "column": 0}, "map": {"version":3,"file":"deepMergeSimple.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/utilities/deepMergeSimple.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/utilities/deepMergeSimple.ts"],"names":[],"mappings":"AAAA;;;;;;;;;GASG;;;AACG,SAAU,eAAe,CAAa,IAAY,EAAE,IAAY;IACpE,MAAM,MAAM,GAAG;QAAE,GAAG,IAAI;IAAA,CAAE,CAAA;IAE1B,IAAK,MAAM,GAAG,IAAI,IAAI,CAAE,CAAC;QACvB,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,CAAC;YACpD,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;gBAC5E,MAAM,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAA;YACrD,CAAC,MAAM,CAAC;gBACN,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAA;YACzB,CAAC;QACH,CAAC;IACH,CAAC;IAED,OAAO,MAAW,CAAA;AACpB,CAAC"}},
    {"offset": {"line": 1314, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1320, "column": 0}, "map": {"version":3,"file":"utilities.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/exports/utilities.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/exports/utilities.ts"],"names":[],"mappings":""}},
    {"offset": {"line": 1323, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1338, "column": 0}, "map": {"version":3,"file":"importDateFNSLocale.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/importDateFNSLocale.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/importDateFNSLocale.ts"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1440, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1446, "column": 0}, "map": {"version":3,"file":"getTranslation.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/utilities/getTranslation.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/utilities/getTranslation.ts"],"names":[],"mappings":";;;AAUO,MAAM,cAAc,GAAG,CAC5B,KAAQ,EACR,IAAiE,EACnB,EAAE;IAChD,mFAAmF;IACnF,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,EAAE,CAAC;QAC1F,IAAI,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;YACzB,OAAO,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;QAC7B,CAAC;QAED,IAAI,SAAS,GAAa,EAAE,CAAA;QAC5B,IAAI,OAAO,IAAI,CAAC,gBAAgB,KAAK,QAAQ,EAAE,CAAC;YAC9C,SAAS,GAAG;gBAAC,IAAI,CAAC,gBAAgB;aAAC,CAAA;QACrC,CAAC,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC;YAChD,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAA;QACnC,CAAC;QAED,MAAM,YAAY,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAG,CAAD,IAAM,CAAC,QAAQ,CAAC,CAAC,CAAA;QAElE,OAAO,YAAY,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;IACjG,CAAC;IAED,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE,CAAC;QAChC,OAAO,KAAK,CAAC;YAAE,CAAC,EAAE,IAAI,CAAC,CAAC;QAAA,CAAE,CAA4D,CAAA;IACxF,CAAC;IAED,yEAAyE;IACzE,OAAO,KAAgE,CAAA;AACzE,CAAC,CAAA"}},
    {"offset": {"line": 1474, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1480, "column": 0}, "map": {"version":3,"file":"clientKeys.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/clientKeys.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/clientKeys.ts"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1832, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1838, "column": 0}, "map": {"version":3,"file":"getTranslationsByContext.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/utilities/getTranslationsByContext.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/utilities/getTranslationsByContext.ts"],"names":[],"mappings":";;;AAEA,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAA;;AAExD,SAAS,UAAU,CAAC,GAAG,EAAE,cAAc,GAAG,EAAE,EAAE,IAAI;IAChD,MAAM,MAAM,GAAG,CAAA,CAAE,CAAA;IAEjB,KAAK,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAE,CAAC;QACxD,mBAAmB;QACnB,IAAI,YAAY,KAAK,SAAS,EAAE,CAAC;YAC/B,MAAM,CAAC,YAAY,CAAC,GAAG,KAAK,CAAA;YAC5B,SAAQ;QACV,CAAC;QAED,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;YAC9B,MAAM,cAAc,GAAG,UAAU,CAAC,KAAK,EAAE,YAAY,EAAE,IAAI,CAAC,CAAA;YAC5D,IAAI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC3C,MAAM,CAAC,YAAY,CAAC,GAAG,cAAc,CAAA;YACvC,CAAC;QACH,CAAC,MAAM,CAAC;YACN,KAAK,MAAM,GAAG,IAAI,IAAI,CAAE,CAAC;gBACvB,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;gBAE3C,IAAI,cAAc,KAAK,QAAQ,EAAE,CAAC;oBAChC,IAAI,YAAY,KAAK,QAAQ,EAAE,CAAC;wBAC9B,MAAM,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAA;oBAC1B,CAAC,MAAM,CAAC;wBACN,MAAM,UAAU,GAAG;4BAAC,MAAM;4BAAE,KAAK;4BAAE,KAAK;4BAAE,KAAK;4BAAE,MAAM;4BAAE,OAAO;yBAAC,CAAA;wBACjE,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;4BAC/B,IAAI,YAAY,KAAK,GAAG,QAAQ,CAAA,CAAA,EAAI,SAAS,EAAE,EAAE,CAAC;gCAChD,MAAM,CAAC,GAAG,QAAQ,CAAA,CAAA,EAAI,SAAS,EAAE,CAAC,GAAG,KAAK,CAAA;4BAC5C,CAAC;wBACH,CAAC,CAAC,CAAA;oBACJ,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC;IAED,OAAO,MAAM,CAAA;AACf,CAAC;AAED,SAAS,UAAU,CAAC,GAAG;IACrB,MAAM,YAAY,GAAG,CAAA,CAAE,CAAA;IACvB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CACb,IAAI,EAAE,CACN,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;QACf,IAAI,OAAO,GAAG,CAAC,GAAG,CAAC,KAAK,QAAQ,EAAE,CAAC;YACjC,YAAY,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA;QAC1C,CAAC,MAAM,CAAC;YACN,YAAY,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAA;QAC9B,CAAC;IACH,CAAC,CAAC,CAAA;IACJ,OAAO,YAAY,CAAA;AACrB,CAAC;AAEM,MAAM,wBAAwB,GAAG,CAAC,gBAA0B,EAAE,OAAyB,EAAE,EAAE;IAChG,IAAI,OAAO,KAAK,QAAQ,EAAE,CAAC;QACzB,OAAO,UAAU,CAAC,UAAU,CAAC,gBAAgB,CAAC,YAAY,EAAE,EAAE,uKAAE,wBAAqB,CAAC,CAAC,CAAA;IACzF,CAAC,MAAM,CAAC;QACN,OAAO,gBAAgB,CAAC,YAAY,CAAA;IACtC,CAAC;AACH,CAAC,CAAA"}},
    {"offset": {"line": 1901, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1907, "column": 0}, "map": {"version":3,"file":"init.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/utilities/init.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/utilities/init.ts"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2037, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2043, "column": 0}, "map": {"version":3,"file":"languages.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/utilities/languages.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/utilities/languages.ts"],"names":[],"mappings":";;;;;AAEO,MAAM,YAAY,GAAG;IAAC,IAAI;IAAE,IAAI;IAAE,IAAI;CAAU,CAAA;AAEhD,MAAM,iBAAiB,GAAG;IAC/B,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,UAAU;IACV,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,OAAO;CAgGC,CAAA;AAEV,SAAS,mBAAmB,CAAC,oBAA4B;IACvD,OAAO,oBAAoB,CACxB,KAAK,CAAC,GAAG,CAAC,CACV,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;QACZ,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,CAGlD,CAAA;QACD,OAAO;YACL,QAAQ;YACR,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SAC3C,CAAA;IACH,CAAC,CAAC,CACD,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,CAAA,CAAC,qCAAqC;AAChF,CAAC;AAEK,SAAU,qBAAqB,CAAC,oBAA4B;IAChE,MAAM,YAAY,GAAG,mBAAmB,CAAC,oBAAoB,CAAC,CAAA;IAE9D,IAAI,eAAkC,CAAA;IAEtC,KAAK,MAAM,EAAE,QAAQ,EAAE,IAAI,YAAY,CAAE,CAAC;QACxC,IAAI,CAAC,eAAe,IAAI,iBAAiB,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;YAC7D,eAAe,GAAG,QAAQ,CAAA;QAC5B,CAAC;IACH,CAAC;IAED,OAAO,eAAe,CAAA;AACxB,CAAC"}},
    {"offset": {"line": 2107, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2113, "column": 0}, "map": {"version":3,"file":"index.js","sources":["turbopack://[project]/node_modules/@payloadcms/translations/src/exports/index.ts"],"sourcesContent":["unable to read source [project]/node_modules/@payloadcms/translations/src/exports/index.ts"],"names":[],"mappings":""}},
    {"offset": {"line": 2119, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2137, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/src/connect.ts"],"sourcesContent":["import type { DrizzleAdapter } from '@payloadcms/drizzle/types'\nimport type { Connect, Payload } from 'payload'\n\nimport { pushDevSchema } from '@payloadcms/drizzle'\nimport { drizzle } from 'drizzle-orm/node-postgres'\nimport pg from 'pg'\n\nimport type { PostgresAdapter } from './types.js'\n\nconst connectWithReconnect = async function ({\n  adapter,\n  payload,\n  reconnect = false,\n}: {\n  adapter: PostgresAdapter\n  payload: Payload\n  reconnect?: boolean\n}) {\n  let result\n\n  if (!reconnect) {\n    result = await adapter.pool.connect()\n  } else {\n    try {\n      result = await adapter.pool.connect()\n    } catch (ignore) {\n      setTimeout(() => {\n        payload.logger.info('Reconnecting to postgres')\n        void connectWithReconnect({ adapter, payload, reconnect: true })\n      }, 1000)\n    }\n  }\n  if (!result) {\n    return\n  }\n  result.prependListener('error', (err) => {\n    try {\n      if (err.code === 'ECONNRESET') {\n        void connectWithReconnect({ adapter, payload, reconnect: true })\n      }\n    } catch (ignore) {\n      // swallow error\n    }\n  })\n}\n\nexport const connect: Connect = async function connect(\n  this: PostgresAdapter,\n  options = {\n    hotReload: false,\n  },\n) {\n  const { hotReload } = options\n\n  this.schema = {\n    pgSchema: this.pgSchema,\n    ...this.tables,\n    ...this.relations,\n    ...this.enums,\n  }\n\n  try {\n    if (!this.pool) {\n      this.pool = new pg.Pool(this.poolOptions)\n      await connectWithReconnect({ adapter: this, payload: this.payload })\n    }\n\n    const logger = this.logger || false\n    this.drizzle = drizzle({ client: this.pool, logger, schema: this.schema })\n\n    if (!hotReload) {\n      if (process.env.PAYLOAD_DROP_DATABASE === 'true') {\n        this.payload.logger.info(`---- DROPPING TABLES SCHEMA(${this.schemaName || 'public'}) ----`)\n        await this.dropDatabase({ adapter: this })\n        this.payload.logger.info('---- DROPPED TABLES ----')\n      }\n    }\n  } catch (err) {\n    if (err.message?.match(/database .* does not exist/i) && !this.disableCreateDatabase) {\n      // capitalize first char of the err msg\n      this.payload.logger.info(\n        `${err.message.charAt(0).toUpperCase() + err.message.slice(1)}, creating...`,\n      )\n      const isCreated = await this.createDatabase()\n\n      if (isCreated) {\n        await this.connect(options)\n        return\n      }\n    } else {\n      this.payload.logger.error({\n        err,\n        msg: `Error: cannot connect to Postgres. Details: ${err.message}`,\n      })\n    }\n\n    if (typeof this.rejectInitializing === 'function') {\n      this.rejectInitializing()\n    }\n    process.exit(1)\n  }\n\n  // Only push schema if not in production\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    process.env.PAYLOAD_MIGRATING !== 'true' &&\n    this.push !== false\n  ) {\n    await pushDevSchema(this as unknown as DrizzleAdapter)\n  }\n\n  if (typeof this.resolveInitializing === 'function') {\n    this.resolveInitializing()\n  }\n\n  if (process.env.NODE_ENV === 'production' && this.prodMigrations) {\n    await this.migrate({ migrations: this.prodMigrations })\n  }\n}\n"],"names":["pushDevSchema","drizzle","pg","connectWithReconnect","adapter","payload","reconnect","result","pool","connect","ignore","setTimeout","logger","info","prependListener","err","code","options","hotReload","schema","pgSchema","tables","relations","enums","Pool","poolOptions","client","process","env","PAYLOAD_DROP_DATABASE","schemaName","dropDatabase","message","match","disableCreateDatabase","charAt","toUpperCase","slice","isCreated","createDatabase","error","msg","rejectInitializing","exit","NODE_ENV","PAYLOAD_MIGRATING","push","resolveInitializing","prodMigrations","migrate","migrations"],"mappings":"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"}},
    {"offset": {"line": 2246, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2252, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/db-postgres/src/index.ts"],"sourcesContent":["import type { DatabaseAdapterObj, Payload } from 'payload'\n\nimport {\n  beginTransaction,\n  commitTransaction,\n  count,\n  create,\n  createGlobal,\n  createGlobalVersion,\n  createVersion,\n  deleteMany,\n  deleteOne,\n  deleteVersions,\n  destroy,\n  find,\n  findGlobal,\n  findGlobalVersions,\n  findMigrationDir,\n  findOne,\n  findVersions,\n  migrate,\n  migrateDown,\n  migrateFresh,\n  migrateRefresh,\n  migrateReset,\n  migrateStatus,\n  operatorMap,\n  queryDrafts,\n  rollbackTransaction,\n  updateGlobal,\n  updateGlobalVersion,\n  updateOne,\n  updateVersion,\n} from '@payloadcms/drizzle'\nimport {\n  convertPathToJSONTraversal,\n  countDistinct,\n  createDatabase,\n  createJSONQuery,\n  createMigration,\n  defaultDrizzleSnapshot,\n  deleteWhere,\n  dropDatabase,\n  execute,\n  getMigrationTemplate,\n  init,\n  insert,\n  requireDrizzleKit,\n} from '@payloadcms/drizzle/postgres'\nimport { pgEnum, pgSchema, pgTable } from 'drizzle-orm/pg-core'\nimport { createDatabaseAdapter, defaultBeginTransaction } from 'payload'\n\nimport type { Args, PostgresAdapter } from './types.js'\n\nimport { connect } from './connect.js'\n\nexport function postgresAdapter(args: Args): DatabaseAdapterObj<PostgresAdapter> {\n  const postgresIDType = args.idType || 'serial'\n  const payloadIDType = postgresIDType === 'serial' ? 'number' : 'text'\n\n  function adapter({ payload }: { payload: Payload }) {\n    const migrationDir = findMigrationDir(args.migrationDir)\n    let resolveInitializing\n    let rejectInitializing\n    let adapterSchema: PostgresAdapter['pgSchema']\n\n    const initializing = new Promise<void>((res, rej) => {\n      resolveInitializing = res\n      rejectInitializing = rej\n    })\n\n    if (args.schemaName) {\n      adapterSchema = pgSchema(args.schemaName)\n    } else {\n      adapterSchema = { enum: pgEnum, table: pgTable }\n    }\n\n    return createDatabaseAdapter<PostgresAdapter>({\n      name: 'postgres',\n      afterSchemaInit: args.afterSchemaInit ?? [],\n      beforeSchemaInit: args.beforeSchemaInit ?? [],\n      createDatabase,\n      defaultDrizzleSnapshot,\n      disableCreateDatabase: args.disableCreateDatabase ?? false,\n      drizzle: undefined,\n      enums: {},\n      features: {\n        json: true,\n      },\n      fieldConstraints: {},\n      getMigrationTemplate,\n      idType: postgresIDType,\n      initializing,\n      localesSuffix: args.localesSuffix || '_locales',\n      logger: args.logger,\n      operators: operatorMap,\n      pgSchema: adapterSchema,\n      pool: undefined,\n      poolOptions: args.pool,\n      prodMigrations: args.prodMigrations,\n      push: args.push,\n      relations: {},\n      relationshipsSuffix: args.relationshipsSuffix || '_rels',\n      schema: {},\n      schemaName: args.schemaName,\n      sessions: {},\n      tableNameMap: new Map<string, string>(),\n      tables: {},\n      transactionOptions: args.transactionOptions || undefined,\n      versionsSuffix: args.versionsSuffix || '_v',\n\n      // DatabaseAdapter\n      beginTransaction:\n        args.transactionOptions === false ? defaultBeginTransaction() : beginTransaction,\n      commitTransaction,\n      connect,\n      convertPathToJSONTraversal,\n      count,\n      countDistinct,\n      create,\n      createGlobal,\n      createGlobalVersion,\n      createJSONQuery,\n      createMigration,\n      createVersion,\n      defaultIDType: payloadIDType,\n      deleteMany,\n      deleteOne,\n      deleteVersions,\n      deleteWhere,\n      destroy,\n      dropDatabase,\n      execute,\n      find,\n      findGlobal,\n      findGlobalVersions,\n      findOne,\n      findVersions,\n      indexes: new Set<string>(),\n      init,\n      insert,\n      migrate,\n      migrateDown,\n      migrateFresh,\n      migrateRefresh,\n      migrateReset,\n      migrateStatus,\n      migrationDir,\n      packageName: '@payloadcms/db-postgres',\n      payload,\n      queryDrafts,\n      rejectInitializing,\n      requireDrizzleKit,\n      resolveInitializing,\n      rollbackTransaction,\n      updateGlobal,\n      updateGlobalVersion,\n      updateOne,\n      updateVersion,\n      upsert: updateOne,\n    })\n  }\n\n  return {\n    defaultIDType: payloadIDType,\n    init: adapter,\n  }\n}\n\nexport type { MigrateDownArgs, MigrateUpArgs } from '@payloadcms/drizzle/postgres'\nexport { sql } from 'drizzle-orm'\n"],"names":["beginTransaction","commitTransaction","count","create","createGlobal","createGlobalVersion","createVersion","deleteMany","deleteOne","deleteVersions","destroy","find","findGlobal","findGlobalVersions","findMigrationDir","findOne","findVersions","migrate","migrateDown","migrateFresh","migrateRefresh","migrateReset","migrateStatus","operatorMap","queryDrafts","rollbackTransaction","updateGlobal","updateGlobalVersion","updateOne","updateVersion","convertPathToJSONTraversal","countDistinct","createDatabase","createJSONQuery","createMigration","defaultDrizzleSnapshot","deleteWhere","dropDatabase","execute","getMigrationTemplate","init","insert","requireDrizzleKit","pgEnum","pgSchema","pgTable","createDatabaseAdapter","defaultBeginTransaction","connect","postgresAdapter","args","postgresIDType","idType","payloadIDType","adapter","payload","migrationDir","resolveInitializing","rejectInitializing","adapterSchema","initializing","Promise","res","rej","schemaName","enum","table","name","afterSchemaInit","beforeSchemaInit","disableCreateDatabase","drizzle","undefined","enums","features","json","fieldConstraints","localesSuffix","logger","operators","pool","poolOptions","prodMigrations","push","relations","relationshipsSuffix","schema","sessions","tableNameMap","Map","tables","transactionOptions","versionsSuffix","defaultIDType","indexes","Set","packageName","upsert","sql"],"mappings":"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"}},
    {"offset": {"line": 2419, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2436, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/fields/breadcrumbs.ts"],"sourcesContent":["import type { ArrayField, Field } from 'payload'\n\nexport const createBreadcrumbsField = (\n  relationTo: string,\n  overrides: Partial<ArrayField> = {},\n): Field => ({\n  name: 'breadcrumbs',\n  type: 'array',\n  localized: true,\n  ...(overrides || {}),\n  admin: {\n    readOnly: true,\n    ...(overrides?.admin || {}),\n  },\n  fields: [\n    {\n      name: 'doc',\n      type: 'relationship',\n      admin: {\n        disabled: true,\n      },\n      maxDepth: 0,\n      relationTo,\n    },\n    {\n      type: 'row',\n      fields: [\n        {\n          name: 'url',\n          type: 'text',\n          admin: {\n            width: '50%',\n          },\n          label: 'URL',\n        },\n        {\n          name: 'label',\n          type: 'text',\n          admin: {\n            width: '50%',\n          },\n        },\n      ],\n    },\n    ...(overrides?.fields || []),\n  ],\n})\n"],"names":["createBreadcrumbsField","relationTo","overrides","name","type","localized","admin","readOnly","fields","disabled","maxDepth","width","label"],"mappings":";;;AAEO,MAAMA,yBAAyB,CACpCC,YACAC,YAAiC,CAAC,CAAC,GACxB,CAAA;QACXC,MAAM;QACNC,MAAM;QACNC,WAAW;QACX,GAAIH,aAAa,CAAC,CAAC;QACnBI,OAAO;YACLC,UAAU;YACV,GAAIL,WAAWI,SAAS,CAAC,CAAC;QAC5B;QACAE,QAAQ;YACN;gBACEL,MAAM;gBACNC,MAAM;gBACNE,OAAO;oBACLG,UAAU;gBACZ;gBACAC,UAAU;gBACVT;YACF;YACA;gBACEG,MAAM;gBACNI,QAAQ;oBACN;wBACEL,MAAM;wBACNC,MAAM;wBACNE,OAAO;4BACLK,OAAO;wBACT;wBACAC,OAAO;oBACT;oBACA;wBACET,MAAM;wBACNC,MAAM;wBACNE,OAAO;4BACLK,OAAO;wBACT;oBACF;iBACD;YACH;eACIT,WAAWM,UAAU,EAAE;SAC5B;IACH,CAAA,EAAE"}},
    {"offset": {"line": 2481, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2487, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/fields/parent.ts"],"sourcesContent":["import type { SingleRelationshipField } from 'payload'\n\nexport const createParentField = (\n  relationTo: string,\n  overrides?: Partial<\n    {\n      hasMany: false\n    } & SingleRelationshipField\n  >,\n): SingleRelationshipField => ({\n  name: 'parent',\n  admin: {\n    position: 'sidebar',\n    ...(overrides?.admin || {}),\n  },\n  // filterOptions are assigned dynamically based on the pluginConfig\n  // filterOptions: parentFilterOptions(),\n  type: 'relationship',\n  maxDepth: 1,\n  relationTo,\n  ...(overrides || {}),\n})\n"],"names":["createParentField","relationTo","overrides","name","admin","position","type","maxDepth"],"mappings":";;;AAEO,MAAMA,oBAAoB,CAC/BC,YACAC,YAK6B,CAAA;QAC7BC,MAAM;QACNC,OAAO;YACLC,UAAU;YACV,GAAIH,WAAWE,SAAS,CAAC,CAAC;QAC5B;QACA,mEAAmE;QACnE,wCAAwC;QACxCE,MAAM;QACNC,UAAU;QACVN;QACA,GAAIC,aAAa,CAAC,CAAC;IACrB,CAAA,EAAE"}},
    {"offset": {"line": 2503, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2509, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/fields/parentFilterOptions.ts"],"sourcesContent":["import type { FilterOptions } from 'payload'\n\nexport const parentFilterOptions: (breadcrumbsFieldSlug?: string) => FilterOptions =\n  (breadcrumbsFieldSlug = 'breadcrumbs') =>\n  ({ id }) => {\n    if (id) {\n      return {\n        id: { not_equals: id },\n        [`${breadcrumbsFieldSlug}.doc`]: { not_in: [id] },\n      }\n    }\n\n    return null\n  }\n"],"names":["parentFilterOptions","breadcrumbsFieldSlug","id","not_equals","not_in"],"mappings":";;;AAEO,MAAMA,sBACX,CAACC,uBAAuB,aAAa,GACrC,CAAC,EAAEC,EAAE,EAAE;QACL,IAAIA,IAAI;YACN,OAAO;gBACLA,IAAI;oBAAEC,YAAYD;gBAAG;gBACrB,CAAC,CAAC,EAAED,qBAAqB,IAAI,CAAC,CAAC,EAAE;oBAAEG,QAAQ;wBAACF;qBAAG;gBAAC;YAClD;QACF;QAEA,OAAO;IACT,EAAC"}},
    {"offset": {"line": 2527, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2533, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/utilities/formatBreadcrumb.ts"],"sourcesContent":["import type { CollectionConfig } from 'payload'\n\nimport type { Breadcrumb, NestedDocsPluginConfig } from '../types.js'\n\nexport const formatBreadcrumb = (\n  pluginConfig: NestedDocsPluginConfig,\n  collection: CollectionConfig,\n  docs: Array<Record<string, unknown>>,\n): Breadcrumb => {\n  let url: string | undefined = undefined\n  let label: string\n\n  const lastDoc = docs[docs.length - 1]\n\n  if (typeof pluginConfig?.generateURL === 'function') {\n    url = pluginConfig.generateURL(docs, lastDoc)\n  }\n\n  if (typeof pluginConfig?.generateLabel === 'function') {\n    label = pluginConfig.generateLabel(docs, lastDoc)\n  } else {\n    const useAsTitle = collection?.admin?.useAsTitle || 'id'\n    label = lastDoc[useAsTitle] as string\n  }\n\n  return {\n    doc: lastDoc.id as string,\n    label,\n    url,\n  }\n}\n"],"names":["formatBreadcrumb","pluginConfig","collection","docs","url","undefined","label","lastDoc","length","generateURL","generateLabel","useAsTitle","admin","doc","id"],"mappings":";;;AAIO,MAAMA,mBAAmB,CAC9BC,cACAC,YACAC;IAEA,IAAIC,MAA0BC;IAC9B,IAAIC;IAEJ,MAAMC,UAAUJ,IAAI,CAACA,KAAKK,MAAM,GAAG,EAAE;IAErC,IAAI,OAAOP,cAAcQ,gBAAgB,YAAY;QACnDL,MAAMH,aAAaQ,WAAW,CAACN,MAAMI;IACvC;IAEA,IAAI,OAAON,cAAcS,kBAAkB,YAAY;QACrDJ,QAAQL,aAAaS,aAAa,CAACP,MAAMI;IAC3C,OAAO;QACL,MAAMI,aAAaT,YAAYU,OAAOD,cAAc;QACpDL,QAAQC,OAAO,CAACI,WAAW;IAC7B;IAEA,OAAO;QACLE,KAAKN,QAAQO,EAAE;QACfR;QACAF;IACF;AACF,EAAC"}},
    {"offset": {"line": 2555, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2561, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/utilities/getParents.ts"],"sourcesContent":["import type { CollectionConfig } from 'payload'\n\nimport type { NestedDocsPluginConfig } from '../types.js'\n\nexport const getParents = async (\n  req: any,\n  pluginConfig: NestedDocsPluginConfig,\n  collection: CollectionConfig,\n  doc: Record<string, unknown>,\n  docs: Array<Record<string, unknown>> = [],\n): Promise<Array<Record<string, unknown>>> => {\n  const parentSlug = pluginConfig?.parentFieldSlug || 'parent'\n  const parent = doc[parentSlug]\n  let retrievedParent\n\n  if (parent) {\n    // If not auto-populated, and we have an ID\n    if (typeof parent === 'string' || typeof parent === 'number') {\n      retrievedParent = await req.payload.findByID({\n        id: parent,\n        collection: collection.slug,\n        depth: 0,\n        disableErrors: true,\n        req,\n      })\n    }\n\n    // If auto-populated\n    if (typeof parent === 'object') {\n      retrievedParent = parent\n    }\n\n    if (retrievedParent) {\n      if (retrievedParent[parentSlug]) {\n        return getParents(req, pluginConfig, collection, retrievedParent, [\n          retrievedParent,\n          ...docs,\n        ])\n      }\n\n      return [retrievedParent, ...docs]\n    }\n  }\n\n  return docs\n}\n"],"names":["getParents","req","pluginConfig","collection","doc","docs","parentSlug","parentFieldSlug","parent","retrievedParent","payload","findByID","id","slug","depth","disableErrors"],"mappings":";;;AAIO,MAAMA,aAAa,OACxBC,KACAC,cACAC,YACAC,KACAC,OAAuC,EAAE;IAEzC,MAAMC,aAAaJ,cAAcK,mBAAmB;IACpD,MAAMC,SAASJ,GAAG,CAACE,WAAW;IAC9B,IAAIG;IAEJ,IAAID,QAAQ;QACV,2CAA2C;QAC3C,IAAI,OAAOA,WAAW,YAAY,OAAOA,WAAW,UAAU;YAC5DC,kBAAkB,MAAMR,IAAIS,OAAO,CAACC,QAAQ,CAAC;gBAC3CC,IAAIJ;gBACJL,YAAYA,WAAWU,IAAI;gBAC3BC,OAAO;gBACPC,eAAe;gBACfd;YACF;QACF;QAEA,oBAAoB;QACpB,IAAI,OAAOO,WAAW,UAAU;YAC9BC,kBAAkBD;QACpB;QAEA,IAAIC,iBAAiB;YACnB,IAAIA,eAAe,CAACH,WAAW,EAAE;gBAC/B,OAAON,WAAWC,KAAKC,cAAcC,YAAYM,iBAAiB;oBAChEA;uBACGJ;iBACJ;YACH;YAEA,OAAO;gBAACI;mBAAoBJ;aAAK;QACnC;IACF;IAEA,OAAOA;AACT,EAAC"}},
    {"offset": {"line": 2598, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2604, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/utilities/populateBreadcrumbs.ts"],"sourcesContent":["import type { CollectionConfig } from 'payload'\n\nimport type { NestedDocsPluginConfig } from '../types.js'\n\nimport { formatBreadcrumb } from './formatBreadcrumb.js'\nimport { getParents } from './getParents.js'\n\nexport const populateBreadcrumbs = async (\n  req: any,\n  pluginConfig: NestedDocsPluginConfig,\n  collection: CollectionConfig,\n  data: any,\n  originalDoc?: any,\n): Promise<any> => {\n  const newData = data\n  const breadcrumbDocs = [\n    ...(await getParents(req, pluginConfig, collection, {\n      ...originalDoc,\n      ...data,\n    })),\n  ]\n\n  const currentDocBreadcrumb = {\n    ...originalDoc,\n    ...data,\n  }\n\n  if (originalDoc?.id) {\n    currentDocBreadcrumb.id = originalDoc?.id\n  }\n\n  breadcrumbDocs.push(currentDocBreadcrumb)\n\n  const breadcrumbs = breadcrumbDocs.map((_, i) =>\n    formatBreadcrumb(pluginConfig, collection, breadcrumbDocs.slice(0, i + 1)),\n  )\n\n  return {\n    ...newData,\n    [pluginConfig?.breadcrumbsFieldSlug || 'breadcrumbs']: breadcrumbs,\n  }\n}\n"],"names":["formatBreadcrumb","getParents","populateBreadcrumbs","req","pluginConfig","collection","data","originalDoc","newData","breadcrumbDocs","currentDocBreadcrumb","id","push","breadcrumbs","map","_","i","slice","breadcrumbsFieldSlug"],"mappings":";;;AAIA,SAASA,gBAAgB,QAAQ,wBAAuB;AACxD,SAASC,UAAU,QAAQ,kBAAiB;;;AAErC,MAAMC,sBAAsB,OACjCC,KACAC,cACAC,YACAC,MACAC;IAEA,MAAMC,UAAUF;IAChB,MAAMG,iBAAiB;WACjB,wMAAMR,aAAAA,EAAWE,KAAKC,cAAcC,YAAY;YAClD,GAAGE,WAAW;YACd,GAAGD,IAAI;QACT;KACD;IAED,MAAMI,uBAAuB;QAC3B,GAAGH,WAAW;QACd,GAAGD,IAAI;IACT;IAEA,IAAIC,aAAaI,IAAI;QACnBD,qBAAqBC,EAAE,GAAGJ,aAAaI;IACzC;IAEAF,eAAeG,IAAI,CAACF;IAEpB,MAAMG,cAAcJ,eAAeK,GAAG,CAAC,CAACC,GAAGC,4MACzChB,mBAAAA,EAAiBI,cAAcC,YAAYI,eAAeQ,KAAK,CAAC,GAAGD,IAAI;IAGzE,OAAO;QACL,GAAGR,OAAO;QACV,CAACJ,cAAcc,wBAAwB,cAAc,EAAEL;IACzD;AACF,EAAC"}},
    {"offset": {"line": 2633, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2639, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/hooks/resaveChildren.ts"],"sourcesContent":["import type {\n  CollectionAfterChangeHook,\n  CollectionConfig,\n  JsonObject,\n  PayloadRequest,\n  ValidationError,\n} from 'payload'\n\nimport { APIError } from 'payload'\n\nimport type { NestedDocsPluginConfig } from '../types.js'\n\nimport { populateBreadcrumbs } from '../utilities/populateBreadcrumbs.js'\n\ntype ResaveArgs = {\n  collection: CollectionConfig\n  doc: JsonObject\n  draft: boolean\n  pluginConfig: NestedDocsPluginConfig\n  req: PayloadRequest\n}\n\nconst resave = async ({ collection, doc, draft, pluginConfig, req }: ResaveArgs) => {\n  const parentSlug = pluginConfig?.parentFieldSlug || 'parent'\n  const parentDocIsPublished = doc._status === 'published'\n\n  const children = await req.payload.find({\n    collection: collection.slug,\n    depth: 0,\n    draft,\n    locale: req.locale,\n    req,\n    where: {\n      [parentSlug]: {\n        equals: doc.id,\n      },\n    },\n  })\n\n  const breadcrumbSlug = pluginConfig.breadcrumbsFieldSlug || 'breadcrumbs'\n\n  try {\n    await children.docs.reduce(async (priorSave, child) => {\n      await priorSave\n\n      const childIsPublished =\n        typeof collection.versions === 'object' &&\n        collection.versions.drafts &&\n        child._status === 'published'\n\n      if (!parentDocIsPublished && childIsPublished) {\n        return\n      }\n\n      await req.payload.update({\n        id: child.id,\n        collection: collection.slug,\n        data: {\n          ...child,\n          [breadcrumbSlug]: await populateBreadcrumbs(req, pluginConfig, collection, child),\n        },\n        depth: 0,\n        draft: !childIsPublished,\n        locale: req.locale,\n        req,\n      })\n    }, Promise.resolve())\n  } catch (err: unknown) {\n    req.payload.logger.error(\n      `Nested Docs plugin has had an error while re-saving a child document${\n        draft ? ' as draft' : ' as published'\n      }.`,\n    )\n    req.payload.logger.error(err)\n\n    // Use type assertion until we can use instanceof reliably with our Error types\n    if (\n      (err as ValidationError)?.name === 'ValidationError' &&\n      (err as ValidationError)?.data?.errors?.length\n    ) {\n      throw new APIError(\n        'Could not publish or save changes: One or more children are invalid.',\n        400,\n      )\n    }\n  }\n}\n\nexport const resaveChildren =\n  (pluginConfig: NestedDocsPluginConfig, collection: CollectionConfig): CollectionAfterChangeHook =>\n  async ({ doc, req }) => {\n    await resave({\n      collection,\n      doc,\n      draft: true,\n      pluginConfig,\n      req,\n    })\n\n    if (doc._status === 'published') {\n      await resave({\n        collection,\n        doc,\n        draft: false,\n        pluginConfig,\n        req,\n      })\n    }\n\n    return undefined\n  }\n"],"names":["APIError","populateBreadcrumbs","resave","collection","doc","draft","pluginConfig","req","parentSlug","parentFieldSlug","parentDocIsPublished","_status","children","payload","find","slug","depth","locale","where","equals","id","breadcrumbSlug","breadcrumbsFieldSlug","docs","reduce","priorSave","child","childIsPublished","versions","drafts","update","data","Promise","resolve","err","logger","error","name","errors","length","resaveChildren","undefined"],"mappings":";;;AAYA,SAASC,mBAAmB,QAAQ,sCAAqC;AAJzE,SAASD,QAAQ,QAAQ,UAAS;;;AAclC,MAAME,SAAS,OAAO,EAAEC,UAAU,EAAEC,GAAG,EAAEC,KAAK,EAAEC,YAAY,EAAEC,GAAG,EAAc;IAC7E,MAAMC,aAAaF,cAAcG,mBAAmB;IACpD,MAAMC,uBAAuBN,IAAIO,OAAO,KAAK;IAE7C,MAAMC,WAAW,MAAML,IAAIM,OAAO,CAACC,IAAI,CAAC;QACtCX,YAAYA,WAAWY,IAAI;QAC3BC,OAAO;QACPX;QACAY,QAAQV,IAAIU,MAAM;QAClBV;QACAW,OAAO;YACL,CAACV,WAAW,EAAE;gBACZW,QAAQf,IAAIgB,EAAE;YAChB;QACF;IACF;IAEA,MAAMC,iBAAiBf,aAAagB,oBAAoB,IAAI;IAE5D,IAAI;QACF,MAAMV,SAASW,IAAI,CAACC,MAAM,CAAC,OAAOC,WAAWC;YAC3C,MAAMD;YAEN,MAAME,mBACJ,OAAOxB,WAAWyB,QAAQ,KAAK,YAC/BzB,WAAWyB,QAAQ,CAACC,MAAM,IAC1BH,MAAMf,OAAO,KAAK;YAEpB,IAAI,CAACD,wBAAwBiB,kBAAkB;gBAC7C;YACF;YAEA,MAAMpB,IAAIM,OAAO,CAACiB,MAAM,CAAC;gBACvBV,IAAIM,MAAMN,EAAE;gBACZjB,YAAYA,WAAWY,IAAI;gBAC3BgB,MAAM;oBACJ,GAAGL,KAAK;oBACR,CAACL,eAAe,EAAE,iNAAMpB,sBAAAA,EAAoBM,KAAKD,cAAcH,YAAYuB;gBAC7E;gBACAV,OAAO;gBACPX,OAAO,CAACsB;gBACRV,QAAQV,IAAIU,MAAM;gBAClBV;YACF;QACF,GAAGyB,QAAQC,OAAO;IACpB,EAAE,OAAOC,KAAc;QACrB3B,IAAIM,OAAO,CAACsB,MAAM,CAACC,KAAK,CACtB,CAAC,oEAAoE,EACnE/B,QAAQ,cAAc,gBACvB,CAAC,CAAC;QAELE,IAAIM,OAAO,CAACsB,MAAM,CAACC,KAAK,CAACF;QAEzB,+EAA+E;QAC/E,IACGA,KAAyBG,SAAS,qBAClCH,KAAyBH,MAAMO,QAAQC,QACxC;YACA,MAAM,IAAIvC,mKAAAA,CACR,wEACA;QAEJ;IACF;AACF;AAEO,MAAMwC,iBACX,CAAClC,cAAsCH,aACvC,OAAO,EAAEC,GAAG,EAAEG,GAAG,EAAE;QACjB,MAAML,OAAO;YACXC;YACAC;YACAC,OAAO;YACPC;YACAC;QACF;QAEA,IAAIH,IAAIO,OAAO,KAAK,aAAa;YAC/B,MAAMT,OAAO;gBACXC;gBACAC;gBACAC,OAAO;gBACPC;gBACAC;YACF;QACF;QAEA,OAAOkC;IACT,EAAC"}},
    {"offset": {"line": 2710, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2716, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/hooks/resaveSelfAfterCreate.ts"],"sourcesContent":["import type { CollectionAfterChangeHook, CollectionConfig } from 'payload'\n\nimport type { NestedDocsPluginConfig } from '../types.js'\n\n// This hook automatically re-saves a document after it is created\n// so that we can build its breadcrumbs with the newly created document's ID.\n\nexport const resaveSelfAfterCreate =\n  (pluginConfig: NestedDocsPluginConfig, collection: CollectionConfig): CollectionAfterChangeHook =>\n  async ({ doc, operation, req }) => {\n    const { locale, payload } = req\n    const breadcrumbSlug = pluginConfig.breadcrumbsFieldSlug || 'breadcrumbs'\n    const breadcrumbs = doc[breadcrumbSlug]\n\n    if (operation === 'create') {\n      const originalDocWithDepth0 = await payload.findByID({\n        id: doc.id,\n        collection: collection.slug,\n        depth: 0,\n        req,\n      })\n\n      const updateAsDraft =\n        typeof collection.versions === 'object' &&\n        collection.versions.drafts &&\n        doc._status !== 'published'\n\n      try {\n        await payload.update({\n          id: doc.id,\n          collection: collection.slug,\n          data: {\n            ...originalDocWithDepth0,\n            [breadcrumbSlug]:\n              breadcrumbs?.map((crumb, i) => ({\n                ...crumb,\n                doc: breadcrumbs.length === i + 1 ? doc.id : crumb.doc,\n              })) || [],\n          },\n          depth: 0,\n          draft: updateAsDraft,\n          locale,\n          req,\n        })\n      } catch (err: unknown) {\n        payload.logger.error(\n          `Nested Docs plugin has had an error while adding breadcrumbs during document creation.`,\n        )\n        payload.logger.error(err)\n      }\n    }\n\n    return undefined\n  }\n"],"names":["resaveSelfAfterCreate","pluginConfig","collection","doc","operation","req","locale","payload","breadcrumbSlug","breadcrumbsFieldSlug","breadcrumbs","originalDocWithDepth0","findByID","id","slug","depth","updateAsDraft","versions","drafts","_status","update","data","map","crumb","i","length","draft","err","logger","error","undefined"],"mappings":"AAIA,kEAAkE;AAClE,6EAA6E;;;;AAEtE,MAAMA,wBACX,CAACC,cAAsCC,aACvC,OAAO,EAAEC,GAAG,EAAEC,SAAS,EAAEC,GAAG,EAAE;QAC5B,MAAM,EAAEC,MAAM,EAAEC,OAAO,EAAE,GAAGF;QAC5B,MAAMG,iBAAiBP,aAAaQ,oBAAoB,IAAI;QAC5D,MAAMC,cAAcP,GAAG,CAACK,eAAe;QAEvC,IAAIJ,cAAc,UAAU;YAC1B,MAAMO,wBAAwB,MAAMJ,QAAQK,QAAQ,CAAC;gBACnDC,IAAIV,IAAIU,EAAE;gBACVX,YAAYA,WAAWY,IAAI;gBAC3BC,OAAO;gBACPV;YACF;YAEA,MAAMW,gBACJ,OAAOd,WAAWe,QAAQ,KAAK,YAC/Bf,WAAWe,QAAQ,CAACC,MAAM,IAC1Bf,IAAIgB,OAAO,KAAK;YAElB,IAAI;gBACF,MAAMZ,QAAQa,MAAM,CAAC;oBACnBP,IAAIV,IAAIU,EAAE;oBACVX,YAAYA,WAAWY,IAAI;oBAC3BO,MAAM;wBACJ,GAAGV,qBAAqB;wBACxB,CAACH,eAAe,EACdE,aAAaY,IAAI,CAACC,OAAOC,IAAO,CAAA;gCAC9B,GAAGD,KAAK;gCACRpB,KAAKO,YAAYe,MAAM,KAAKD,IAAI,IAAIrB,IAAIU,EAAE,GAAGU,MAAMpB,GAAG;4BACxD,CAAA,MAAO,EAAE;oBACb;oBACAY,OAAO;oBACPW,OAAOV;oBACPV;oBACAD;gBACF;YACF,EAAE,OAAOsB,KAAc;gBACrBpB,QAAQqB,MAAM,CAACC,KAAK,CAClB,CAAC,sFAAsF,CAAC;gBAE1FtB,QAAQqB,MAAM,CAACC,KAAK,CAACF;YACvB;QACF;QAEA,OAAOG;IACT,EAAC"}},
    {"offset": {"line": 2756, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2762, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/plugin-nested-docs/src/index.ts"],"sourcesContent":["import type { Plugin, SingleRelationshipField } from 'payload'\n\nimport type { NestedDocsPluginConfig } from './types.js'\n\nimport { createBreadcrumbsField } from './fields/breadcrumbs.js'\nimport { createParentField } from './fields/parent.js'\nimport { parentFilterOptions } from './fields/parentFilterOptions.js'\nimport { resaveChildren } from './hooks/resaveChildren.js'\nimport { resaveSelfAfterCreate } from './hooks/resaveSelfAfterCreate.js'\nimport { getParents } from './utilities/getParents.js'\nimport { populateBreadcrumbs } from './utilities/populateBreadcrumbs.js'\n\nexport { createBreadcrumbsField, createParentField, getParents }\n\nexport const nestedDocsPlugin =\n  (pluginConfig: NestedDocsPluginConfig): Plugin =>\n  (config) => ({\n    ...config,\n    collections: (config.collections || []).map((collection) => {\n      if (pluginConfig.collections.indexOf(collection.slug) > -1) {\n        const fields = [...(collection?.fields || [])]\n\n        const existingBreadcrumbField = collection.fields.find(\n          (field) =>\n            'name' in field && field.name === (pluginConfig?.breadcrumbsFieldSlug || 'breadcrumbs'),\n        )\n\n        const existingParentField = collection.fields.find(\n          (field) => 'name' in field && field.name === (pluginConfig?.parentFieldSlug || 'parent'),\n        ) as SingleRelationshipField\n\n        const defaultFilterOptions = parentFilterOptions(pluginConfig?.breadcrumbsFieldSlug)\n\n        if (existingParentField) {\n          if (!existingParentField.filterOptions) {\n            existingParentField.filterOptions = defaultFilterOptions\n          }\n        }\n\n        if (!existingParentField && !pluginConfig.parentFieldSlug) {\n          const defaultParentField = createParentField(collection.slug)\n          defaultParentField.filterOptions = defaultFilterOptions\n          fields.push(defaultParentField)\n        }\n\n        if (!existingBreadcrumbField && !pluginConfig.breadcrumbsFieldSlug) {\n          fields.push(createBreadcrumbsField(collection.slug))\n        }\n\n        return {\n          ...collection,\n          fields,\n          hooks: {\n            ...(collection.hooks || {}),\n            afterChange: [\n              resaveChildren(pluginConfig, collection),\n              resaveSelfAfterCreate(pluginConfig, collection),\n              ...(collection?.hooks?.afterChange || []),\n            ],\n            beforeChange: [\n              async ({ data, originalDoc, req }) =>\n                populateBreadcrumbs(req, pluginConfig, collection, data, originalDoc),\n              ...(collection?.hooks?.beforeChange || []),\n            ],\n          },\n        }\n      }\n\n      return collection\n    }),\n  })\n"],"names":["createBreadcrumbsField","createParentField","parentFilterOptions","resaveChildren","resaveSelfAfterCreate","getParents","populateBreadcrumbs","nestedDocsPlugin","pluginConfig","config","collections","map","collection","indexOf","slug","fields","existingBreadcrumbField","find","field","name","breadcrumbsFieldSlug","existingParentField","parentFieldSlug","defaultFilterOptions","filterOptions","defaultParentField","push","hooks","afterChange","beforeChange","data","originalDoc","req"],"mappings":";;;AAMA,SAASE,mBAAmB,QAAQ,kCAAiC;AADrE,SAASD,iBAAiB,QAAQ,qBAAoB;AADtD,SAASD,sBAAsB,QAAQ,0BAAyB;AAGhE,SAASG,cAAc,QAAQ,4BAA2B;AAC1D,SAASC,qBAAqB,QAAQ,mCAAkC;AAExE,SAASE,mBAAmB,QAAQ,qCAAoC;;;;;;;;;AAIjE,MAAMC,mBACX,CAACC,eACD,CAACC,SAAY,CAAA;YACX,GAAGA,MAAM;YACTC,aAAcD,CAAAA,OAAOC,WAAW,IAAI,EAAC,EAAGC,GAAG,CAAC,CAACC;gBAC3C,IAAIJ,aAAaE,WAAW,CAACG,OAAO,CAACD,WAAWE,IAAI,IAAI,CAAC,GAAG;oBAC1D,MAAMC,SAAS;2BAAKH,YAAYG,UAAU,EAAE;qBAAE;oBAE9C,MAAMC,0BAA0BJ,WAAWG,MAAM,CAACE,IAAI,CACpD,CAACC,QACC,UAAUA,SAASA,MAAMC,IAAI,KAAMX,CAAAA,cAAcY,wBAAwB,aAAY;oBAGzF,MAAMC,sBAAsBT,WAAWG,MAAM,CAACE,IAAI,CAChD,CAACC,QAAU,UAAUA,SAASA,MAAMC,IAAI,KAAMX,CAAAA,cAAcc,mBAAmB,QAAO;oBAGxF,MAAMC,+NAAuBrB,sBAAAA,EAAoBM,cAAcY;oBAE/D,IAAIC,qBAAqB;wBACvB,IAAI,CAACA,oBAAoBG,aAAa,EAAE;4BACtCH,oBAAoBG,aAAa,GAAGD;wBACtC;oBACF;oBAEA,IAAI,CAACF,uBAAuB,CAACb,aAAac,eAAe,EAAE;wBACzD,MAAMG,gNAAqBxB,oBAAAA,EAAkBW,WAAWE,IAAI;wBAC5DW,mBAAmBD,aAAa,GAAGD;wBACnCR,OAAOW,IAAI,CAACD;oBACd;oBAEA,IAAI,CAACT,2BAA2B,CAACR,aAAaY,oBAAoB,EAAE;wBAClEL,OAAOW,IAAI,iMAAC1B,yBAAAA,EAAuBY,WAAWE,IAAI;oBACpD;oBAEA,OAAO;wBACL,GAAGF,UAAU;wBACbG;wBACAY,OAAO;4BACL,GAAIf,WAAWe,KAAK,IAAI,CAAC,CAAC;4BAC1BC,aAAa;kOACXzB,iBAAAA,EAAeK,cAAcI;iCAC7BR,gOAAAA,EAAsBI,cAAcI;mCAChCA,YAAYe,OAAOC,eAAe,EAAE;6BACzC;4BACDC,cAAc;gCACZ,OAAO,EAAEC,IAAI,EAAEC,WAAW,EAAEC,GAAG,EAAE,8MAC/B1B,sBAAAA,EAAoB0B,KAAKxB,cAAcI,YAAYkB,MAAMC;mCACvDnB,YAAYe,OAAOE,gBAAgB,EAAE;6BAC1C;wBACH;oBACF;gBACF;gBAEA,OAAOjB;YACT;QACF,CAAA,EAAE"}},
    {"offset": {"line": 2822, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2843, "column": 0}, "map": {"version":3,"file":"promise.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/calculateDefaultValues/promise.ts"],"sourcesContent":["import type { Data, Field, TabAsField, User } from 'payload'\n\nimport { getDefaultValue } from 'payload'\nimport { fieldAffectsData, tabHasName } from 'payload/shared'\n\nimport { iterateFields } from './iterateFields.js'\n\ntype Args<T> = {\n  data: T\n  field: Field | TabAsField\n  id?: number | string\n  locale: string | undefined\n  siblingData: Data\n  user: User\n}\n\n// TODO: Make this works for rich text subfields\nexport const defaultValuePromise = async <T>({\n  id,\n  data,\n  field,\n  locale,\n  siblingData,\n  user,\n}: Args<T>): Promise<void> => {\n  if (fieldAffectsData(field)) {\n    if (\n      typeof siblingData[field.name] === 'undefined' &&\n      typeof field.defaultValue !== 'undefined'\n    ) {\n      siblingData[field.name] = await getDefaultValue({\n        defaultValue: field.defaultValue,\n        locale,\n        user,\n        value: siblingData[field.name],\n      })\n    }\n  }\n\n  // Traverse subfields\n  switch (field.type) {\n    case 'group': {\n      if (typeof siblingData[field.name] !== 'object') {\n        siblingData[field.name] = {}\n      }\n\n      const groupData = siblingData[field.name] as Record<string, unknown>\n\n      await iterateFields({\n        id,\n        data,\n        fields: field.fields,\n        locale,\n        siblingData: groupData,\n        user,\n      })\n\n      break\n    }\n\n    case 'array': {\n      const rows = siblingData[field.name]\n\n      if (Array.isArray(rows)) {\n        const promises = []\n        rows.forEach((row) => {\n          promises.push(\n            iterateFields({\n              id,\n              data,\n              fields: field.fields,\n              locale,\n              siblingData: row,\n              user,\n            }),\n          )\n        })\n        await Promise.all(promises)\n      }\n      break\n    }\n\n    case 'blocks': {\n      const rows = siblingData[field.name]\n\n      if (Array.isArray(rows)) {\n        const promises = []\n        rows.forEach((row) => {\n          const blockTypeToMatch = row.blockType\n          const block = field.blocks.find((blockType) => blockType.slug === blockTypeToMatch)\n\n          if (block) {\n            row.blockType = blockTypeToMatch\n\n            promises.push(\n              iterateFields({\n                id,\n                data,\n                fields: block.fields,\n                locale,\n                siblingData: row,\n                user,\n              }),\n            )\n          }\n        })\n        await Promise.all(promises)\n      }\n\n      break\n    }\n\n    case 'row':\n    case 'collapsible': {\n      await iterateFields({\n        id,\n        data,\n        fields: field.fields,\n        locale,\n        siblingData,\n        user,\n      })\n\n      break\n    }\n\n    case 'tab': {\n      let tabSiblingData\n      if (tabHasName(field)) {\n        if (typeof siblingData[field.name] !== 'object') {\n          siblingData[field.name] = {}\n        }\n\n        tabSiblingData = siblingData[field.name] as Record<string, unknown>\n      } else {\n        tabSiblingData = siblingData\n      }\n\n      await iterateFields({\n        id,\n        data,\n        fields: field.fields,\n        locale,\n        siblingData: tabSiblingData,\n        user,\n      })\n\n      break\n    }\n\n    case 'tabs': {\n      await iterateFields({\n        id,\n        data,\n        fields: field.tabs.map((tab) => ({ ...tab, type: 'tab' })),\n        locale,\n        siblingData,\n        user,\n      })\n\n      break\n    }\n\n    default: {\n      break\n    }\n  }\n}\n"],"names":["getDefaultValue","fieldAffectsData","tabHasName","iterateFields","defaultValuePromise","id","data","field","locale","siblingData","user","name","defaultValue","value","type","groupData","fields","rows","Array","isArray","promises","forEach","row","push","Promise","all","blockTypeToMatch","blockType","block","blocks","find","slug","tabSiblingData","tabs","map","tab"],"mappings":"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"}},
    {"offset": {"line": 2979, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2985, "column": 0}, "map": {"version":3,"file":"iterateFields.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/calculateDefaultValues/iterateFields.ts"],"sourcesContent":["import type { Data, Field, TabAsField, User } from 'payload'\n\nimport { defaultValuePromise } from './promise.js'\n\ntype Args<T> = {\n  data: T\n  fields: (Field | TabAsField)[]\n  id?: number | string\n  locale: string | undefined\n  siblingData: Data\n  user: User\n}\n\nexport const iterateFields = async <T>({\n  id,\n  data,\n  fields,\n  locale,\n  siblingData,\n  user,\n}: Args<T>): Promise<void> => {\n  const promises = []\n  fields.forEach((field) => {\n    promises.push(\n      defaultValuePromise({\n        id,\n        data,\n        field,\n        locale,\n        siblingData,\n        user,\n      }),\n    )\n  })\n  await Promise.all(promises)\n}\n"],"names":["defaultValuePromise","iterateFields","id","data","fields","locale","siblingData","user","promises","forEach","field","push","Promise","all"],"mappings":";;;AAEA,SAASA,mBAAmB,QAAQ;;AAW7B,MAAMC,aAAA,GAAgB,MAAAA,CAAU,EACrCC,EAAE,EACFC,IAAI,EACJC,MAAM,EACNC,MAAM,EACNC,WAAW,EACXC,IAAAA,EACQ;IACR,MAAMC,QAAA,GAAW,EAAE;IACnBJ,MAAA,CAAOK,OAAO,EAAEC,KAAA;QACdF,QAAA,CAASG,IAAI,wNACXX,sBAAAA,AAAA,EAAoB;YAClBE,EAAA;YACAC,IAAA;YACAO,KAAA;YACAL,MAAA;YACAC,WAAA;YACAC;QACF;IAEJ;IACA,MAAMK,OAAA,CAAQC,GAAG,CAACL,QAAA;AACpB"}},
    {"offset": {"line": 3004, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3010, "column": 0}, "map": {"version":3,"file":"index.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/calculateDefaultValues/index.ts"],"sourcesContent":["import type { Data, Field as FieldSchema, User } from 'payload'\n\nimport { iterateFields } from './iterateFields.js'\n\ntype Args = {\n  data: Data\n  fields: FieldSchema[]\n  id?: number | string\n  locale: string | undefined\n  siblingData: Data\n  user: User\n}\n\nexport const calculateDefaultValues = async ({\n  id,\n  data,\n  fields,\n  locale,\n  user,\n}: Args): Promise<Data> => {\n  await iterateFields({\n    id,\n    data,\n    fields,\n    locale,\n    siblingData: data,\n    user,\n  })\n\n  return data\n}\n"],"names":["iterateFields","calculateDefaultValues","id","data","fields","locale","user","siblingData"],"mappings":";;;AAEA,SAASA,aAAa,QAAQ;;AAWvB,MAAMC,sBAAA,GAAyB,MAAAA,CAAO,EAC3CC,EAAE,EACFC,IAAI,EACJC,MAAM,EACNC,MAAM,EACNC,IAAAA,EACK;IACL,mOAAMN,gBAAAA,AAAA,EAAc;QAClBE,EAAA;QACAC,IAAA;QACAC,MAAA;QACAC,MAAA;QACAE,WAAA,EAAaJ,IAAA;QACbG;IACF;IAEA,OAAOH,IAAA;AACT"}},
    {"offset": {"line": 3026, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3032, "column": 0}, "map": {"version":3,"file":"getFilterOptionsQuery.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/getFilterOptionsQuery.ts"],"sourcesContent":["import type { FilterOptions, FilterOptionsProps, Where } from 'payload'\n\nexport const getFilterOptionsQuery = async (\n  filterOptions: FilterOptions,\n  options: { relationTo: string | string[] } & Omit<FilterOptionsProps, 'relationTo'>,\n): Promise<{ [collection: string]: Where }> => {\n  const { relationTo } = options\n\n  const relations = Array.isArray(relationTo) ? relationTo : [relationTo]\n\n  const query = {}\n\n  if (typeof filterOptions !== 'undefined') {\n    await Promise.all(\n      relations.map(async (relation) => {\n        query[relation] =\n          typeof filterOptions === 'function'\n            ? await filterOptions({ ...options, relationTo: relation })\n            : filterOptions\n\n        if (query[relation] === true) {\n          query[relation] = {}\n        }\n\n        // this is an ugly way to prevent results from being returned\n        if (query[relation] === false) {\n          query[relation] = { id: { exists: false } }\n        }\n      }),\n    )\n  }\n\n  return query\n}\n"],"names":["getFilterOptionsQuery","filterOptions","options","relationTo","relations","Array","isArray","query","Promise","all","map","relation","id","exists"],"mappings":";;;AAEO,MAAMA,qBAAA,GAAwB,MAAAA,CACnCC,aAAA,EACAC,OAAA;IAEA,MAAM,EAAEC,UAAAA,EAAY,GAAGD,OAAA;IAEvB,MAAME,SAAA,GAAYC,KAAA,CAAMC,OAAO,CAACH,UAAA,IAAcA,UAAA,GAAa;QAACA,UAAA;KAAW;IAEvE,MAAMI,KAAA,GAAQ,CAAC;IAEf,IAAI,OAAON,aAAA,KAAkB,aAAa;QACxC,MAAMO,OAAA,CAAQC,GAAG,CACfL,SAAA,CAAUM,GAAG,CAAC,OAAOC,QAAA;YACnBJ,KAAK,CAACI,QAAA,CAAS,GACb,OAAOV,aAAA,KAAkB,aACrB,MAAMA,aAAA,CAAc;gBAAE,GAAGC,OAAO;gBAAEC,UAAA,EAAYQ;YAAS,KACvDV,aAAA;YAEN,IAAIM,KAAK,CAACI,QAAA,CAAS,KAAK,MAAM;gBAC5BJ,KAAK,CAACI,QAAA,CAAS,GAAG,CAAC;YACrB;YAEA,6DAAA;YACA,IAAIJ,KAAK,CAACI,QAAA,CAAS,KAAK,OAAO;gBAC7BJ,KAAK,CAACI,QAAA,CAAS,GAAG;oBAAEC,EAAA,EAAI;wBAAEC,MAAA,EAAQ;oBAAM;gBAAE;YAC5C;QACF;IAEJ;IAEA,OAAON,KAAA;AACT"}},
    {"offset": {"line": 3062, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3068, "column": 0}, "map": {"version":3,"file":"addFieldStatePromise.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/addFieldStatePromise.ts"],"sourcesContent":["import type {\n  Data,\n  DocumentPreferences,\n  Field,\n  FormField,\n  FormState,\n  PayloadRequest,\n} from 'payload'\n\nimport ObjectIdImport from 'bson-objectid'\nimport { fieldAffectsData, fieldHasSubFields, tabHasName } from 'payload/shared'\n\nimport { getFilterOptionsQuery } from './getFilterOptionsQuery.js'\nimport { iterateFields } from './iterateFields.js'\n\nconst ObjectId = (ObjectIdImport.default ||\n  ObjectIdImport) as unknown as typeof ObjectIdImport.default\n\nexport type AddFieldStatePromiseArgs = {\n  addErrorPathToParent: (path: string) => void\n  /**\n   * if all parents are localized, then the field is localized\n   */\n  anyParentLocalized?: boolean\n  collectionSlug?: string\n  data: Data\n  field: Field\n  fieldIndex: number\n  /**\n   * You can use this to filter down to only `localized` fields that require translation (type: text, textarea, etc.). Another plugin might want to look for only `point` type fields to do some GIS function. With the filter function you can go in like a surgeon.\n   */\n  filter?: (args: AddFieldStatePromiseArgs) => boolean\n  /**\n   * Force the value of fields like arrays or blocks to be the full value instead of the length @default false\n   */\n  forceFullValue?: boolean\n  fullData: Data\n  id: number | string\n  /**\n   * Whether the field schema should be included in the state\n   */\n  includeSchema?: boolean\n  /**\n   * Whether to omit parent fields in the state. @default false\n   */\n  omitParents?: boolean\n  operation: 'create' | 'update'\n  passesCondition: boolean\n  path: string\n\n  preferences: DocumentPreferences\n  /**\n   * Req is used for validation and defaultValue calculation. If you don't need validation,\n   * just create your own req and pass in the locale and the user\n   */\n  req: PayloadRequest\n  /**\n   * Whether to skip checking the field's condition. @default false\n   */\n  skipConditionChecks?: boolean\n  /**\n   * Whether to skip validating the field. @default false\n   */\n  skipValidation?: boolean\n  state: FormState\n}\n\n/**\n * Flattens the fields schema and fields data.\n * The output is the field path (e.g. array.0.name) mapped to a FormField object.\n */\nexport const addFieldStatePromise = async (args: AddFieldStatePromiseArgs): Promise<void> => {\n  const {\n    id,\n    addErrorPathToParent: addErrorPathToParentArg,\n    anyParentLocalized = false,\n    collectionSlug,\n    data,\n    field,\n    fieldIndex,\n    filter,\n    forceFullValue = false,\n    fullData,\n    includeSchema = false,\n    omitParents = false,\n    operation,\n    passesCondition,\n    path,\n    preferences,\n    req,\n    skipConditionChecks = false,\n    skipValidation = false,\n    state,\n  } = args\n\n  if (fieldAffectsData(field)) {\n    const validate = field.validate\n\n    const fieldState: FormField = {\n      errorPaths: [],\n      fieldSchema: includeSchema ? field : undefined,\n      initialValue: undefined,\n      passesCondition,\n      valid: true,\n      value: undefined,\n    }\n\n    let validationResult: string | true = true\n\n    if (typeof validate === 'function' && !skipValidation && passesCondition) {\n      let jsonError\n\n      if (field.type === 'json' && typeof data[field.name] === 'string') {\n        try {\n          JSON.parse(data[field.name] as string)\n        } catch (e) {\n          jsonError = e\n        }\n      }\n\n      validationResult = await validate(\n        data?.[field.name] as never,\n        {\n          ...field,\n          id,\n          collectionSlug,\n          data: fullData,\n          jsonError,\n          operation,\n          preferences,\n          req,\n          siblingData: data,\n        } as any,\n      )\n    }\n\n    const addErrorPathToParent = (errorPath: string) => {\n      if (typeof addErrorPathToParentArg === 'function') {\n        addErrorPathToParentArg(errorPath)\n      }\n\n      if (!fieldState.errorPaths.includes(errorPath)) {\n        fieldState.errorPaths.push(errorPath)\n        fieldState.valid = false\n      }\n    }\n\n    if (typeof validationResult === 'string') {\n      fieldState.errorMessage = validationResult\n      fieldState.valid = false\n      addErrorPathToParent(`${path}${field.name}`)\n    } else {\n      fieldState.valid = true\n    }\n\n    switch (field.type) {\n      case 'array': {\n        const arrayValue = Array.isArray(data[field.name]) ? data[field.name] : []\n\n        const { promises, rowMetadata } = arrayValue.reduce(\n          (acc, row, i) => {\n            const rowPath = `${path}${field.name}.${i}.`\n            row.id = row?.id || new ObjectId().toHexString()\n\n            if (!omitParents && (!filter || filter(args))) {\n              state[`${rowPath}id`] = {\n                fieldSchema: includeSchema\n                  ? field.fields.find((field) => 'name' in field && field.name === 'id')\n                  : undefined,\n                initialValue: row.id,\n                valid: true,\n                value: row.id,\n              }\n            }\n\n            acc.promises.push(\n              iterateFields({\n                id,\n                addErrorPathToParent,\n                anyParentLocalized: field.localized || anyParentLocalized,\n                data: row,\n                fields: field.fields,\n                filter,\n                forceFullValue,\n                fullData,\n                includeSchema,\n                omitParents,\n                operation,\n                parentPassesCondition: passesCondition,\n                path: rowPath,\n                preferences,\n                req,\n                skipConditionChecks,\n                skipValidation,\n                state,\n              }),\n            )\n\n            const collapsedRowIDs = preferences?.fields?.[`${path}${field.name}`]?.collapsed\n\n            acc.rowMetadata.push({\n              id: row.id,\n              collapsed:\n                collapsedRowIDs === undefined\n                  ? field.admin.initCollapsed\n                  : collapsedRowIDs.includes(row.id),\n            })\n\n            return acc\n          },\n          {\n            promises: [],\n            rowMetadata: [],\n          },\n        )\n\n        await Promise.all(promises)\n\n        // Add values to field state\n        if (data[field.name] === null) {\n          fieldState.value = null\n          fieldState.initialValue = null\n        } else {\n          fieldState.value = forceFullValue ? arrayValue : arrayValue.length\n          fieldState.initialValue = forceFullValue ? arrayValue : arrayValue.length\n\n          if (arrayValue.length > 0) {\n            fieldState.disableFormData = true\n          }\n        }\n\n        fieldState.rows = rowMetadata\n\n        // Add field to state\n        if (!omitParents && (!filter || filter(args))) {\n          state[`${path}${field.name}`] = fieldState\n        }\n\n        break\n      }\n\n      case 'blocks': {\n        const blocksValue = Array.isArray(data[field.name]) ? data[field.name] : []\n\n        const { promises, rowMetadata } = blocksValue.reduce(\n          (acc, row, i) => {\n            const block = field.blocks.find((blockType) => blockType.slug === row.blockType)\n            const rowPath = `${path}${field.name}.${i}.`\n\n            if (block) {\n              row.id = row?.id || new ObjectId().toHexString()\n\n              if (!omitParents && (!filter || filter(args))) {\n                state[`${rowPath}id`] = {\n                  fieldSchema: includeSchema\n                    ? block.fields.find(\n                        (blockField) => 'name' in blockField && blockField.name === 'id',\n                      )\n                    : undefined,\n                  initialValue: row.id,\n                  valid: true,\n                  value: row.id,\n                }\n\n                state[`${rowPath}blockType`] = {\n                  fieldSchema: includeSchema\n                    ? block.fields.find(\n                        (blockField) => 'name' in blockField && blockField.name === 'blockType',\n                      )\n                    : undefined,\n                  initialValue: row.blockType,\n                  valid: true,\n                  value: row.blockType,\n                }\n\n                state[`${rowPath}blockName`] = {\n                  fieldSchema: includeSchema\n                    ? block.fields.find(\n                        (blockField) => 'name' in blockField && blockField.name === 'blockName',\n                      )\n                    : undefined,\n                  initialValue: row.blockName,\n                  valid: true,\n                  value: row.blockName,\n                }\n              }\n\n              acc.promises.push(\n                iterateFields({\n                  id,\n                  addErrorPathToParent,\n                  anyParentLocalized: field.localized || anyParentLocalized,\n                  data: row,\n                  fields: block.fields,\n                  filter,\n                  forceFullValue,\n                  fullData,\n                  includeSchema,\n                  omitParents,\n                  operation,\n                  parentPassesCondition: passesCondition,\n                  path: rowPath,\n                  preferences,\n                  req,\n                  skipConditionChecks,\n                  skipValidation,\n                  state,\n                }),\n              )\n\n              const collapsedRowIDs = preferences?.fields?.[`${path}${field.name}`]?.collapsed\n\n              acc.rowMetadata.push({\n                id: row.id,\n                blockType: row.blockType,\n                collapsed:\n                  collapsedRowIDs === undefined\n                    ? field.admin.initCollapsed\n                    : collapsedRowIDs.includes(row.id),\n              })\n            }\n\n            return acc\n          },\n          {\n            promises: [],\n            rowMetadata: [],\n          },\n        )\n\n        await Promise.all(promises)\n\n        // Add values to field state\n        if (data[field.name] === null) {\n          fieldState.value = null\n          fieldState.initialValue = null\n        } else {\n          fieldState.value = forceFullValue ? blocksValue : blocksValue.length\n          fieldState.initialValue = forceFullValue ? blocksValue : blocksValue.length\n\n          if (blocksValue.length > 0) {\n            fieldState.disableFormData = true\n          }\n        }\n\n        fieldState.rows = rowMetadata\n\n        // Add field to state\n        if (!omitParents && (!filter || filter(args))) {\n          state[`${path}${field.name}`] = fieldState\n        }\n\n        break\n      }\n\n      case 'group': {\n        if (!filter || filter(args)) {\n          fieldState.disableFormData = true\n          state[`${path}${field.name}`] = fieldState\n        }\n\n        await iterateFields({\n          id,\n          addErrorPathToParent,\n          anyParentLocalized: field.localized || anyParentLocalized,\n          data: data?.[field.name] || {},\n          fields: field.fields,\n          filter,\n          forceFullValue,\n          fullData,\n          includeSchema,\n          omitParents,\n          operation,\n          parentPassesCondition: passesCondition,\n          path: `${path}${field.name}.`,\n          preferences,\n          req,\n          skipConditionChecks,\n          skipValidation,\n          state,\n        })\n\n        break\n      }\n      case 'upload':\n      case 'relationship': {\n        if (field.filterOptions) {\n          if (typeof field.filterOptions === 'object') {\n            if (typeof field.relationTo === 'string') {\n              fieldState.filterOptions = {\n                [field.relationTo]: field.filterOptions,\n              }\n            } else {\n              fieldState.filterOptions = field.relationTo.reduce((acc, relation) => {\n                acc[relation] = field.filterOptions\n                return acc\n              }, {})\n            }\n          }\n\n          if (typeof field.filterOptions === 'function') {\n            const query = await getFilterOptionsQuery(field.filterOptions, {\n              id,\n              data: fullData,\n              relationTo: field.relationTo,\n              siblingData: data,\n              user: req.user,\n            })\n\n            fieldState.filterOptions = query\n          }\n        }\n\n        if (field.hasMany) {\n          const relationshipValue = Array.isArray(data[field.name])\n            ? data[field.name].map((relationship) => {\n                if (Array.isArray(field.relationTo)) {\n                  return {\n                    relationTo: relationship.relationTo,\n                    value:\n                      relationship.value && typeof relationship.value === 'object'\n                        ? relationship.value?.id\n                        : relationship.value,\n                  }\n                }\n                if (typeof relationship === 'object' && relationship !== null) {\n                  return relationship.id\n                }\n                return relationship\n              })\n            : undefined\n\n          fieldState.value = relationshipValue\n          fieldState.initialValue = relationshipValue\n        } else if (Array.isArray(field.relationTo)) {\n          if (\n            data[field.name] &&\n            typeof data[field.name] === 'object' &&\n            'relationTo' in data[field.name] &&\n            'value' in data[field.name]\n          ) {\n            const value =\n              typeof data[field.name]?.value === 'object' &&\n              data[field.name]?.value &&\n              'id' in data[field.name].value\n                ? data[field.name].value.id\n                : data[field.name].value\n            const relationshipValue = {\n              relationTo: data[field.name]?.relationTo,\n              value,\n            }\n            fieldState.value = relationshipValue\n            fieldState.initialValue = relationshipValue\n          }\n        } else {\n          const relationshipValue =\n            data[field.name] && typeof data[field.name] === 'object' && 'id' in data[field.name]\n              ? data[field.name].id\n              : data[field.name]\n          fieldState.value = relationshipValue\n          fieldState.initialValue = relationshipValue\n        }\n\n        if (!filter || filter(args)) {\n          state[`${path}${field.name}`] = fieldState\n        }\n\n        break\n      }\n\n      default: {\n        fieldState.value = data[field.name]\n        fieldState.initialValue = data[field.name]\n\n        // Add field to state\n        if (!filter || filter(args)) {\n          state[`${path}${field.name}`] = fieldState\n        }\n\n        break\n      }\n    }\n  } else if (fieldHasSubFields(field)) {\n    // Handle field types that do not use names (row, etc)\n\n    if (!filter || filter(args)) {\n      state[`${path}_index-${fieldIndex}`] = {\n        disableFormData: true,\n        errorPaths: [],\n        initialValue: undefined,\n        passesCondition,\n        valid: true,\n        value: undefined,\n      }\n    }\n\n    await iterateFields({\n      id,\n      // passthrough parent functionality\n      addErrorPathToParent: addErrorPathToParentArg,\n      anyParentLocalized: field.localized || anyParentLocalized,\n      data,\n      fields: field.fields,\n      filter,\n      forceFullValue,\n      fullData,\n      includeSchema,\n      omitParents,\n      operation,\n      parentPassesCondition: passesCondition,\n      path,\n      preferences,\n      req,\n      skipConditionChecks,\n      skipValidation,\n      state,\n    })\n  } else if (field.type === 'tabs') {\n    const promises = field.tabs.map((tab) => {\n      const isNamedTab = tabHasName(tab)\n\n      return iterateFields({\n        id,\n        // passthrough parent functionality\n        addErrorPathToParent: addErrorPathToParentArg,\n        anyParentLocalized: tab.localized || anyParentLocalized,\n        data: isNamedTab ? data?.[tab.name] || {} : data,\n        fields: tab.fields,\n        filter,\n        forceFullValue,\n        fullData,\n        includeSchema,\n        omitParents,\n        operation,\n        parentPassesCondition: passesCondition,\n        path: isNamedTab ? `${path}${tab.name}.` : path,\n        preferences,\n        req,\n        skipConditionChecks,\n        skipValidation,\n        state,\n      })\n    })\n\n    await Promise.all(promises)\n  } else if (field.type === 'ui') {\n    if (!filter || filter(args)) {\n      state[`${path}_index-${fieldIndex}`] = {\n        disableFormData: true,\n        errorPaths: [],\n        initialValue: undefined,\n        passesCondition,\n        valid: true,\n        value: undefined,\n      }\n    }\n  }\n}\n"],"names":["ObjectIdImport","fieldAffectsData","fieldHasSubFields","tabHasName","getFilterOptionsQuery","iterateFields","ObjectId","default","addFieldStatePromise","args","id","addErrorPathToParent","addErrorPathToParentArg","anyParentLocalized","collectionSlug","data","field","fieldIndex","filter","forceFullValue","fullData","includeSchema","omitParents","operation","passesCondition","path","preferences","req","skipConditionChecks","skipValidation","state","validate","fieldState","errorPaths","fieldSchema","undefined","initialValue","valid","value","validationResult","jsonError","type","name","JSON","parse","e","siblingData","errorPath","includes","push","errorMessage","arrayValue","Array","isArray","promises","rowMetadata","reduce","acc","row","i","rowPath","toHexString","fields","find","localized","parentPassesCondition","collapsedRowIDs","collapsed","admin","initCollapsed","Promise","all","length","disableFormData","rows","blocksValue","block","blocks","blockType","slug","blockField","blockName","filterOptions","relationTo","relation","query","user","hasMany","relationshipValue","map","relationship","tabs","tab","isNamedTab"],"mappings":"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"}},
    {"offset": {"line": 3446, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3452, "column": 0}, "map": {"version":3,"file":"iterateFields.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/iterateFields.ts"],"sourcesContent":["import type {\n  Data,\n  DocumentPreferences,\n  Field as FieldSchema,\n  FormState,\n  PayloadRequest,\n} from 'payload'\n\nimport { fieldIsPresentationalOnly } from 'payload/shared'\n\nimport type { AddFieldStatePromiseArgs } from './addFieldStatePromise.js'\n\nimport { addFieldStatePromise } from './addFieldStatePromise.js'\n\ntype Args = {\n  addErrorPathToParent: (path: string) => void\n  /**\n   * if any parents is localized, then the field is localized. @default false\n   */\n  anyParentLocalized?: boolean\n  collectionSlug?: string\n  data: Data\n  fields: FieldSchema[]\n  filter?: (args: AddFieldStatePromiseArgs) => boolean\n  /**\n   * Force the value of fields like arrays or blocks to be the full value instead of the length @default false\n   */\n  forceFullValue?: boolean\n  fullData: Data\n  id?: number | string\n  /**\n   * Whether the field schema should be included in the state. @default false\n   */\n  includeSchema?: boolean\n  /**\n   * Whether to omit parent fields in the state. @default false\n   */\n  omitParents?: boolean\n  /**\n   * operation is only needed for validation\n   */\n  operation: 'create' | 'update'\n  parentPassesCondition?: boolean\n  /**\n   * The initial path of the field. @default ''\n   */\n  path?: string\n  preferences?: DocumentPreferences\n  req: PayloadRequest\n  /**\n   * Whether to skip checking the field's condition. @default false\n   */\n  skipConditionChecks?: boolean\n  /**\n   * Whether to skip validating the field. @default false\n   */\n  skipValidation?: boolean\n  state?: FormState\n}\n\n/**\n * Flattens the fields schema and fields data\n */\nexport const iterateFields = async ({\n  id,\n  addErrorPathToParent: addErrorPathToParentArg,\n  anyParentLocalized = false,\n  collectionSlug,\n  data,\n  fields,\n  filter,\n  forceFullValue = false,\n  fullData,\n  includeSchema = false,\n  omitParents = false,\n  operation,\n  parentPassesCondition = true,\n  path = '',\n  preferences,\n  req,\n  skipConditionChecks = false,\n  skipValidation = false,\n  state = {},\n}: Args): Promise<void> => {\n  const promises = []\n\n  fields.forEach((field, fieldIndex) => {\n    if (!fieldIsPresentationalOnly(field) && !field?.admin?.disabled) {\n      let passesCondition = true\n      if (!skipConditionChecks) {\n        passesCondition = Boolean(\n          (field?.admin?.condition\n            ? Boolean(field.admin.condition(fullData || {}, data || {}, { user: req.user }))\n            : true) && parentPassesCondition,\n        )\n      }\n\n      promises.push(\n        addFieldStatePromise({\n          id,\n          addErrorPathToParent: addErrorPathToParentArg,\n          anyParentLocalized,\n          collectionSlug,\n          data,\n          field,\n          fieldIndex,\n          filter,\n          forceFullValue,\n          fullData,\n          includeSchema,\n          omitParents,\n          operation,\n          passesCondition,\n          path,\n          preferences,\n          req,\n          skipConditionChecks,\n          skipValidation,\n          state,\n        }),\n      )\n    }\n  })\n\n  await Promise.all(promises)\n}\n"],"names":["fieldIsPresentationalOnly","addFieldStatePromise","iterateFields","id","addErrorPathToParent","addErrorPathToParentArg","anyParentLocalized","collectionSlug","data","fields","filter","forceFullValue","fullData","includeSchema","omitParents","operation","parentPassesCondition","path","preferences","req","skipConditionChecks","skipValidation","state","promises","forEach","field","fieldIndex","admin","disabled","passesCondition","Boolean","condition","user","push","Promise","all"],"mappings":";;;AAQA,SAASA,yBAAyB,QAAQ;AAI1C,SAASC,oBAAoB,QAAQ;;;AAmD9B,MAAMC,aAAA,GAAgB,MAAAA,CAAO,EAClCC,EAAE,EACFC,oBAAA,EAAsBC,uBAAuB,EAC7CC,kBAAA,GAAqB,KAAK,EAC1BC,cAAc,EACdC,IAAI,EACJC,MAAM,EACNC,MAAM,EACNC,cAAA,GAAiB,KAAK,EACtBC,QAAQ,EACRC,aAAA,GAAgB,KAAK,EACrBC,WAAA,GAAc,KAAK,EACnBC,SAAS,EACTC,qBAAA,GAAwB,IAAI,EAC5BC,IAAA,GAAO,EAAE,EACTC,WAAW,EACXC,GAAG,EACHC,mBAAA,GAAsB,KAAK,EAC3BC,cAAA,GAAiB,KAAK,EACtBC,KAAA,GAAQ,CAAC,CAAA,EACJ;IACL,MAAMC,QAAA,GAAW,EAAE;IAEnBd,MAAA,CAAOe,OAAO,CAAC,CAACC,KAAA,EAAOC,UAAA;QACrB,IAAI,oKAAC1B,4BAAAA,AAAA,EAA0ByB,KAAA,KAAU,CAACA,KAAA,EAAOE,KAAA,EAAOC,QAAA,EAAU;YAChE,IAAIC,eAAA,GAAkB;YACtB,IAAI,CAACT,mBAAA,EAAqB;gBACxBS,eAAA,GAAkBC,OAAA,CAChB,CAACL,KAAA,EAAOE,KAAA,EAAOI,SAAA,GACXD,OAAA,CAAQL,KAAA,CAAME,KAAK,CAACI,SAAS,CAACnB,QAAA,IAAY,CAAC,GAAGJ,IAAA,IAAQ,CAAC,GAAG;oBAAEwB,IAAA,EAAMb,GAAA,CAAIa,IAAAA;gBAAK,MAC3E,IAAG,KAAMhB,qBAAA;YAEjB;YAEAO,QAAA,CAASU,IAAI,2MACXhC,uBAAAA,AAAA,EAAqB;gBACnBE,EAAA;gBACAC,oBAAA,EAAsBC,uBAAA;gBACtBC,kBAAA;gBACAC,cAAA;gBACAC,IAAA;gBACAiB,KAAA;gBACAC,UAAA;gBACAhB,MAAA;gBACAC,cAAA;gBACAC,QAAA;gBACAC,aAAA;gBACAC,WAAA;gBACAC,SAAA;gBACAc,eAAA;gBACAZ,IAAA;gBACAC,WAAA;gBACAC,GAAA;gBACAC,mBAAA;gBACAC,cAAA;gBACAC;YACF;QAEJ;IACF;IAEA,MAAMY,OAAA,CAAQC,GAAG,CAACZ,QAAA;AACpB"}},
    {"offset": {"line": 3495, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3501, "column": 0}, "map": {"version":3,"file":"index.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/forms/buildStateFromSchema/index.tsx"],"sourcesContent":["import type {\n  Data,\n  DocumentPreferences,\n  Field as FieldSchema,\n  FormState,\n  PayloadRequest,\n} from 'payload'\n\nimport { calculateDefaultValues } from './calculateDefaultValues/index.js'\nimport { iterateFields } from './iterateFields.js'\n\ntype Args = {\n  collectionSlug?: string\n  data?: Data\n  fieldSchema: FieldSchema[] | undefined\n  id?: number | string\n  operation?: 'create' | 'update'\n  preferences: DocumentPreferences\n  req: PayloadRequest\n  siblingData?: Data\n}\n\nexport type BuildFormStateArgs = {\n  collectionSlug?: string\n  data?: Data\n  docPreferences?: DocumentPreferences\n  formState?: FormState\n  globalSlug?: string\n  id?: number | string\n  locale?: string\n  operation?: 'create' | 'update'\n  returnLockStatus?: boolean\n  schemaPath: string\n  updateLastEdited?: boolean\n}\n\nexport const buildStateFromSchema = async (args: Args): Promise<FormState> => {\n  const { id, collectionSlug, data: fullData = {}, fieldSchema, operation, preferences, req } = args\n\n  if (fieldSchema) {\n    const state: FormState = {}\n\n    const dataWithDefaultValues = await calculateDefaultValues({\n      id,\n      data: fullData,\n      fields: fieldSchema,\n      locale: req.locale,\n      siblingData: fullData,\n      user: req.user,\n    })\n\n    await iterateFields({\n      id,\n      addErrorPathToParent: null,\n      collectionSlug,\n      data: dataWithDefaultValues,\n      fields: fieldSchema,\n      fullData,\n      operation,\n      parentPassesCondition: true,\n      path: '',\n      preferences,\n      req,\n      state,\n    })\n\n    return state\n  }\n\n  return {}\n}\n\nexport { iterateFields }\n"],"names":["calculateDefaultValues","iterateFields","buildStateFromSchema","args","id","collectionSlug","data","fullData","fieldSchema","operation","preferences","req","state","dataWithDefaultValues","fields","locale","siblingData","user","addErrorPathToParent","parentPassesCondition","path"],"mappings":";;;AAQA,SAASA,sBAAsB,QAAQ;AACvC,SAASC,aAAa,QAAQ;;;AA2BvB,MAAMC,oBAAA,GAAuB,OAAOC,IAAA;IACzC,MAAM,EAAEC,EAAE,EAAEC,cAAc,EAAEC,IAAA,EAAMC,QAAA,GAAW,CAAC,CAAC,EAAEC,WAAW,EAAEC,SAAS,EAAEC,WAAW,EAAEC,GAAAA,EAAK,GAAGR,IAAA;IAE9F,IAAIK,WAAA,EAAa;QACf,MAAMI,KAAA,GAAmB,CAAC;QAE1B,MAAMC,qBAAA,GAAwB,2NAAMb,yBAAAA,AAAA,EAAuB;YACzDI,EAAA;YACAE,IAAA,EAAMC,QAAA;YACNO,MAAA,EAAQN,WAAA;YACRO,MAAA,EAAQJ,GAAA,CAAII,MAAM;YAClBC,WAAA,EAAaT,QAAA;YACbU,IAAA,EAAMN,GAAA,CAAIM,IAAAA;QACZ;QAEA,yMAAMhB,gBAAAA,AAAA,EAAc;YAClBG,EAAA;YACAc,oBAAA,EAAsB;YACtBb,cAAA;YACAC,IAAA,EAAMO,qBAAA;YACNC,MAAA,EAAQN,WAAA;YACRD,QAAA;YACAE,SAAA;YACAU,qBAAA,EAAuB;YACvBC,IAAA,EAAM;YACNV,WAAA;YACAC,GAAA;YACAC;QACF;QAEA,OAAOA,KAAA;IACT;IAEA,OAAO,CAAC;AACV"}},
    {"offset": {"line": 3540, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3546, "column": 0}, "map": {"version":3,"file":"traverseFields.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/buildFieldSchemaMap/traverseFields.ts"],"sourcesContent":["import type { I18n } from '@payloadcms/translations'\nimport type { Field, SanitizedConfig } from 'payload'\n\nimport { MissingEditorProp } from 'payload'\nimport { tabHasName } from 'payload/shared'\n\nimport type { FieldSchemaMap } from './types.js'\n\ntype Args = {\n  config: SanitizedConfig\n  fields: Field[]\n  i18n: I18n<any, any>\n  schemaMap: FieldSchemaMap\n  schemaPath: string\n}\n\nexport const traverseFields = ({ config, fields, i18n, schemaMap, schemaPath }: Args) => {\n  for (const field of fields) {\n    switch (field.type) {\n      case 'group':\n      case 'array':\n        schemaMap.set(`${schemaPath}.${field.name}`, field.fields)\n\n        traverseFields({\n          config,\n          fields: field.fields,\n          i18n,\n          schemaMap,\n          schemaPath: `${schemaPath}.${field.name}`,\n        })\n        break\n\n      case 'collapsible':\n      case 'row':\n        traverseFields({\n          config,\n          fields: field.fields,\n          i18n,\n          schemaMap,\n          schemaPath,\n        })\n        break\n\n      case 'blocks':\n        field.blocks.map((block) => {\n          const blockSchemaPath = `${schemaPath}.${field.name}.${block.slug}`\n\n          schemaMap.set(blockSchemaPath, block.fields)\n\n          traverseFields({\n            config,\n            fields: block.fields,\n            i18n,\n            schemaMap,\n            schemaPath: blockSchemaPath,\n          })\n        })\n        break\n\n      case 'richText':\n        if (!field?.editor) {\n          throw new MissingEditorProp(field) // while we allow disabling editor functionality, you should not have any richText fields defined if you do not have an editor\n        }\n        if (typeof field.editor === 'function') {\n          throw new Error('Attempted to access unsanitized rich text editor.')\n        }\n\n        if (typeof field.editor.generateSchemaMap === 'function') {\n          field.editor.generateSchemaMap({\n            config,\n            field,\n            i18n,\n            schemaMap,\n            schemaPath: `${schemaPath}.${field.name}`,\n          })\n        }\n\n        break\n\n      case 'tabs':\n        field.tabs.map((tab) => {\n          const tabSchemaPath = tabHasName(tab) ? `${schemaPath}.${tab.name}` : schemaPath\n\n          if (tabHasName(tab)) {\n            schemaMap.set(tabSchemaPath, tab.fields)\n          }\n\n          traverseFields({\n            config,\n            fields: tab.fields,\n            i18n,\n            schemaMap,\n            schemaPath: tabSchemaPath,\n          })\n        })\n        break\n    }\n  }\n}\n"],"names":["MissingEditorProp","tabHasName","traverseFields","config","fields","i18n","schemaMap","schemaPath","field","type","set","name","blocks","map","block","blockSchemaPath","slug","editor","Error","generateSchemaMap","tabs","tab","tabSchemaPath"],"mappings":";;;AAGA,SAASA,iBAAiB,QAAQ;AAClC,SAASC,UAAU,QAAQ;;;AAYpB,MAAMC,cAAA,GAAiBA,CAAC,EAAEC,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAEC,SAAS,EAAEC,UAAAA,EAAkB;IAClF,KAAK,MAAMC,KAAA,IAASJ,MAAA,CAAQ;QAC1B,OAAQI,KAAA,CAAMC,IAAI;YAChB,KAAK;YACL,KAAK;gBACHH,SAAA,CAAUI,GAAG,CAAC,GAAGH,UAAA,CAAA,CAAA,EAAcC,KAAA,CAAMG,IAAI,EAAE,EAAEH,KAAA,CAAMJ,MAAM;gBAEzDF,cAAA,CAAe;oBACbC,MAAA;oBACAC,MAAA,EAAQI,KAAA,CAAMJ,MAAM;oBACpBC,IAAA;oBACAC,SAAA;oBACAC,UAAA,EAAY,GAAGA,UAAA,CAAA,CAAA,EAAcC,KAAA,CAAMG,IAAI,EAAA;gBACzC;gBACA;YAEF,KAAK;YACL,KAAK;gBACHT,cAAA,CAAe;oBACbC,MAAA;oBACAC,MAAA,EAAQI,KAAA,CAAMJ,MAAM;oBACpBC,IAAA;oBACAC,SAAA;oBACAC;gBACF;gBACA;YAEF,KAAK;gBACHC,KAAA,CAAMI,MAAM,CAACC,GAAG,EAAEC,KAAA;oBAChB,MAAMC,eAAA,GAAkB,GAAGR,UAAA,CAAA,CAAA,EAAcC,KAAA,CAAMG,IAAI,CAAA,CAAA,EAAIG,KAAA,CAAME,IAAI,EAAE;oBAEnEV,SAAA,CAAUI,GAAG,CAACK,eAAA,EAAiBD,KAAA,CAAMV,MAAM;oBAE3CF,cAAA,CAAe;wBACbC,MAAA;wBACAC,MAAA,EAAQU,KAAA,CAAMV,MAAM;wBACpBC,IAAA;wBACAC,SAAA;wBACAC,UAAA,EAAYQ;oBACd;gBACF;gBACA;YAEF,KAAK;gBACH,IAAI,CAACP,KAAA,EAAOS,MAAA,EAAQ;oBAClB,MAAM,oKAAIjB,qBAAA,CAAkBQ,KAAA,EAAO,8HAAA;;gBACrC;gBACA,IAAI,OAAOA,KAAA,CAAMS,MAAM,KAAK,YAAY;oBACtC,MAAM,IAAIC,KAAA,CAAM;gBAClB;gBAEA,IAAI,OAAOV,KAAA,CAAMS,MAAM,CAACE,iBAAiB,KAAK,YAAY;oBACxDX,KAAA,CAAMS,MAAM,CAACE,iBAAiB,CAAC;wBAC7BhB,MAAA;wBACAK,KAAA;wBACAH,IAAA;wBACAC,SAAA;wBACAC,UAAA,EAAY,GAAGA,UAAA,CAAA,CAAA,EAAcC,KAAA,CAAMG,IAAI,EAAA;oBACzC;gBACF;gBAEA;YAEF,KAAK;gBACHH,KAAA,CAAMY,IAAI,CAACP,GAAG,EAAEQ,GAAA;oBACd,MAAMC,aAAA,GAAgBrB,gLAAAA,AAAA,EAAWoB,GAAA,IAAO,GAAGd,UAAA,CAAA,CAAA,EAAcc,GAAA,CAAIV,IAAI,EAAE,GAAGJ,UAAA;oBAEtE,uKAAIN,aAAAA,AAAA,EAAWoB,GAAA,GAAM;wBACnBf,SAAA,CAAUI,GAAG,CAACY,aAAA,EAAeD,GAAA,CAAIjB,MAAM;oBACzC;oBAEAF,cAAA,CAAe;wBACbC,MAAA;wBACAC,MAAA,EAAQiB,GAAA,CAAIjB,MAAM;wBAClBC,IAAA;wBACAC,SAAA;wBACAC,UAAA,EAAYe;oBACd;gBACF;gBACA;QACJ;IACF;AACF"}},
    {"offset": {"line": 3626, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3632, "column": 0}, "map": {"version":3,"file":"index.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/buildFieldSchemaMap/index.ts"],"sourcesContent":["import type { I18n } from '@payloadcms/translations'\nimport type { Field, SanitizedConfig } from 'payload'\n\nimport { confirmPassword, password } from 'payload/shared'\n\nimport type { FieldSchemaMap } from './types.js'\n\nimport { traverseFields } from './traverseFields.js'\n\nexport const buildFieldSchemaMap = (args: {\n  config: SanitizedConfig\n  i18n: I18n\n}): FieldSchemaMap => {\n  const { config, i18n } = args\n\n  const result: FieldSchemaMap = new Map()\n\n  config.collections.forEach((collection) => {\n    if (collection.auth && !collection.auth.disableLocalStrategy) {\n      // register schema with auth schemaPath\n      const baseAuthFields: Field[] = [\n        {\n          name: 'password',\n          type: 'text',\n          label: i18n.t('general:password'),\n          required: true,\n          validate: password,\n        },\n        {\n          name: 'confirm-password',\n          type: 'text',\n          label: i18n.t('authentication:confirmPassword'),\n          required: true,\n          validate: confirmPassword,\n        },\n      ]\n\n      result.set(`_${collection.slug}.auth`, [...collection.fields, ...baseAuthFields])\n    }\n\n    traverseFields({\n      config,\n      fields: collection.fields,\n      i18n,\n      schemaMap: result,\n      schemaPath: collection.slug,\n    })\n  })\n\n  config.globals.forEach((global) => {\n    traverseFields({\n      config,\n      fields: global.fields,\n      i18n,\n      schemaMap: result,\n      schemaPath: global.slug,\n    })\n  })\n\n  return result\n}\n"],"names":["confirmPassword","password","traverseFields","buildFieldSchemaMap","args","config","i18n","result","Map","collections","forEach","collection","auth","disableLocalStrategy","baseAuthFields","name","type","label","t","required","validate","set","slug","fields","schemaMap","schemaPath","globals","global"],"mappings":";;;AAGA,SAASA,eAAe,EAAEC,QAAQ,QAAQ;AAI1C,SAASC,cAAc,QAAQ;;;AAExB,MAAMC,mBAAA,IAAuBC,IAAA;IAIlC,MAAM,EAAEC,MAAM,EAAEC,IAAAA,EAAM,GAAGF,IAAA;IAEzB,MAAMG,MAAA,GAAyB,IAAIC,GAAA;IAEnCH,MAAA,CAAOI,WAAW,CAACC,OAAO,EAAEC,UAAA;QAC1B,IAAIA,UAAA,CAAWC,IAAI,IAAI,CAACD,UAAA,CAAWC,IAAI,CAACC,oBAAoB,EAAE;YAC5D,uCAAA;YACA,MAAMC,cAAA,GAA0B;gBAC9B;oBACEC,IAAA,EAAM;oBACNC,IAAA,EAAM;oBACNC,KAAA,EAAOX,IAAA,CAAKY,CAAC,CAAC;oBACdC,QAAA,EAAU;oBACVC,QAAA,6JAAUnB,WAAAA;gBACZ;gBACA;oBACEc,IAAA,EAAM;oBACNC,IAAA,EAAM;oBACNC,KAAA,EAAOX,IAAA,CAAKY,CAAC,CAAC;oBACdC,QAAA,EAAU;oBACVC,QAAA,6JAAUpB,kBAAAA;gBACZ;aACD;YAEDO,MAAA,CAAOc,GAAG,CAAC,CAAA,CAAA,EAAIV,UAAA,CAAWW,IAAI,CAAA,KAAA,CAAO,EAAE,C;mBAAIX,UAAA,CAAWY,MAAM,E;mBAAKT,cAAA;aAAe;QAClF;+MAEAZ,iBAAAA,AAAA,EAAe;YACbG,MAAA;YACAkB,MAAA,EAAQZ,UAAA,CAAWY,MAAM;YACzBjB,IAAA;YACAkB,SAAA,EAAWjB,MAAA;YACXkB,UAAA,EAAYd,UAAA,CAAWW,IAAAA;QACzB;IACF;IAEAjB,MAAA,CAAOqB,OAAO,CAAChB,OAAO,EAAEiB,MAAA;+MACtBzB,iBAAAA,AAAA,EAAe;YACbG,MAAA;YACAkB,MAAA,EAAQI,MAAA,CAAOJ,MAAM;YACrBjB,IAAA;YACAkB,SAAA,EAAWjB,MAAA;YACXkB,UAAA,EAAYE,MAAA,CAAOL,IAAAA;QACrB;IACF;IAEA,OAAOf,MAAA;AACT"}},
    {"offset": {"line": 3685, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3691, "column": 0}, "map": {"version":3,"file":"buildFormState.js","sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/buildFormState.ts"],"sourcesContent":["import type {\n  ClientUser,\n  DocumentPreferences,\n  Field,\n  FormState,\n  PayloadRequest,\n  TypeWithID,\n} from 'payload'\n\nimport { reduceFieldsToValues } from 'payload/shared'\n\nimport type { BuildFormStateArgs } from '../forms/buildStateFromSchema/index.js'\nimport type { FieldSchemaMap } from './buildFieldSchemaMap/types.js'\n\nimport { buildStateFromSchema } from '../forms/buildStateFromSchema/index.js'\nimport { buildFieldSchemaMap } from './buildFieldSchemaMap/index.js'\n\nlet cached = global._payload_fieldSchemaMap\n\nif (!cached) {\n  cached = global._payload_fieldSchemaMap = null\n}\n\nexport const getFieldSchemaMap = (req: PayloadRequest): FieldSchemaMap => {\n  if (cached && process.env.NODE_ENV !== 'development') {\n    return cached\n  }\n\n  cached = buildFieldSchemaMap({\n    config: req.payload.config,\n    i18n: req.i18n,\n  })\n\n  return cached\n}\n\nexport const buildFormState = async ({\n  req,\n}: {\n  req: PayloadRequest\n}): Promise<{\n  lockedState?: { isLocked: boolean; user: ClientUser | number | string }\n  state: FormState\n}> => {\n  const reqData: BuildFormStateArgs = (req.data || {}) as BuildFormStateArgs\n  const {\n    collectionSlug,\n    formState,\n    globalSlug,\n    locale,\n    operation,\n    returnLockStatus,\n    schemaPath,\n    updateLastEdited,\n  } = reqData\n\n  const incomingUserSlug = req.user?.collection\n  const adminUserSlug = req.payload.config.admin.user\n\n  // If we have a user slug, test it against the functions\n  if (incomingUserSlug) {\n    const adminAccessFunction = req.payload.collections[incomingUserSlug].config.access?.admin\n\n    // Run the admin access function from the config if it exists\n    if (adminAccessFunction) {\n      const canAccessAdmin = await adminAccessFunction({ req })\n\n      if (!canAccessAdmin) {\n        throw new Error('Unauthorized')\n      }\n      // Match the user collection to the global admin config\n    } else if (adminUserSlug !== incomingUserSlug) {\n      throw new Error('Unauthorized')\n    }\n  } else {\n    const hasUsers = await req.payload.find({\n      collection: adminUserSlug,\n      depth: 0,\n      limit: 1,\n      pagination: false,\n    })\n    // If there are users, we should not allow access because of /create-first-user\n    if (hasUsers.docs.length) {\n      throw new Error('Unauthorized')\n    }\n  }\n\n  const fieldSchemaMap = getFieldSchemaMap(req)\n\n  const id = collectionSlug ? reqData.id : undefined\n  const schemaPathSegments = schemaPath && schemaPath.split('.')\n\n  let fieldSchema: Field[]\n\n  if (schemaPathSegments && schemaPathSegments.length === 1) {\n    if (req.payload.collections[schemaPath]) {\n      fieldSchema = req.payload.collections[schemaPath].config.fields\n    } else {\n      fieldSchema = req.payload.config.globals.find((global) => global.slug === schemaPath)?.fields\n    }\n  } else if (fieldSchemaMap.has(schemaPath)) {\n    fieldSchema = fieldSchemaMap.get(schemaPath)\n  }\n\n  if (!fieldSchema) {\n    throw new Error(`Could not find field schema for given path \"${schemaPath}\"`)\n  }\n\n  let docPreferences = reqData.docPreferences\n  let data = reqData.data\n\n  const promises: {\n    data?: Promise<void>\n    preferences?: Promise<void>\n  } = {}\n\n  // If the request does not include doc preferences,\n  // we should fetch them. This is useful for DocumentInfoProvider\n  // as it reduces the amount of client-side fetches necessary\n  // when we fetch data for the Edit View\n  if (!docPreferences) {\n    let preferencesKey\n\n    if (collectionSlug && id) {\n      preferencesKey = `collection-${collectionSlug}-${id}`\n    }\n\n    if (globalSlug) {\n      preferencesKey = `global-${globalSlug}`\n    }\n\n    if (preferencesKey) {\n      const fetchPreferences = async () => {\n        const preferencesResult = (await req.payload.find({\n          collection: 'payload-preferences',\n          depth: 0,\n          limit: 1,\n          where: {\n            and: [\n              {\n                key: {\n                  equals: preferencesKey,\n                },\n              },\n              {\n                'user.relationTo': {\n                  equals: req.user.collection,\n                },\n              },\n              {\n                'user.value': {\n                  equals: req.user.id,\n                },\n              },\n            ],\n          },\n        })) as unknown as { docs: { value: DocumentPreferences }[] }\n\n        if (preferencesResult?.docs?.[0]?.value) {\n          docPreferences = preferencesResult.docs[0].value\n        }\n      }\n\n      promises.preferences = fetchPreferences()\n    }\n  }\n\n  // If there is a form state,\n  // then we can deduce data from that form state\n  if (formState) {\n    data = reduceFieldsToValues(formState, true)\n  }\n\n  // If we do not have data at this point,\n  // we can fetch it. This is useful for DocumentInfoProvider\n  // to reduce the amount of fetches required\n  if (!data) {\n    const fetchData = async () => {\n      let resolvedData: Record<string, unknown> | TypeWithID\n\n      if (collectionSlug && id) {\n        resolvedData = await req.payload.findByID({\n          id,\n          collection: collectionSlug,\n          depth: 0,\n          draft: true,\n          fallbackLocale: null,\n          locale,\n          overrideAccess: false,\n          user: req.user,\n        })\n      }\n\n      if (globalSlug && schemaPath === globalSlug) {\n        resolvedData = await req.payload.findGlobal({\n          slug: globalSlug,\n          depth: 0,\n          draft: true,\n          fallbackLocale: null,\n          locale,\n          overrideAccess: false,\n          user: req.user,\n        })\n      }\n\n      data = resolvedData\n    }\n\n    promises.data = fetchData()\n  }\n\n  if (Object.keys(promises) && Object.keys(promises).length > 0) {\n    await Promise.all(Object.values(promises))\n  }\n\n  const result = await buildStateFromSchema({\n    id,\n    collectionSlug,\n    data,\n    fieldSchema,\n    operation,\n    preferences: docPreferences || { fields: {} },\n    req,\n  })\n\n  // Maintain form state of auth / upload fields\n  if (collectionSlug && formState) {\n    if (req.payload.collections[collectionSlug]?.config?.upload && formState.file) {\n      result.file = formState.file\n    }\n  }\n\n  if (returnLockStatus && req.user && (id || globalSlug)) {\n    let lockedDocumentQuery\n\n    if (collectionSlug) {\n      lockedDocumentQuery = {\n        and: [\n          { 'document.relationTo': { equals: collectionSlug } },\n          { 'document.value': { equals: id } },\n        ],\n      }\n    } else if (globalSlug) {\n      lockedDocumentQuery = {\n        globalSlug: { equals: globalSlug },\n      }\n    }\n\n    if (lockedDocumentQuery) {\n      const lockedDocument = await req.payload.find({\n        collection: 'payload-locked-documents',\n        depth: 1,\n        limit: 1,\n        pagination: false,\n        where: lockedDocumentQuery,\n      })\n\n      if (lockedDocument.docs && lockedDocument.docs.length > 0) {\n        const lockedState = {\n          isLocked: true,\n          user: lockedDocument.docs[0]?.user?.value,\n        }\n\n        if (updateLastEdited) {\n          await req.payload.db.updateOne({\n            id: lockedDocument.docs[0].id,\n            collection: 'payload-locked-documents',\n            data: {},\n            req,\n          })\n        }\n\n        return { lockedState, state: result }\n      } else {\n        // If no lock document exists, create it\n        await req.payload.db.create({\n          collection: 'payload-locked-documents',\n          data: {\n            document: collectionSlug\n              ? {\n                  relationTo: [collectionSlug],\n                  value: id,\n                }\n              : undefined,\n            globalSlug: globalSlug ? globalSlug : undefined,\n            user: {\n              relationTo: [req.user.collection],\n              value: req.user.id,\n            },\n          },\n          req,\n        })\n\n        const lockedState = {\n          isLocked: true,\n          user: req.user,\n        }\n\n        return { lockedState, state: result }\n      }\n    }\n  }\n\n  return { state: result }\n}\n"],"names":["reduceFieldsToValues","buildStateFromSchema","buildFieldSchemaMap","cached","global","_payload_fieldSchemaMap","getFieldSchemaMap","req","process","env","NODE_ENV","config","payload","i18n","buildFormState","reqData","data","collectionSlug","formState","globalSlug","locale","operation","returnLockStatus","schemaPath","updateLastEdited","incomingUserSlug","user","collection","adminUserSlug","admin","adminAccessFunction","collections","access","canAccessAdmin","Error","hasUsers","find","depth","limit","pagination","docs","length","fieldSchemaMap","id","undefined","schemaPathSegments","split","fieldSchema","fields","globals","global1","slug","has","get","docPreferences","promises","preferencesKey","fetchPreferences","preferencesResult","where","and","key","equals","value","preferences","fetchData","resolvedData","findByID","draft","fallbackLocale","overrideAccess","findGlobal","Object","keys","Promise","all","values","result","upload","file","lockedDocumentQuery","lockedDocument","lockedState","isLocked","db","updateOne","state","create","document","relationTo"],"mappings":"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"}},
    {"offset": {"line": 3954, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3960, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/ui/src/elements/Translation/index.tsx","turbopack://[project]/node_modules/@payloadcms/ui/src/elements/withMergedProps/index.tsx","turbopack://[project]/node_modules/@payloadcms/ui/src/elements/WithServerSideProps/index.tsx","turbopack://[project]/node_modules/@payloadcms/ui/src/graphics/Icon/index.tsx","turbopack://[project]/node_modules/@payloadcms/ui/src/graphics/Logo/index.tsx","turbopack://[project]/node_modules/@payloadcms/ui/src/providers/Config/createClientConfig/getComponent.ts","turbopack://[project]/node_modules/@payloadcms/ui/src/providers/Config/createClientConfig/getCreateMappedComponent.tsx","turbopack://[project]/node_modules/@payloadcms/ui/src/providers/Config/RenderComponent.tsx","turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/api.ts","turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/findLocaleFromCode.ts","turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/formatAdminURL.ts","turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/formatDate.ts","turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/formatDocTitle.ts","turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/getFormState.ts","turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/groupNavItems.ts","turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/handleBackToDashboard.tsx","turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/handleGoBack.tsx","turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/handleTakeOver.tsx","turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/hasSavePermission.ts","turbopack://[project]/node_modules/@payloadcms/ui/src/utilities/isEditing.ts"],"sourcesContent":["import type { ClientTranslationKeys, TFunction } from '@payloadcms/translations'\n\nimport * as React from 'react'\n\nconst RecursiveTranslation: React.FC<{\n  elements?: Record<string, React.FC<{ children: React.ReactNode }>>\n  translationString: string\n}> = ({ elements, translationString }) => {\n  const regex = /(<[^>]+>.*?<\\/[^>]+>)/g\n  const sections = translationString.split(regex)\n\n  return (\n    <span>\n      {sections.map((section, index) => {\n        if (elements && section.startsWith('<') && section.endsWith('>')) {\n          const elementKey = section[1]\n          const Element = elements[elementKey]\n\n          if (Element) {\n            const regex = new RegExp(`<${elementKey}>(.*?)<\\/${elementKey}>`, 'g')\n            const children = section.replace(regex, (_, group) => group)\n\n            return (\n              <Element key={index}>\n                <RecursiveTranslation translationString={children} />\n              </Element>\n            )\n          }\n        }\n\n        return section\n      })}\n    </span>\n  )\n}\n\nexport type TranslationProps = {\n  elements?: Record<string, React.FC<{ children: React.ReactNode }>>\n  i18nKey: ClientTranslationKeys\n  t: TFunction\n  variables?: Record<string, unknown>\n}\n\nexport const Translation: React.FC<TranslationProps> = ({ elements, i18nKey, t, variables }) => {\n  const stringWithVariables = t(i18nKey, variables || {})\n\n  if (!elements) {\n    return stringWithVariables\n  }\n\n  return <RecursiveTranslation elements={elements} translationString={stringWithVariables} />\n}\n","import { isReactServerComponentOrFunction, serverProps } from 'payload/shared'\nimport React from 'react'\n\n/**\n * Creates a higher-order component (HOC) that merges predefined properties (`toMergeIntoProps`)\n * with any properties passed to the resulting component.\n *\n * Use this when you want to pre-specify some props for a component, while also allowing users to\n * pass in their own props. The HOC ensures the passed props and predefined props are combined before\n * rendering the original component.\n *\n * @example\n * const PredefinedComponent = getMergedPropsComponent({\n *   Component: OriginalComponent,\n *   toMergeIntoProps: { someExtraValue: 5 }\n * });\n * // Using <PredefinedComponent customProp=\"value\" /> will result in\n * // <OriginalComponent customProp=\"value\" someExtraValue={5} />\n *\n * @returns A higher-order component with combined properties.\n *\n * @param Component - The original component to wrap.\n * @param sanitizeServerOnlyProps - If true, server-only props will be removed from the merged props. @default true if the component is not a server component, false otherwise.\n * @param toMergeIntoProps - The properties to merge into the passed props.\n */\nexport function withMergedProps<ToMergeIntoProps, CompleteReturnProps>({\n  Component,\n  sanitizeServerOnlyProps,\n  toMergeIntoProps,\n}: {\n  Component: React.FC<CompleteReturnProps>\n  sanitizeServerOnlyProps?: boolean\n  toMergeIntoProps: ToMergeIntoProps\n}): React.FC<CompleteReturnProps> {\n  if (sanitizeServerOnlyProps === undefined) {\n    sanitizeServerOnlyProps = !isReactServerComponentOrFunction(Component)\n  }\n  // A wrapper around the args.Component to inject the args.toMergeArgs as props, which are merged with the passed props\n  const MergedPropsComponent: React.FC<CompleteReturnProps> = (passedProps) => {\n    const mergedProps = simpleMergeProps(passedProps, toMergeIntoProps) as CompleteReturnProps\n\n    if (sanitizeServerOnlyProps) {\n      serverProps.forEach((prop) => {\n        delete mergedProps[prop]\n      })\n    }\n\n    return <Component {...mergedProps} />\n  }\n\n  return MergedPropsComponent\n}\n\nfunction simpleMergeProps(props, toMerge) {\n  return { ...props, ...toMerge }\n}\n","import type { WithServerSidePropsComponent } from 'payload'\n\nimport { isReactServerComponentOrFunction } from 'payload/shared'\nimport React from 'react'\n\nexport const WithServerSideProps: WithServerSidePropsComponent = ({\n  Component,\n  serverOnlyProps,\n  ...rest\n}) => {\n  if (Component) {\n    const WithServerSideProps: React.FC = (passedProps) => {\n      const propsWithServerOnlyProps = {\n        ...passedProps,\n        ...(isReactServerComponentOrFunction(Component) ? (serverOnlyProps ?? {}) : {}),\n      }\n\n      return <Component {...propsWithServerOnlyProps} />\n    }\n\n    return <WithServerSideProps {...rest} />\n  }\n\n  return null\n}\n","import React from 'react'\n\nexport const PayloadIcon: React.FC<{\n  fill?: string\n}> = ({ fill: fillFromProps }) => {\n  const fill = fillFromProps || 'var(--theme-elevation-1000)'\n\n  return (\n    <svg\n      className=\"graphic-icon\"\n      height=\"100%\"\n      viewBox=\"0 0 25 25\"\n      width=\"100%\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M11.5293 0L23 6.90096V19.9978L14.3608 25V11.9032L2.88452 5.00777L11.5293 0Z\"\n        fill={fill}\n      />\n      <path d=\"M10.6559 24.2727V14.0518L2 19.0651L10.6559 24.2727Z\" fill={fill} />\n    </svg>\n  )\n}\n","import React from 'react'\n\nconst css = `\n  .graphic-logo path {\n    fill: var(--theme-elevation-1000);\n  }\n`\n\nexport const PayloadLogo: React.FC = () => (\n  <svg\n    className=\"graphic-logo\"\n    fill=\"none\"\n    height=\"50\"\n    viewBox=\"0 0 180 50\"\n    width=\"180\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <style>{css}</style>\n    <path d=\"M65.922 13.8685C71.1075 13.8685 77.0257 14.6014 77.0257 22.2185C77.0257 28.6587 71.8736 30.2243 66.0664 30.2243H62.2689V39.0961H57.2944V13.8685H65.922ZM62.2689 17.7659V26.3602H66.3773C69.4752 26.3602 71.9069 25.594 71.9069 22.2518C71.9069 18.1101 68.7424 17.7659 66.022 17.7659H62.2689Z\" />\n    <path d=\"M84.3209 39.5514C80.7344 39.5514 77.5698 37.4639 77.5698 34.0884C77.5698 29.6358 82.5443 28.3145 89.8949 27.4706V27.1264C89.8949 24.2394 88.3626 23.2623 86.3084 23.2623C84.2542 23.2623 82.7219 24.2394 82.622 26.2936H78.1361C78.4803 22.6072 81.7226 19.8867 86.4861 19.8867C91.1163 19.8867 94.7028 21.7633 94.7028 28.1035C94.7028 28.692 94.6362 31.2014 94.6362 32.9114C94.6362 35.865 94.8472 37.5416 95.1914 39.1073H90.7721C90.6278 38.5188 90.4945 37.6083 90.4279 36.7089C89.0844 38.6853 87.1412 39.5514 84.3209 39.5514ZM90.0282 30.5463C84.6651 31.1015 82.511 31.7344 82.511 33.8219C82.511 35.1766 83.588 36.298 85.7532 36.298C88.7512 36.298 90.0393 34.5547 90.0393 31.4901V30.5463H90.0282Z\" />\n    <path d=\"M97.2899 45.1921V41.5057H99.0998C100.699 41.5057 101.432 41.539 102.231 39.5514L102.442 39.0295L95.269 20.3753H100.521L104.763 33.8774L109.115 20.3753H113.99L107.139 38.541C104.951 44.3593 103.974 45.1921 99.3108 45.1921H97.2899Z\" />\n    <path d=\"M120.263 39.1073H115.456V13.8685H120.263V39.1073Z\" />\n    <path d=\"M122.406 29.7801C122.406 23.2067 126.826 19.9645 131.7 19.9645C136.575 19.9645 140.994 23.2067 140.994 29.7801C140.994 36.3535 136.575 39.5625 131.7 39.5625C126.826 39.5514 122.406 36.3535 122.406 29.7801ZM127.281 29.7801C127.281 33.6775 128.913 35.7984 131.7 35.7984C134.487 35.7984 136.119 33.6775 136.119 29.7801C136.119 25.8494 134.487 23.7286 131.7 23.7286C128.913 23.7286 127.281 25.8383 127.281 29.7801Z\" />\n    <path d=\"M149.167 39.5514C145.58 39.5514 142.416 37.4639 142.416 34.0884C142.416 29.6358 147.39 28.3145 154.741 27.4706V27.1264C154.741 24.2394 153.208 23.2623 151.154 23.2623C149.1 23.2623 147.568 24.2394 147.468 26.2936H142.982C143.326 22.6072 146.568 19.8867 151.332 19.8867C155.962 19.8867 159.549 21.7633 159.549 28.1035C159.549 28.692 159.482 31.2014 159.482 32.9114C159.482 35.865 159.693 37.5416 160.037 39.1073H155.618C155.473 38.5188 155.34 37.6083 155.274 36.7089C153.941 38.6853 151.987 39.5514 149.167 39.5514ZM154.874 30.5463C149.511 31.1015 147.357 31.7344 147.357 33.8219C147.357 35.1766 148.434 36.298 150.599 36.298C153.597 36.298 154.885 34.5547 154.885 31.4901V30.5463H154.874Z\" />\n    <path d=\"M175.06 39.1073V36.7422C173.872 38.7964 171.618 39.5625 169.664 39.5625C165.067 39.5625 161.625 35.7317 161.625 29.7468C161.625 23.8619 165 19.9645 169.664 19.9645C172.029 19.9645 174.05 21.0415 175.06 22.7848V13.8796H179.868V39.1073H175.06ZM175.238 29.7357C175.238 25.9716 173.494 23.6398 170.852 23.6398C168.242 23.6398 166.677 26.1159 166.677 29.7691C166.677 33.4222 168.242 35.865 170.852 35.865C173.494 35.865 175.238 33.5665 175.238 29.7357Z\" />\n    <path d=\"M19.1531 0L42.049 13.8019V39.9956L24.8049 50V23.8064L1.89795 10.0155L19.1531 0Z\" />\n    <path d=\"M17.4097 48.5454V28.1035L0.132324 38.1301L17.4097 48.5454Z\" />\n  </svg>\n)\n","import type { ImportMap, PayloadComponent, ResolvedComponent } from 'payload'\n\nimport { parsePayloadComponent } from 'payload/shared'\n\n/**\n * Gets the resolved React component from `PayloadComponent` from the importMap\n */\nexport const getComponent = <\n  TComponentServerProps extends object,\n  TComponentClientProps extends object,\n>({\n  identifier,\n  importMap,\n  payloadComponent,\n  silent,\n}: {\n  identifier?: string\n  importMap: ImportMap\n  payloadComponent:\n    | null\n    | PayloadComponent<TComponentServerProps, TComponentClientProps>\n    | undefined\n  silent?: boolean\n}): ResolvedComponent<TComponentServerProps, TComponentClientProps> => {\n  if (!payloadComponent) {\n    // undefined, null or false\n    return {\n      clientProps: undefined,\n      Component: undefined,\n      serverProps: undefined,\n    }\n  }\n\n  const { exportName, path } = parsePayloadComponent(payloadComponent)\n\n  const key = path + '#' + exportName\n\n  const Component = importMap[key]\n\n  if (!Component && !silent) {\n    console.error(\n      `getComponent: Component not found in importMap`,\n      {\n        identifier,\n        key,\n        payloadComponent,\n      },\n      'You may need to run the `payload generate:importmap` command to generate the importMap ahead of runtime.',\n    )\n  }\n\n  return {\n    clientProps:\n      typeof payloadComponent === 'object'\n        ? (payloadComponent.clientProps as TComponentClientProps)\n        : undefined,\n    Component,\n    serverProps:\n      typeof payloadComponent === 'object'\n        ? (payloadComponent.serverProps as TComponentServerProps)\n        : undefined,\n  }\n}\n","import type { I18nClient } from '@payloadcms/translations'\nimport type {\n  CreateMappedComponent,\n  ImportMap,\n  JsonObject,\n  MappedComponent,\n  Payload,\n  PayloadComponent,\n} from 'payload'\n\nimport { isReactServerComponentOrFunction } from 'payload/shared'\nimport React from 'react'\n\nimport { getComponent } from './getComponent.js'\n\nexport function getCreateMappedComponent({\n  importMap,\n  serverProps,\n}: {\n  importMap: ImportMap\n  serverProps: {\n    [key: string]: any\n    i18n?: I18nClient\n    payload?: Payload\n  }\n}): CreateMappedComponent {\n  const createSingleMappedComponent = (\n    payloadComponent: { ReactComponent: React.FC<any> } | PayloadComponent,\n    key: number | string,\n    props: {\n      clientProps: JsonObject\n      serverProps: object\n    },\n    Fallback: React.FC<any>,\n    identifier: string,\n  ): MappedComponent => {\n    const { clientProps, serverProps: componentServerProps } = props || {}\n\n    if (payloadComponent === undefined || payloadComponent === null) {\n      if (!Fallback) {\n        return undefined\n      }\n\n      if (isReactServerComponentOrFunction(Fallback)) {\n        return {\n          type: 'server',\n          Component: null,\n          RenderedComponent: (\n            <Fallback key={key} {...serverProps} {...componentServerProps} {...clientProps} />\n          ),\n        }\n      } else {\n        const toReturn: MappedComponent = {\n          type: 'client',\n          Component: Fallback,\n        }\n\n        // conditionally set props here to avoid bloating the HTML with `$undefined` props\n        if (clientProps) {\n          toReturn.props = clientProps\n        }\n\n        return toReturn\n      }\n    }\n\n    if (payloadComponent === false) {\n      return {\n        type: 'empty',\n      }\n    }\n\n    const resolvedComponent =\n      payloadComponent &&\n      typeof payloadComponent === 'object' &&\n      'ReactComponent' in payloadComponent\n        ? {\n            Component: payloadComponent.ReactComponent,\n          }\n        : getComponent({\n            identifier,\n            importMap,\n            payloadComponent: payloadComponent as any,\n          })\n\n    if (!resolvedComponent.Component) {\n      console.error(`getCreateMappedComponent: Component not found in importMap`, {\n        identifier,\n        key,\n      })\n    }\n\n    if (isReactServerComponentOrFunction(resolvedComponent.Component)) {\n      const Component: React.FC<any> = resolvedComponent.Component\n\n      return {\n        type: 'server',\n        Component: null,\n        RenderedComponent: (\n          <Component\n            key={key}\n            {...serverProps}\n            {...resolvedComponent.serverProps}\n            {...componentServerProps}\n            {...clientProps}\n          />\n        ),\n      }\n    } else {\n      if (!resolvedComponent.Component) {\n        return undefined\n      }\n\n      return {\n        type: 'client',\n        Component: resolvedComponent.Component,\n        props: {\n          ...(resolvedComponent.clientProps || {}),\n          ...clientProps,\n        },\n      }\n    }\n  }\n\n  const createMappedComponent: CreateMappedComponent = (\n    payloadComponent,\n    props,\n    fallback,\n    identifier,\n  ) => {\n    if ((payloadComponent === undefined || payloadComponent === null) && !fallback) {\n      return undefined as any\n    }\n\n    if (payloadComponent && Array.isArray(payloadComponent)) {\n      const mappedComponents: MappedComponent[] = []\n      for (let i = 0; i < payloadComponent.length; i++) {\n        const component = createSingleMappedComponent(\n          payloadComponent[i],\n          i,\n          props,\n          fallback,\n          identifier,\n        )\n        mappedComponents.push(component)\n      }\n      return mappedComponents as any\n    } else {\n      return createSingleMappedComponent(\n        payloadComponent,\n        undefined,\n        props,\n        fallback,\n        identifier,\n      ) as any\n    }\n  }\n\n  return createMappedComponent\n}\n","import type { MappedComponent } from 'payload'\n\nimport { isReactServerComponentOrFunction } from 'payload/shared'\nimport React from 'react'\n\n/**\n * Can be used to render both MappedComponents and React Components.\n */\nexport const RenderComponent: React.FC<{\n  readonly clientProps?: object\n  readonly Component?: React.ComponentType | React.ComponentType[]\n  readonly mappedComponent?: MappedComponent | MappedComponent[]\n  readonly serverProps?: object\n}> = ({ clientProps = {}, Component, mappedComponent, serverProps }) => {\n  if (!mappedComponent && Component) {\n    if (Array.isArray(Component)) {\n      return Component.map((c, index) => (\n        <RenderComponent\n          clientProps={clientProps}\n          Component={c}\n          key={index}\n          serverProps={serverProps}\n        />\n      ))\n    }\n\n    const mappedComponent: MappedComponent = isReactServerComponentOrFunction(Component)\n      ? {\n          type: 'server',\n          Component,\n          RenderedComponent: null,\n        }\n      : {\n          type: 'client',\n          Component,\n        }\n\n    return (\n      <RenderComponent\n        clientProps={clientProps}\n        mappedComponent={mappedComponent}\n        serverProps={serverProps}\n      />\n    )\n  }\n  if (!mappedComponent) {\n    return null\n  }\n\n  if (Array.isArray(mappedComponent)) {\n    return mappedComponent.map((c, index) => (\n      <RenderComponent\n        clientProps={clientProps}\n        key={index}\n        mappedComponent={c}\n        serverProps={serverProps}\n      />\n    ))\n  }\n\n  if (mappedComponent.type === 'empty') {\n    return null\n  }\n\n  if (mappedComponent.RenderedComponent) {\n    return mappedComponent.RenderedComponent\n  }\n\n  if (!mappedComponent.Component) {\n    return null\n  }\n\n  if (mappedComponent.type === 'server') {\n    if (mappedComponent.props) {\n      return (\n        <mappedComponent.Component {...mappedComponent.props} {...serverProps} {...clientProps} />\n      )\n    }\n\n    return <mappedComponent.Component {...serverProps} {...clientProps} />\n  }\n\n  if (mappedComponent.props) {\n    return <mappedComponent.Component {...mappedComponent.props} {...clientProps} />\n  }\n\n  return <mappedComponent.Component {...clientProps} />\n}\n","import * as qs from 'qs-esm'\n\ntype GetOptions = {\n  params?: Record<string, unknown>\n} & RequestInit\n\nexport const requests = {\n  delete: (url: string, options: RequestInit = { headers: {} }): Promise<Response> => {\n    const headers = options && options.headers ? { ...options.headers } : {}\n\n    const formattedOptions: RequestInit = {\n      ...options,\n      credentials: 'include',\n      headers: {\n        ...headers,\n      },\n      method: 'delete',\n    }\n\n    return fetch(url, formattedOptions)\n  },\n\n  get: (url: string, options: GetOptions = { headers: {} }): Promise<Response> => {\n    let query = ''\n    if (options.params) {\n      query = qs.stringify(options.params, { addQueryPrefix: true })\n    }\n    return fetch(`${url}${query}`, {\n      credentials: 'include',\n      ...options,\n    })\n  },\n\n  patch: (url: string, options: RequestInit = { headers: {} }): Promise<Response> => {\n    const headers = options && options.headers ? { ...options.headers } : {}\n\n    const formattedOptions: RequestInit = {\n      ...options,\n      credentials: 'include',\n      headers: {\n        ...headers,\n      },\n      method: 'PATCH',\n    }\n\n    return fetch(url, formattedOptions)\n  },\n\n  post: (url: string, options: RequestInit = { headers: {} }): Promise<Response> => {\n    const headers = options && options.headers ? { ...options.headers } : {}\n\n    const formattedOptions: RequestInit = {\n      ...options,\n      credentials: 'include',\n      headers: {\n        ...headers,\n      },\n      method: 'post',\n    }\n\n    return fetch(`${url}`, formattedOptions)\n  },\n\n  put: (url: string, options: RequestInit = { headers: {} }): Promise<Response> => {\n    const headers = options && options.headers ? { ...options.headers } : {}\n\n    const formattedOptions: RequestInit = {\n      ...options,\n      credentials: 'include',\n      headers: {\n        ...headers,\n      },\n      method: 'put',\n    }\n\n    return fetch(url, formattedOptions)\n  },\n}\n","import type { Locale, SanitizedLocalizationConfig } from 'payload'\n/*\n return the Locale for given locale code, else return null\n*/\nexport const findLocaleFromCode = (\n  localizationConfig: SanitizedLocalizationConfig,\n  locale: string,\n): Locale | null => {\n  if (!localizationConfig?.locales || localizationConfig.locales.length === 0) {\n    return null\n  }\n\n  return localizationConfig.locales.find((el) => el?.code === locale)\n}\n","import type { Config } from 'payload'\n\n/** Will read the `routes.admin` config and appropriately handle `\"/\"` admin paths */\nexport const formatAdminURL = (args: {\n  adminRoute: Config['routes']['admin']\n  basePath?: string\n  path: string\n  serverURL?: Config['serverURL']\n}): string => {\n  const { adminRoute, basePath = '', path, serverURL } = args\n\n  if (adminRoute) {\n    if (adminRoute === '/') {\n      if (!path) {\n        return `${serverURL || ''}${basePath}${adminRoute}`\n      }\n    } else {\n      return `${serverURL || ''}${basePath}${adminRoute}${path}`\n    }\n  }\n\n  return `${serverURL || ''}${basePath}${path}`\n}\n","import type { I18n } from '@payloadcms/translations'\n\nimport { format, formatDistanceToNow } from 'date-fns'\n\ntype FormatDateArgs = {\n  date: Date | number | string | undefined\n  i18n: I18n<any, any>\n  pattern: string\n}\n\nexport const formatDate = ({ date, i18n, pattern }: FormatDateArgs): string => {\n  const theDate = new Date(date)\n  return format(theDate, pattern, { locale: i18n.dateFNS })\n}\n\ntype FormatTimeToNowArgs = {\n  date: Date | number | string | undefined\n  i18n: I18n<any, any>\n}\n\nexport const formatTimeToNow = ({ date, i18n }: FormatTimeToNowArgs): string => {\n  const theDate = new Date(date)\n  return formatDistanceToNow(theDate, { locale: i18n.dateFNS })\n}\n","import type { I18n } from '@payloadcms/translations'\nimport type {\n  ClientCollectionConfig,\n  ClientGlobalConfig,\n  SanitizedConfig,\n  TypeWithID,\n} from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport { formatDate } from '../utilities/formatDate.js'\n\nexport const formatDocTitle = ({\n  collectionConfig,\n  data,\n  dateFormat: dateFormatFromConfig,\n  fallback,\n  globalConfig,\n  i18n,\n}: {\n  collectionConfig?: ClientCollectionConfig\n  data: TypeWithID\n  dateFormat: SanitizedConfig['admin']['dateFormat']\n  fallback?: string\n  globalConfig?: ClientGlobalConfig\n  i18n: I18n<any, any>\n}): string => {\n  let title: string\n\n  if (collectionConfig) {\n    const useAsTitle = collectionConfig?.admin?.useAsTitle\n\n    if (useAsTitle) {\n      title = data?.[useAsTitle] || title\n\n      if (title) {\n        const fieldConfig = collectionConfig.fields.find(\n          (f) => 'name' in f && f.name === useAsTitle,\n        )\n\n        const isDate = fieldConfig?.type === 'date'\n\n        if (isDate) {\n          const dateFormat =\n            ('date' in fieldConfig.admin && fieldConfig?.admin?.date?.displayFormat) ||\n            dateFormatFromConfig\n          title = formatDate({ date: title, i18n, pattern: dateFormat }) || title\n        }\n      }\n    }\n  }\n\n  if (globalConfig) {\n    title = getTranslation(globalConfig?.label, i18n) || globalConfig?.slug\n  }\n\n  if (!title) {\n    title = fallback || `[${i18n.t('general:untitled')}]`\n  }\n\n  return title\n}\n","import type { ClientUser, FormState, SanitizedConfig } from 'payload'\n\nimport type { BuildFormStateArgs } from '../forms/buildStateFromSchema/index.js'\n\nexport const getFormState = async (args: {\n  apiRoute: SanitizedConfig['routes']['api']\n  body: BuildFormStateArgs\n  onError?: (data?: any) => Promise<void> | void\n  serverURL: SanitizedConfig['serverURL']\n  signal?: AbortSignal\n  token?: string\n}): Promise<{ lockedState?: { isLocked: boolean; user: ClientUser }; state: FormState }> => {\n  const { apiRoute, body, onError, serverURL, signal, token } = args\n\n  const res = await fetch(`${serverURL}${apiRoute}/form-state`, {\n    body: JSON.stringify(body),\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json',\n      ...(token ? { Authorization: `JWT ${token}` } : {}),\n    },\n    method: 'POST',\n    signal,\n  })\n\n  const json = (await res.json()) as {\n    lockedState?: { isLocked: boolean; user: ClientUser }\n    state: FormState\n  }\n\n  if (res.ok) {\n    return json\n  } else {\n    if (typeof onError === 'function') {\n      void onError(json)\n    }\n  }\n\n  return { state: body?.formState }\n}\n","import type { I18nClient } from '@payloadcms/translations'\nimport type {\n  ClientCollectionConfig,\n  ClientGlobalConfig,\n  Permissions,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n} from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nexport enum EntityType {\n  collection = 'collections',\n  global = 'globals',\n}\n\nexport type EntityToGroup =\n  | {\n      entity: ClientCollectionConfig | SanitizedCollectionConfig\n      type: EntityType.collection\n    }\n  | {\n      entity: ClientGlobalConfig | SanitizedGlobalConfig\n      type: EntityType.global\n    }\n\nexport type Group = {\n  entities: EntityToGroup[]\n  label: string\n}\n\nexport function groupNavItems(\n  entities: EntityToGroup[],\n  permissions: Permissions,\n  i18n: I18nClient,\n): Group[] {\n  const result = entities.reduce(\n    (groups, entityToGroup) => {\n      if (\n        permissions?.[entityToGroup.type.toLowerCase()]?.[entityToGroup.entity.slug]?.read\n          .permission\n      ) {\n        const translatedGroup = getTranslation(entityToGroup.entity.admin.group, i18n)\n        if (entityToGroup.entity.admin.group) {\n          const existingGroup = groups.find(\n            (group) => getTranslation(group.label, i18n) === translatedGroup,\n          ) as Group\n          let matchedGroup: Group = existingGroup\n          if (!existingGroup) {\n            matchedGroup = { entities: [], label: translatedGroup }\n            groups.push(matchedGroup)\n          }\n\n          matchedGroup.entities.push(entityToGroup)\n        } else {\n          const defaultGroup = groups.find((group) => {\n            return getTranslation(group.label, i18n) === i18n.t(`general:${entityToGroup.type}`)\n          }) as Group\n          defaultGroup.entities.push(entityToGroup)\n        }\n      }\n\n      return groups\n    },\n    [\n      {\n        entities: [],\n        label: i18n.t('general:collections'),\n      },\n      {\n        entities: [],\n        label: i18n.t('general:globals'),\n      },\n    ],\n  )\n\n  return result.filter((group) => group.entities.length > 0)\n}\n","import type { AppRouterInstance } from 'next/dist/shared/lib/app-router-context.shared-runtime.js'\n\nimport { formatAdminURL } from './formatAdminURL.js'\n\ntype BackToDashboardProps = {\n  adminRoute: string\n  router: AppRouterInstance\n}\n\nexport const handleBackToDashboard = ({ adminRoute, router }: BackToDashboardProps) => {\n  const redirectRoute = formatAdminURL({\n    adminRoute,\n    path: '/',\n  })\n  router.push(redirectRoute)\n}\n","import type { AppRouterInstance } from 'next/dist/shared/lib/app-router-context.shared-runtime.js'\n\nimport { formatAdminURL } from './formatAdminURL.js'\n\ntype GoBackProps = {\n  adminRoute: string\n  collectionSlug: string\n  router: AppRouterInstance\n}\n\nexport const handleGoBack = ({ adminRoute, collectionSlug, router }: GoBackProps) => {\n  const redirectRoute = formatAdminURL({\n    adminRoute,\n    path: collectionSlug ? `/collections/${collectionSlug}` : '/',\n  })\n  router.push(redirectRoute)\n}\n","import type { ClientUser } from 'payload'\n\nexport const handleTakeOver = (\n  id: number | string,\n  collectionSlug: string,\n  globalSlug: string,\n  user: ClientUser,\n  isWithinDoc: boolean,\n  updateDocumentEditor: (docId: number | string, slug: string, user: ClientUser) => Promise<void>,\n  setCurrentEditor: (value: React.SetStateAction<ClientUser>) => void,\n  documentLockStateRef: React.RefObject<{\n    hasShownLockedModal: boolean\n    isLocked: boolean\n    user: ClientUser\n  }>,\n  isLockingEnabled: boolean,\n  setIsReadOnlyForIncomingUser?: (value: React.SetStateAction<boolean>) => void,\n): void => {\n  if (!isLockingEnabled) {\n    return\n  }\n\n  try {\n    // Call updateDocumentEditor to update the document's owner to the current user\n    void updateDocumentEditor(id, collectionSlug ?? globalSlug, user)\n\n    if (!isWithinDoc) {\n      documentLockStateRef.current.hasShownLockedModal = true\n    }\n\n    // Update the locked state to reflect the current user as the owner\n    documentLockStateRef.current = {\n      hasShownLockedModal: documentLockStateRef.current?.hasShownLockedModal,\n      isLocked: true,\n      user,\n    }\n    setCurrentEditor(user)\n\n    // If this is a takeover within the document, ensure the document is editable\n    if (isWithinDoc && setIsReadOnlyForIncomingUser) {\n      setIsReadOnlyForIncomingUser(false)\n    }\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error('Error during document takeover:', error)\n  }\n}\n","import type { CollectionPermission, DocumentPermissions, GlobalPermission } from 'payload'\n\nexport const hasSavePermission = (args: {\n  /*\n   * Pass either `collectionSlug` or `globalSlug`\n   */\n  collectionSlug?: string\n  docPermissions: DocumentPermissions\n  /*\n   * Pass either `collectionSlug` or `globalSlug`\n   */\n  globalSlug?: string\n  isEditing: boolean\n}) => {\n  const { collectionSlug, docPermissions, globalSlug, isEditing } = args\n\n  if (collectionSlug) {\n    return Boolean(\n      (isEditing && docPermissions?.update?.permission) ||\n        (!isEditing && (docPermissions as CollectionPermission)?.create?.permission),\n    )\n  }\n\n  if (globalSlug) {\n    return Boolean((docPermissions as GlobalPermission)?.update?.permission)\n  }\n\n  return false\n}\n","export const isEditing = ({\n  id,\n  collectionSlug,\n  globalSlug,\n}: {\n  collectionSlug?: string\n  globalSlug?: string\n  id?: number | string\n}): boolean => Boolean(globalSlug || (collectionSlug && !!id))\n"],"names":["React","RecursiveTranslation","elements","translationString","regex","sections","section","index","elementKey","Element","children","_","group","Translation","i18nKey","t","variables","stringWithVariables","isReactServerComponentOrFunction","serverProps","React","withMergedProps","Component","sanitizeServerOnlyProps","toMergeIntoProps","passedProps","mergedProps","simpleMergeProps","prop","props","toMerge","isReactServerComponentOrFunction","React","WithServerSideProps","Component","serverOnlyProps","rest","passedProps","propsWithServerOnlyProps","React","PayloadIcon","fillFromProps","fill","React","css","PayloadLogo","parsePayloadComponent","getComponent","identifier","importMap","payloadComponent","silent","exportName","path","key","Component","isReactServerComponentOrFunction","React","getCreateMappedComponent","importMap","serverProps","createSingleMappedComponent","payloadComponent","key","props","Fallback","identifier","clientProps","componentServerProps","isReactServerComponentOrFunction","React","toReturn","resolvedComponent","getComponent","Component","fallback","mappedComponents","i","component","isReactServerComponentOrFunction","React","RenderComponent","clientProps","Component","mappedComponent","serverProps","c","index","qs","requests","url","options","headers","formattedOptions","query","findLocaleFromCode","localizationConfig","locale","el","formatAdminURL","args","adminRoute","basePath","path","serverURL","format","formatDistanceToNow","formatDate","date","i18n","pattern","theDate","getTranslation","formatDocTitle","collectionConfig","data","dateFormatFromConfig","fallback","globalConfig","i18n","title","useAsTitle","fieldConfig","f","dateFormat","formatDate","getTranslation","getFormState","args","apiRoute","body","onError","serverURL","signal","token","res","json","getTranslation","EntityType","groupNavItems","entities","permissions","i18n","groups","entityToGroup","translatedGroup","existingGroup","group","matchedGroup","handleBackToDashboard","adminRoute","router","redirectRoute","formatAdminURL","handleGoBack","adminRoute","collectionSlug","router","redirectRoute","formatAdminURL","handleTakeOver","id","collectionSlug","globalSlug","user","isWithinDoc","updateDocumentEditor","setCurrentEditor","documentLockStateRef","isLockingEnabled","setIsReadOnlyForIncomingUser","error","hasSavePermission","args","collectionSlug","docPermissions","globalSlug","isEditing","isEditing","id","collectionSlug","globalSlug"],"mappings":"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"}},
    {"offset": {"line": 4409, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4415, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/node_modules/@payloadcms/richtext-lexical/node_modules/@lexical/react/LexicalDecoratorBlockNode.dev.mjs"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport { DecoratorNode } from 'lexical';\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nclass DecoratorBlockNode extends DecoratorNode {\n  constructor(format, key) {\n    super(key);\n    this.__format = format || '';\n  }\n  exportJSON() {\n    return {\n      format: this.__format || '',\n      type: 'decorator-block',\n      version: 1\n    };\n  }\n  canIndent() {\n    return false;\n  }\n  createDOM() {\n    return document.createElement('div');\n  }\n  updateDOM() {\n    return false;\n  }\n  setFormat(format) {\n    const self = this.getWritable();\n    self.__format = format;\n  }\n  isInline() {\n    return false;\n  }\n}\nfunction $isDecoratorBlockNode(node) {\n  return node instanceof DecoratorBlockNode;\n}\n\nexport { $isDecoratorBlockNode, DecoratorBlockNode };\n"],"names":[],"mappings":"AAAA;;;;;;CAMC;;;;AAED;;AAEA;;;;;;CAMC,GAED,MAAM,2BAA2B,4IAAA,CAAA,gBAAa;IAC5C,YAAY,MAAM,EAAE,GAAG,CAAE;QACvB,KAAK,CAAC;QACN,IAAI,CAAC,QAAQ,GAAG,UAAU;IAC5B;IACA,aAAa;QACX,OAAO;YACL,QAAQ,IAAI,CAAC,QAAQ,IAAI;YACzB,MAAM;YACN,SAAS;QACX;IACF;IACA,YAAY;QACV,OAAO;IACT;IACA,YAAY;QACV,OAAO,SAAS,aAAa,CAAC;IAChC;IACA,YAAY;QACV,OAAO;IACT;IACA,UAAU,MAAM,EAAE;QAChB,MAAM,OAAO,IAAI,CAAC,WAAW;QAC7B,KAAK,QAAQ,GAAG;IAClB;IACA,WAAW;QACT,OAAO;IACT;AACF;AACA,SAAS,sBAAsB,IAAI;IACjC,OAAO,gBAAgB;AACzB"}},
    {"offset": {"line": 4466, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}